{"version":3,"file":"52.1f42bf93f919abed.js","mappings":"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","sources":["./apps/browser/src/app/components/ipfs/ipfs.component.ts","./apps/browser/src/app/components/ipfs/ipfs.component.html","./node_modules/canvas-confetti/dist/confetti.module.mjs"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, Inject, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeUrl } from '@angular/platform-browser';\nimport { ActivatedRoute } from '@angular/router';\nimport { IIPFSService } from '@hexa/interfaces';\nimport { getInjectionToken, TOKENS_NAME } from '@hexa/token-injection';\nimport { IonicModule, ToastController } from '@ionic/angular';\nimport { BehaviorSubject } from 'rxjs';\nimport * as confetti from 'canvas-confetti';\n\n@Component({\n  standalone: true,\n  selector: 'hexa-ipfs',\n  templateUrl: './ipfs.component.html',\n  styleUrls: ['./ipfs.component.scss'],\n  imports: [CommonModule, IonicModule],\n})\nexport class IpfsComponent implements OnInit {\n  @ViewChild('canvas', {static: false, read: ElementRef}) canvas!: ElementRef<HTMLCanvasElement>;\n  cid$: BehaviorSubject<string> = new BehaviorSubject<string>(undefined as any);\n  ext$: BehaviorSubject<string> = new BehaviorSubject<string>(undefined as any);\n  fileUrl$: BehaviorSubject<SafeHtml | SafeUrl> = new BehaviorSubject<SafeHtml | SafeUrl>(\n    undefined as any\n  );\n\n  constructor(\n    private readonly _route: ActivatedRoute,\n    protected readonly sanitizer: DomSanitizer,\n    private readonly renderer2: Renderer2,\n    private readonly _toastCtrl: ToastController,\n    @Inject(getInjectionToken(TOKENS_NAME.APP_IPFS_SERVICE))\n    private readonly _fileService: IIPFSService\n  ) {}\n\n  async ngOnInit() {\n    const cidParam = this._route.snapshot.paramMap.get('cid');\n    if (!cidParam) {\n      throw new Error('CID not found. Unable to download file.');\n    }\n    const [cid, ext] = cidParam.split('.');\n    this.cid$.next(cid);\n    if (ext) {\n      this.ext$.next(ext);\n    }\n    // get file from ipfs\n    const file = await this._fileService.getFromCID(cid);\n    if (!file) {\n      throw new Error('File not found');\n    }\n    // create local url to download file\n    const url = URL.createObjectURL(file);\n    const safeUrl = this._safeUrl(url, 'url');\n    this.fileUrl$.next(safeUrl);\n  }\n\n  async downloadFile() {\n    if (!this.fileUrl$.value) {\n      throw new Error('File not found');\n    }\n    // get file from ipfs\n    console.log('[INFO] Creating download link...');\n    // get file from ipfs\n    const file = await this._fileService.getFromCID(this.cid$.value);\n    if (!file) {\n      throw new Error('File not found');\n    }\n    // create local url to download file\n    const url = URL.createObjectURL(file);\n    // download file from browser\n    const link = document.createElement('a');\n    const ext = this.ext$.value ? '.' + this.ext$.value : ''\n    link.href = url;\n    link.download = this.cid$.value  + ext;\n    link.click();\n    // show toast\n    const toast = await this._toastCtrl.create({\n      message: 'File is downloading...',\n      duration: 5000,\n      position: 'bottom',\n      color: 'primary',\n      buttons: [\n        { text: 'ok', role: 'cancel', handler: () => {\n          toast.dismiss();\n        } }, \n      ],\n    });\n    await toast.present();\n    // display confetti\n    await this._confetti();\n  }\n\n  private _safeUrl(value: any, type: string): SafeHtml | SafeUrl {\n    switch (type) {\n\t\t\tcase 'html': return this.sanitizer.bypassSecurityTrustHtml(value);\n\t\t\tcase 'style': return this.sanitizer.bypassSecurityTrustStyle(value);\n\t\t\tcase 'script': return this.sanitizer.bypassSecurityTrustScript(value);\n\t\t\tcase 'url': return this.sanitizer.bypassSecurityTrustUrl(value);\n\t\t\tcase 'resourceUrl': return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n\t\t\tdefault: throw new Error(`Invalid safe type specified: ${type}`);\n\t\t}\n  }\n\n  private async _confetti() {\n    this.renderer2.setStyle(this.canvas.nativeElement, 'display', 'block');\n    const myConfetti = confetti.create(this.canvas.nativeElement, {\n      resize: true,\n      useWorker: true,\n    });\n    await myConfetti();\n    this.renderer2.setStyle(this.canvas.nativeElement, 'display', 'none');\n  }\n}\n","<ion-content [fullscreen]=\"true\" class=\"ion-no-padding\">\n  <ion-grid class=\"ion-no-padding\" *ngIf=\"fileUrl$.value as url\">\n    <ion-row\n      class=\"ion-align-items-center ion-justify-content-center ion-no-padding\"\n    >\n      <ion-col\n        size-sm=\"12\"\n        size-md=\"8\"\n        size-lg=\"4\"\n        class=\"ion-text-center preview ion-no-padding\"\n      >\n        <a href=\"/\">\n          <ion-img\n            class=\"logo\"\n            src=\"./assets/images/logo-colored.svg\"\n          ></ion-img>\n        </a>\n        <ion-card>\n          <ion-card-header>\n            <ion-card-title>IPFS hosting</ion-card-title>\n            <p>\n              This file is hosted on IPFS and can be accessed by anyone with the\n              link. You can download the file by clicking the button below.\n            </p>\n          </ion-card-header>\n          <ion-card-content>\n            <ion-item lines=\"none\">\n              <ion-icon slot=\"start\" name=\"document-outline\"></ion-icon>\n              <ion-label class=\"ion-text-wrap\">\n                <h2>{{ cid$.value + '.' + ext$.value }}</h2>\n              </ion-label>\n            </ion-item>\n            <ion-button\n              fill=\"solid\"\n              class=\"ion-margin-top\"\n              (click)=\"downloadFile()\"\n              >Download</ion-button\n            >\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n  <div class=\"footer\">\n    <p>\n      Build with <span>❤️</span> by\n      <a\n        href=\"https://github.com/hexaonelabs\"\n        target=\"_blank\"\n        rel=\"noopener\"\n        >HEXA ONE Labs</a\n      > team. Powered by\n      <a href=\"https://ipfs.io\" target=\"_blank\" rel=\"noopener\">\n        <ion-icon\n          src=\"./assets/images/logo-ipfs.svg\"\n        ></ion-icon>\n        IPFS\n      </a> &\n      <a href=\"http://filecoin.io\" target=\"_blank\" rel=\"noopener\"\n        ><ion-icon\n          src=\"./assets/images/logo-filecoin.svg\"\n        ></ion-icon>\n        Filecoin</a\n      >\n    </p>\n  </div>\n  <canvas #canvas></canvas>\n</ion-content>\n","// canvas-confetti v1.6.0 built on 2022-10-24T21:26:41.619Z\nvar module = {};\n\n// source content\n(function main(global, module, isWorker, workerSize) {\n  var canUseWorker = !!(\n    global.Worker &&\n    global.Blob &&\n    global.Promise &&\n    global.OffscreenCanvas &&\n    global.OffscreenCanvasRenderingContext2D &&\n    global.HTMLCanvasElement &&\n    global.HTMLCanvasElement.prototype.transferControlToOffscreen &&\n    global.URL &&\n    global.URL.createObjectURL);\n\n  function noop() {}\n\n  // create a promise if it exists, otherwise, just\n  // call the function directly\n  function promise(func) {\n    var ModulePromise = module.exports.Promise;\n    var Prom = ModulePromise !== void 0 ? ModulePromise : global.Promise;\n\n    if (typeof Prom === 'function') {\n      return new Prom(func);\n    }\n\n    func(noop, noop);\n\n    return null;\n  }\n\n  var raf = (function () {\n    var TIME = Math.floor(1000 / 60);\n    var frame, cancel;\n    var frames = {};\n    var lastFrameTime = 0;\n\n    if (typeof requestAnimationFrame === 'function' && typeof cancelAnimationFrame === 'function') {\n      frame = function (cb) {\n        var id = Math.random();\n\n        frames[id] = requestAnimationFrame(function onFrame(time) {\n          if (lastFrameTime === time || lastFrameTime + TIME - 1 < time) {\n            lastFrameTime = time;\n            delete frames[id];\n\n            cb();\n          } else {\n            frames[id] = requestAnimationFrame(onFrame);\n          }\n        });\n\n        return id;\n      };\n      cancel = function (id) {\n        if (frames[id]) {\n          cancelAnimationFrame(frames[id]);\n        }\n      };\n    } else {\n      frame = function (cb) {\n        return setTimeout(cb, TIME);\n      };\n      cancel = function (timer) {\n        return clearTimeout(timer);\n      };\n    }\n\n    return { frame: frame, cancel: cancel };\n  }());\n\n  var getWorker = (function () {\n    var worker;\n    var prom;\n    var resolves = {};\n\n    function decorate(worker) {\n      function execute(options, callback) {\n        worker.postMessage({ options: options || {}, callback: callback });\n      }\n      worker.init = function initWorker(canvas) {\n        var offscreen = canvas.transferControlToOffscreen();\n        worker.postMessage({ canvas: offscreen }, [offscreen]);\n      };\n\n      worker.fire = function fireWorker(options, size, done) {\n        if (prom) {\n          execute(options, null);\n          return prom;\n        }\n\n        var id = Math.random().toString(36).slice(2);\n\n        prom = promise(function (resolve) {\n          function workerDone(msg) {\n            if (msg.data.callback !== id) {\n              return;\n            }\n\n            delete resolves[id];\n            worker.removeEventListener('message', workerDone);\n\n            prom = null;\n            done();\n            resolve();\n          }\n\n          worker.addEventListener('message', workerDone);\n          execute(options, id);\n\n          resolves[id] = workerDone.bind(null, { data: { callback: id }});\n        });\n\n        return prom;\n      };\n\n      worker.reset = function resetWorker() {\n        worker.postMessage({ reset: true });\n\n        for (var id in resolves) {\n          resolves[id]();\n          delete resolves[id];\n        }\n      };\n    }\n\n    return function () {\n      if (worker) {\n        return worker;\n      }\n\n      if (!isWorker && canUseWorker) {\n        var code = [\n          'var CONFETTI, SIZE = {}, module = {};',\n          '(' + main.toString() + ')(this, module, true, SIZE);',\n          'onmessage = function(msg) {',\n          '  if (msg.data.options) {',\n          '    CONFETTI(msg.data.options).then(function () {',\n          '      if (msg.data.callback) {',\n          '        postMessage({ callback: msg.data.callback });',\n          '      }',\n          '    });',\n          '  } else if (msg.data.reset) {',\n          '    CONFETTI && CONFETTI.reset();',\n          '  } else if (msg.data.resize) {',\n          '    SIZE.width = msg.data.resize.width;',\n          '    SIZE.height = msg.data.resize.height;',\n          '  } else if (msg.data.canvas) {',\n          '    SIZE.width = msg.data.canvas.width;',\n          '    SIZE.height = msg.data.canvas.height;',\n          '    CONFETTI = module.exports.create(msg.data.canvas);',\n          '  }',\n          '}',\n        ].join('\\n');\n        try {\n          worker = new Worker(URL.createObjectURL(new Blob([code])));\n        } catch (e) {\n          // eslint-disable-next-line no-console\n          typeof console !== undefined && typeof console.warn === 'function' ? console.warn('🎊 Could not load worker', e) : null;\n\n          return null;\n        }\n\n        decorate(worker);\n      }\n\n      return worker;\n    };\n  })();\n\n  var defaults = {\n    particleCount: 50,\n    angle: 90,\n    spread: 45,\n    startVelocity: 45,\n    decay: 0.9,\n    gravity: 1,\n    drift: 0,\n    ticks: 200,\n    x: 0.5,\n    y: 0.5,\n    shapes: ['square', 'circle'],\n    zIndex: 100,\n    colors: [\n      '#26ccff',\n      '#a25afd',\n      '#ff5e7e',\n      '#88ff5a',\n      '#fcff42',\n      '#ffa62d',\n      '#ff36ff'\n    ],\n    // probably should be true, but back-compat\n    disableForReducedMotion: false,\n    scalar: 1\n  };\n\n  function convert(val, transform) {\n    return transform ? transform(val) : val;\n  }\n\n  function isOk(val) {\n    return !(val === null || val === undefined);\n  }\n\n  function prop(options, name, transform) {\n    return convert(\n      options && isOk(options[name]) ? options[name] : defaults[name],\n      transform\n    );\n  }\n\n  function onlyPositiveInt(number){\n    return number < 0 ? 0 : Math.floor(number);\n  }\n\n  function randomInt(min, max) {\n    // [min, max)\n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n\n  function toDecimal(str) {\n    return parseInt(str, 16);\n  }\n\n  function colorsToRgb(colors) {\n    return colors.map(hexToRgb);\n  }\n\n  function hexToRgb(str) {\n    var val = String(str).replace(/[^0-9a-f]/gi, '');\n\n    if (val.length < 6) {\n        val = val[0]+val[0]+val[1]+val[1]+val[2]+val[2];\n    }\n\n    return {\n      r: toDecimal(val.substring(0,2)),\n      g: toDecimal(val.substring(2,4)),\n      b: toDecimal(val.substring(4,6))\n    };\n  }\n\n  function getOrigin(options) {\n    var origin = prop(options, 'origin', Object);\n    origin.x = prop(origin, 'x', Number);\n    origin.y = prop(origin, 'y', Number);\n\n    return origin;\n  }\n\n  function setCanvasWindowSize(canvas) {\n    canvas.width = document.documentElement.clientWidth;\n    canvas.height = document.documentElement.clientHeight;\n  }\n\n  function setCanvasRectSize(canvas) {\n    var rect = canvas.getBoundingClientRect();\n    canvas.width = rect.width;\n    canvas.height = rect.height;\n  }\n\n  function getCanvas(zIndex) {\n    var canvas = document.createElement('canvas');\n\n    canvas.style.position = 'fixed';\n    canvas.style.top = '0px';\n    canvas.style.left = '0px';\n    canvas.style.pointerEvents = 'none';\n    canvas.style.zIndex = zIndex;\n\n    return canvas;\n  }\n\n  function ellipse(context, x, y, radiusX, radiusY, rotation, startAngle, endAngle, antiClockwise) {\n    context.save();\n    context.translate(x, y);\n    context.rotate(rotation);\n    context.scale(radiusX, radiusY);\n    context.arc(0, 0, 1, startAngle, endAngle, antiClockwise);\n    context.restore();\n  }\n\n  function randomPhysics(opts) {\n    var radAngle = opts.angle * (Math.PI / 180);\n    var radSpread = opts.spread * (Math.PI / 180);\n\n    return {\n      x: opts.x,\n      y: opts.y,\n      wobble: Math.random() * 10,\n      wobbleSpeed: Math.min(0.11, Math.random() * 0.1 + 0.05),\n      velocity: (opts.startVelocity * 0.5) + (Math.random() * opts.startVelocity),\n      angle2D: -radAngle + ((0.5 * radSpread) - (Math.random() * radSpread)),\n      tiltAngle: (Math.random() * (0.75 - 0.25) + 0.25) * Math.PI,\n      color: opts.color,\n      shape: opts.shape,\n      tick: 0,\n      totalTicks: opts.ticks,\n      decay: opts.decay,\n      drift: opts.drift,\n      random: Math.random() + 2,\n      tiltSin: 0,\n      tiltCos: 0,\n      wobbleX: 0,\n      wobbleY: 0,\n      gravity: opts.gravity * 3,\n      ovalScalar: 0.6,\n      scalar: opts.scalar\n    };\n  }\n\n  function updateFetti(context, fetti) {\n    fetti.x += Math.cos(fetti.angle2D) * fetti.velocity + fetti.drift;\n    fetti.y += Math.sin(fetti.angle2D) * fetti.velocity + fetti.gravity;\n    fetti.wobble += fetti.wobbleSpeed;\n    fetti.velocity *= fetti.decay;\n    fetti.tiltAngle += 0.1;\n    fetti.tiltSin = Math.sin(fetti.tiltAngle);\n    fetti.tiltCos = Math.cos(fetti.tiltAngle);\n    fetti.random = Math.random() + 2;\n    fetti.wobbleX = fetti.x + ((10 * fetti.scalar) * Math.cos(fetti.wobble));\n    fetti.wobbleY = fetti.y + ((10 * fetti.scalar) * Math.sin(fetti.wobble));\n\n    var progress = (fetti.tick++) / fetti.totalTicks;\n\n    var x1 = fetti.x + (fetti.random * fetti.tiltCos);\n    var y1 = fetti.y + (fetti.random * fetti.tiltSin);\n    var x2 = fetti.wobbleX + (fetti.random * fetti.tiltCos);\n    var y2 = fetti.wobbleY + (fetti.random * fetti.tiltSin);\n\n    context.fillStyle = 'rgba(' + fetti.color.r + ', ' + fetti.color.g + ', ' + fetti.color.b + ', ' + (1 - progress) + ')';\n    context.beginPath();\n\n    if (fetti.shape === 'circle') {\n      context.ellipse ?\n        context.ellipse(fetti.x, fetti.y, Math.abs(x2 - x1) * fetti.ovalScalar, Math.abs(y2 - y1) * fetti.ovalScalar, Math.PI / 10 * fetti.wobble, 0, 2 * Math.PI) :\n        ellipse(context, fetti.x, fetti.y, Math.abs(x2 - x1) * fetti.ovalScalar, Math.abs(y2 - y1) * fetti.ovalScalar, Math.PI / 10 * fetti.wobble, 0, 2 * Math.PI);\n    } else if (fetti.shape === 'star') {\n      var rot = Math.PI / 2 * 3;\n      var innerRadius = 4 * fetti.scalar;\n      var outerRadius = 8 * fetti.scalar;\n      var x = fetti.x;\n      var y = fetti.y;\n      var spikes = 5;\n      var step = Math.PI / spikes;\n\n      while (spikes--) {\n        x = fetti.x + Math.cos(rot) * outerRadius;\n        y = fetti.y + Math.sin(rot) * outerRadius;\n        context.lineTo(x, y);\n        rot += step;\n\n        x = fetti.x + Math.cos(rot) * innerRadius;\n        y = fetti.y + Math.sin(rot) * innerRadius;\n        context.lineTo(x, y);\n        rot += step;\n      }\n    } else {\n      context.moveTo(Math.floor(fetti.x), Math.floor(fetti.y));\n      context.lineTo(Math.floor(fetti.wobbleX), Math.floor(y1));\n      context.lineTo(Math.floor(x2), Math.floor(y2));\n      context.lineTo(Math.floor(x1), Math.floor(fetti.wobbleY));\n    }\n\n    context.closePath();\n    context.fill();\n\n    return fetti.tick < fetti.totalTicks;\n  }\n\n  function animate(canvas, fettis, resizer, size, done) {\n    var animatingFettis = fettis.slice();\n    var context = canvas.getContext('2d');\n    var animationFrame;\n    var destroy;\n\n    var prom = promise(function (resolve) {\n      function onDone() {\n        animationFrame = destroy = null;\n\n        context.clearRect(0, 0, size.width, size.height);\n\n        done();\n        resolve();\n      }\n\n      function update() {\n        if (isWorker && !(size.width === workerSize.width && size.height === workerSize.height)) {\n          size.width = canvas.width = workerSize.width;\n          size.height = canvas.height = workerSize.height;\n        }\n\n        if (!size.width && !size.height) {\n          resizer(canvas);\n          size.width = canvas.width;\n          size.height = canvas.height;\n        }\n\n        context.clearRect(0, 0, size.width, size.height);\n\n        animatingFettis = animatingFettis.filter(function (fetti) {\n          return updateFetti(context, fetti);\n        });\n\n        if (animatingFettis.length) {\n          animationFrame = raf.frame(update);\n        } else {\n          onDone();\n        }\n      }\n\n      animationFrame = raf.frame(update);\n      destroy = onDone;\n    });\n\n    return {\n      addFettis: function (fettis) {\n        animatingFettis = animatingFettis.concat(fettis);\n\n        return prom;\n      },\n      canvas: canvas,\n      promise: prom,\n      reset: function () {\n        if (animationFrame) {\n          raf.cancel(animationFrame);\n        }\n\n        if (destroy) {\n          destroy();\n        }\n      }\n    };\n  }\n\n  function confettiCannon(canvas, globalOpts) {\n    var isLibCanvas = !canvas;\n    var allowResize = !!prop(globalOpts || {}, 'resize');\n    var globalDisableForReducedMotion = prop(globalOpts, 'disableForReducedMotion', Boolean);\n    var shouldUseWorker = canUseWorker && !!prop(globalOpts || {}, 'useWorker');\n    var worker = shouldUseWorker ? getWorker() : null;\n    var resizer = isLibCanvas ? setCanvasWindowSize : setCanvasRectSize;\n    var initialized = (canvas && worker) ? !!canvas.__confetti_initialized : false;\n    var preferLessMotion = typeof matchMedia === 'function' && matchMedia('(prefers-reduced-motion)').matches;\n    var animationObj;\n\n    function fireLocal(options, size, done) {\n      var particleCount = prop(options, 'particleCount', onlyPositiveInt);\n      var angle = prop(options, 'angle', Number);\n      var spread = prop(options, 'spread', Number);\n      var startVelocity = prop(options, 'startVelocity', Number);\n      var decay = prop(options, 'decay', Number);\n      var gravity = prop(options, 'gravity', Number);\n      var drift = prop(options, 'drift', Number);\n      var colors = prop(options, 'colors', colorsToRgb);\n      var ticks = prop(options, 'ticks', Number);\n      var shapes = prop(options, 'shapes');\n      var scalar = prop(options, 'scalar');\n      var origin = getOrigin(options);\n\n      var temp = particleCount;\n      var fettis = [];\n\n      var startX = canvas.width * origin.x;\n      var startY = canvas.height * origin.y;\n\n      while (temp--) {\n        fettis.push(\n          randomPhysics({\n            x: startX,\n            y: startY,\n            angle: angle,\n            spread: spread,\n            startVelocity: startVelocity,\n            color: colors[temp % colors.length],\n            shape: shapes[randomInt(0, shapes.length)],\n            ticks: ticks,\n            decay: decay,\n            gravity: gravity,\n            drift: drift,\n            scalar: scalar\n          })\n        );\n      }\n\n      // if we have a previous canvas already animating,\n      // add to it\n      if (animationObj) {\n        return animationObj.addFettis(fettis);\n      }\n\n      animationObj = animate(canvas, fettis, resizer, size , done);\n\n      return animationObj.promise;\n    }\n\n    function fire(options) {\n      var disableForReducedMotion = globalDisableForReducedMotion || prop(options, 'disableForReducedMotion', Boolean);\n      var zIndex = prop(options, 'zIndex', Number);\n\n      if (disableForReducedMotion && preferLessMotion) {\n        return promise(function (resolve) {\n          resolve();\n        });\n      }\n\n      if (isLibCanvas && animationObj) {\n        // use existing canvas from in-progress animation\n        canvas = animationObj.canvas;\n      } else if (isLibCanvas && !canvas) {\n        // create and initialize a new canvas\n        canvas = getCanvas(zIndex);\n        document.body.appendChild(canvas);\n      }\n\n      if (allowResize && !initialized) {\n        // initialize the size of a user-supplied canvas\n        resizer(canvas);\n      }\n\n      var size = {\n        width: canvas.width,\n        height: canvas.height\n      };\n\n      if (worker && !initialized) {\n        worker.init(canvas);\n      }\n\n      initialized = true;\n\n      if (worker) {\n        canvas.__confetti_initialized = true;\n      }\n\n      function onResize() {\n        if (worker) {\n          // TODO this really shouldn't be immediate, because it is expensive\n          var obj = {\n            getBoundingClientRect: function () {\n              if (!isLibCanvas) {\n                return canvas.getBoundingClientRect();\n              }\n            }\n          };\n\n          resizer(obj);\n\n          worker.postMessage({\n            resize: {\n              width: obj.width,\n              height: obj.height\n            }\n          });\n          return;\n        }\n\n        // don't actually query the size here, since this\n        // can execute frequently and rapidly\n        size.width = size.height = null;\n      }\n\n      function done() {\n        animationObj = null;\n\n        if (allowResize) {\n          global.removeEventListener('resize', onResize);\n        }\n\n        if (isLibCanvas && canvas) {\n          document.body.removeChild(canvas);\n          canvas = null;\n          initialized = false;\n        }\n      }\n\n      if (allowResize) {\n        global.addEventListener('resize', onResize, false);\n      }\n\n      if (worker) {\n        return worker.fire(options, size, done);\n      }\n\n      return fireLocal(options, size, done);\n    }\n\n    fire.reset = function () {\n      if (worker) {\n        worker.reset();\n      }\n\n      if (animationObj) {\n        animationObj.reset();\n      }\n    };\n\n    return fire;\n  }\n\n  // Make default export lazy to defer worker creation until called.\n  var defaultFire;\n  function getDefaultFire() {\n    if (!defaultFire) {\n      defaultFire = confettiCannon(null, { useWorker: true, resize: true });\n    }\n    return defaultFire;\n  }\n\n  module.exports = function() {\n    return getDefaultFire().apply(this, arguments);\n  };\n  module.exports.reset = function() {\n    getDefaultFire().reset();\n  };\n  module.exports.create = confettiCannon;\n}((function () {\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n\n  return this || {};\n})(), module, false));\n\n// end source content\n\nexport default module.exports;\nexport var create = module.exports.create;\n"],"names":["CommonModule","ElementRef","Renderer2","DomSanitizer","ActivatedRoute","getInjectionToken","TOKENS_NAME","IonicModule","ToastController","BehaviorSubject","confetti","i0","IpfsComponent","constructor","_route","sanitizer","renderer2","_toastCtrl","_fileService","undefined","ngOnInit","cidParam","snapshot","paramMap","get","Error","cid","ext","split","cid$","next","ext$","file","getFromCID","url","URL","createObjectURL","safeUrl","_safeUrl","fileUrl$","downloadFile","value","console","log","link","document","createElement","href","download","click","toast","create","message","duration","position","color","buttons","text","role","handler","dismiss","present","_confetti","type","bypassSecurityTrustHtml","bypassSecurityTrustStyle","bypassSecurityTrustScript","bypassSecurityTrustUrl","bypassSecurityTrustResourceUrl","setStyle","canvas","nativeElement","myConfetti","resize","useWorker","APP_IPFS_SERVICE","selectors","viewQuery","styles","module","main","global","isWorker","workerSize","canUseWorker","Worker","Blob","Promise","OffscreenCanvas","OffscreenCanvasRenderingContext2D","HTMLCanvasElement","prototype","transferControlToOffscreen","noop","promise","func","ModulePromise","exports","Prom","raf","TIME","Math","floor","frame","cancel","frames","lastFrameTime","requestAnimationFrame","cancelAnimationFrame","cb","id","random","onFrame","time","setTimeout","timer","clearTimeout","getWorker","worker","prom","resolves","decorate","execute","options","callback","postMessage","init","initWorker","offscreen","fire","fireWorker","size","done","toString","slice","resolve","workerDone","msg","data","removeEventListener","addEventListener","bind","reset","resetWorker","code","join","e","warn","defaults","particleCount","angle","spread","startVelocity","decay","gravity","drift","ticks","x","y","shapes","zIndex","colors","disableForReducedMotion","scalar","convert","val","transform","isOk","prop","name","onlyPositiveInt","number","randomInt","min","max","toDecimal","str","parseInt","colorsToRgb","map","hexToRgb","String","replace","length","r","substring","g","b","getOrigin","origin","Object","Number","setCanvasWindowSize","width","documentElement","clientWidth","height","clientHeight","setCanvasRectSize","rect","getBoundingClientRect","getCanvas","style","top","left","pointerEvents","ellipse","context","radiusX","radiusY","rotation","startAngle","endAngle","antiClockwise","save","translate","rotate","scale","arc","restore","randomPhysics","opts","radAngle","PI","radSpread","wobble","wobbleSpeed","velocity","angle2D","tiltAngle","shape","tick","totalTicks","tiltSin","tiltCos","wobbleX","wobbleY","ovalScalar","updateFetti","fetti","cos","sin","progress","x1","y1","x2","y2","fillStyle","beginPath","abs","rot","innerRadius","outerRadius","spikes","step","lineTo","moveTo","closePath","fill","animate","fettis","resizer","animatingFettis","getContext","animationFrame","destroy","onDone","clearRect","update","filter","addFettis","concat","confettiCannon","globalOpts","isLibCanvas","allowResize","globalDisableForReducedMotion","Boolean","shouldUseWorker","initialized","__confetti_initialized","preferLessMotion","matchMedia","matches","animationObj","fireLocal","temp","startX","startY","push","body","appendChild","onResize","obj","removeChild","defaultFire","getDefaultFire","apply","arguments","window","self"],"sourceRoot":"webpack:///","x_google_ignoreList":[2]}