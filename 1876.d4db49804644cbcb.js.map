{"version":3,"file":"1876.d4db49804644cbcb.js","mappings":"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AM,GAAGC,MAAM,CAACH,WAAW,CAAC;EAEhC,IAAII,KAAK,CAACF,MAAM,CAAC,EAAE;IACjB,OAAOA,MAAM;EACf;EAEA,OAAOA,MAAM,GAAG,CAAC,GAAGG,IAAI,CAACC,IAAI,CAACJ,MAAM,CAAC,GAAGG,IAAI,CAACE,KAAK,CAACL,MAAM,CAAC;AAC5D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAIM,UAAU,GAAG,CAAC;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIC,UAAU,GAAG,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIC,OAAO,GAAGL,IAAI,CAACM,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIC,oBAAoB,GAAG,KAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIC,kBAAkB,GAAG,OAAO;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIC,oBAAoB,GAAG,IAAI;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIC,OAAO,GAAG,CAACL,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIM,aAAa,GAAG,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIC,eAAe,GAAG,CAAC;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIC,YAAY,GAAG,EAAE;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIC,cAAc,GAAG,CAAC;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAIC,aAAa,GAAG,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IA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","sources":["./libs/calendar/src/index.ts","./libs/calendar/src/lib/calendar.module.ts","./libs/calendar/src/lib/calendar.options.ts","./libs/calendar/src/lib/components/appointment-modal/appointment-modal.component.ts","./libs/calendar/src/lib/components/appointment-modal/appointment-modal.component.html","./libs/calendar/src/lib/containers/calendar-page/calendar-page.component.ts","./libs/calendar/src/lib/containers/calendar-page/calendar-page.component.html","./libs/calendar/src/lib/fullcalendar.service.ts","./libs/calendar/src/lib/lib.routes.ts","./libs/calendar/src/lib/pipes/view-name.pipe.ts","./node_modules/date-fns/esm/_lib/requiredArgs/index.js","./node_modules/date-fns/esm/_lib/toInteger/index.js","./node_modules/date-fns/esm/constants/index.js","./node_modules/date-fns/esm/getDate/index.js","./node_modules/date-fns/esm/getMonth/index.js","./node_modules/date-fns/esm/getYear/index.js","./node_modules/date-fns/esm/parseISO/index.js","./node_modules/date-fns/esm/toDate/index.js","./node_modules/fast-deep-equal/index.js","./node_modules/preact/compat/dist/compat.module.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js","./node_modules/@fullcalendar/angular/fesm2020/fullcalendar-angular.mjs","./node_modules/@fullcalendar/core/index.js","./node_modules/@fullcalendar/core/internal-common.js","./node_modules/@fullcalendar/core/internal.js","./node_modules/@fullcalendar/core/preact.js","./node_modules/@fullcalendar/daygrid/index.js","./node_modules/@fullcalendar/daygrid/internal.js","./node_modules/@fullcalendar/google-calendar/index.js","./node_modules/@fullcalendar/interaction/index.js","./node_modules/@fullcalendar/list/index.js","./node_modules/@fullcalendar/list/internal.js","./node_modules/@fullcalendar/timegrid/index.js","./node_modules/@fullcalendar/timegrid/internal.js","./node_modules/ngx-color-picker/fesm2020/ngx-color-picker.mjs"],"sourcesContent":["export * from './lib/calendar.module';\nexport * from './lib/lib.routes';\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { FullCalendarModule, FullCalendarComponent } from '@fullcalendar/angular'; // must go before plugins\n\nimport { calendarRoutes } from './lib.routes';\nimport { CalendarPageComponent } from './containers/calendar-page/calendar-page.component';\nimport { FullCalendarService } from './fullcalendar.service';\nimport { AppointmentModalComponent } from './components/appointment-modal/appointment-modal.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { ColorPickerModule } from 'ngx-color-picker';\nimport { ViewNamePipe } from './pipes/view-name.pipe';\n\n@NgModule({\n  declarations: [\n    CalendarPageComponent,\n    AppointmentModalComponent,\n    ViewNamePipe\n  ],\n  imports: [\n    IonicModule,\n    CommonModule, \n    FullCalendarModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(calendarRoutes),\n    ColorPickerModule\n  ],\n  providers: [\n    FullCalendarService\n  ],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n  ]\n})\nexport class CalendarModule {}\n","import { Calendar, CalendarOptions } from '@fullcalendar/core';\nimport { FullCalendarComponent,  } from '@fullcalendar/angular';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport googleCalendarPlugin from '@fullcalendar/google-calendar';\nimport listPlugin from '@fullcalendar/list';\nimport interactionPlugin from '@fullcalendar/interaction';\n\n\nexport const getOptions = ({initialView}: {initialView: string}): CalendarOptions  => ({\n  plugins: [ dayGridPlugin, timeGridPlugin, listPlugin, interactionPlugin, googleCalendarPlugin ],\n  height: window.innerHeight - 117,\n  initialView,\n  headerToolbar: false,\n  themeSystem: 'standard',\n  eventTimeFormat: {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    meridiem: false,\n    hour12: false\n  },\n  slotLabelFormat: {\n    hour12: false,\n    minute: '2-digit',\n    hour: '2-digit',\n  },\n  firstDay: 1,\n  weekends: true,\n  editable: true,\n  selectable: true,\n  selectMirror: true,\n  dayMaxEvents: true,\n  nowIndicator: true,\n  // https://fullcalendar.io/docs/content-injection\n  dayHeaderContent: (a) => ({html: `\n    <ion-text color=\"${a.isToday ? 'primary' : 'none'}\">\n      ${a.date.toLocaleDateString([], {\n        weekday: 'long',  \n      })}\n      <br/><span>\n        ${a.date.toLocaleDateString([], {\n          day: 'numeric',  \n        })}\n      </span>\n    </ion-text>\n  `}),\n  // https://fullcalendar.io/docs/view-specific-options\n  views: {\n    dayGridMonth: { // name of view\n      dayHeaderContent: (a) => ({html: `\n        ${a.date.toLocaleDateString([], {\n          weekday: 'short',  \n        })}\n      `}),\n      titleFormat: { hour12: false },\n    },\n    agendaThreeDay: {\n      type: 'timeGrid',\n      duration: { days: 3 },\n      buttonText: '3 day'\n    },\n  },\n  loading: (isLoading) => {\n    console.log('loading', isLoading);\n  },\n  allDayText: '',\n});","import { Component, Input, OnInit } from '@angular/core';\nimport { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\nimport { parseISO, getDate, getMonth, getYear } from 'date-fns';\n\n@Component({\n  selector: 'hexa-appointment-modal',\n  templateUrl: './appointment-modal.component.html',\n  styleUrls: ['./appointment-modal.component.scss'],\n})\nexport class AppointmentModalComponent implements OnInit {\n  private _calendars: any[] = [];\n  @Input() data!: any;\n  @Input() editModeEnabled?: boolean = false;\n  @Input() set calendars(value: any[]) {\n    this._calendars = value;\n  }\n  form!: FormGroup;\n  get userCalendars()  {\n    return this._calendars;\n  }\n\n  constructor(\n    public readonly modalCtrl: ModalController\n  ) {}\n\n  ngOnInit() {\n    this.form = new FormGroup({\n      _id: new FormControl(undefined),\n      title: new FormControl(undefined, Validators.compose([\n        Validators.required,\n      ])),\n      start: new FormControl(new Date(), Validators.compose([\n        Validators.required,\n      ])),\n      end: new FormControl(undefined, Validators.compose([\n        Validators.required,\n      ])),\n      calendarIds: new FormArray([], Validators.compose([\n        Validators.required,\n        Validators.minLength(1)\n      ])),\n      allDay: new FormControl(false),\n      description: new FormControl(''),\n    });\n    const {start, end, ...data} = this.data;\n    // patch data value to form\n    this.form.patchValue({\n      ...data,\n      start: start ? new Date(start) : new Date(),\n      end: end ? new Date(end) : new Date()\n    });\n    // patch calendarIds value to form\n    data?.calendarIds?.forEach((cal: string) => {\n      (this.form.get('calendarIds') as FormArray).push(new FormControl(cal));\n    }); \n    // patch default calendar for create mode\n    if (this.editModeEnabled && !this.data._id && this.userCalendars?.[0]?._id) {\n      (this.form.get('calendarIds') as FormArray).push(new FormControl(this.userCalendars[0]._id));\n    }  \n  }\n\n  actions(type: string, payload?: any) {\n    switch (true) {\n      case type === 'changeCalendar': {\n        this._onCheckboxChange(payload);\n        break;\n      }\n      case type === 'toggleAllDay': {\n        const {detail: {checked}} = payload;\n        if (checked) {\n          // patch value with start and end with same day\n          const start = this.form.get('start')?.value;\n          const end = this.form.get('end')?.value;\n          const startDate = start;\n          const endDate = end;\n          const startDay = getDate(startDate);\n          const endDay = getDate(endDate);\n          const startMonth = getMonth(startDate) + 1;\n          const endMonth = getMonth(endDate) + 1;\n          const startYear = getYear(startDate);\n          const endYear = getYear(endDate);\n          console.log('>>', startDay === endDay);\n          \n          if (startDay === endDay) {\n            this.form.patchValue({\n              start: this.formatDate(`${startYear}-${startMonth < 10 ? `0${startMonth}` : startMonth }-${startDay}`),\n              end: this.formatDate(`${startYear}-${startMonth < 10 ? `0${startMonth}` : startMonth }-${startDay+1}`)\n            });\n          }\n        }\n        console.log('toggleAllDay', checked);\n        \n        break;\n      }\n      case type === 'cancelDateTime': {\n        const el = payload.el.closest('ion-popover')||payload.el.closest('ion-modal');\n        el.dismiss();\n        break;\n      }\n      case type === 'confirmDateTime':{\n        const popover = payload.el.closest('ion-popover')||payload.el.closest('ion-modal');\n        console.log('confirmDateTime', payload);\n        // confirm date time\n        payload.confirm();\n        // close popover\n        if (popover) popover.dismiss();        \n        break;\n      }case type === 'close':\n      case type === 'cancel':\n        this.modalCtrl.dismiss(undefined, 'cancel');\n        break;\n      case type === 'save':\n      case type === 'update':\n        this.modalCtrl.dismiss({\n          ...this.data, \n          ...this.form.value\n        },type);\n        break;\n      case type === 'delete':        \n        this.modalCtrl.dismiss({\n          _id: this.form.value._id\n        }, 'delete');\n    }\n  }\n\n  formatDate(value: any) {\n    return parseISO(value);\n  }\n\n  private async _onCheckboxChange(e: any) {\n    const checkArray: FormArray = this.form.get('calendarIds') as FormArray;\n    // clear checkbox Array\n    checkArray.clear();\n    // add new values\n    const value = e.target.value;\n    if (Array.isArray(value)) {\n      value.forEach((element: string) => {\n        checkArray.push(new FormControl(element));\n      });\n    } else {\n      checkArray.push(new FormControl(value));\n    }\n  }\n\n}","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-title *ngIf=\"editModeEnabled === true\">{{!form.get('_id')?.value ? 'Create Event' : 'Update Event' }}</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button *ngIf=\"editModeEnabled !== true\" (click)=\"editModeEnabled = !editModeEnabled\">\n        <ion-icon slot=\"icon-only\" color=\"light\" name=\"create-outline\"></ion-icon>\n      </ion-button>\n      <ion-button (click)=\"actions('cancel')\">\n        <ion-icon slot=\"icon-only\" color=\"light\" name=\"close-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n\n  <div *ngIf=\"editModeEnabled !== true; else editMode\" class=\"ion-padding\">\n    <ion-text color=\"medium\">\n      <p class=\"ion-no-margin ion-no-padding\">\n        <small>Database: Ceramic</small>\n      </p>\n    </ion-text>\n    <h2>{{form.get('title')?.value}}</h2>\n    <ng-container *ngIf=\"(form.get('start')?.value | date: 'EEEE dd MMMM') === (form.get('end')?.value | date: 'EEEE dd MMMM');else multiDays\">\n      <p class=\"ion-no-margin\">\n        {{form.get('start')?.value | date: 'EEEE dd MMMM'}}\n        - {{form.get('start')?.value | date: 'HH:mm'}} to {{form.get('end')?.value | date: 'HH:mm'}}\n      </p>\n    </ng-container>\n    <ng-template #multiDays>\n      <p class=\"ion-no-margin\">\n        From {{form.get('start')?.value | date: 'EEEE dd MMMM'}}\n        - {{form.get('start')?.value | date: 'HH:mm'}}\n      </p>\n      <p>\n        To {{form.get('end')?.value | date: 'EEEE dd MMMM'}}\n        - {{form.get('end')?.value | date: 'HH:mm'}}\n      </p>\n    </ng-template>\n    <div *ngIf=\"form.get('description')?.value as description\" class=\"ion-margin-top\">\n      <ion-text color=\"medium\">\n        <p class=\"ion-no-margin ion-padding-vertical\">\n          <small>Description</small>\n        </p>\n      </ion-text>\n      <p class=\"ion-no-margin ion-no-padding\">\n        {{description}}\n      </p>\n    </div>\n  </div>\n\n  <ng-template #editMode>\n    <form [formGroup]=\"form\">\n      <ion-list>\n        <!-- Title -->\n        <ion-item>\n          <ion-label color=\"primary\" position=\"floating\">Title</ion-label>\n          <ion-input type=\"text\" formControlName=\"title\" placeholder=\"New Event\"></ion-input>\n        </ion-item>\n        <!-- Start Datetime in popover with cover element -->\n        <ion-item button=\"true\" id=\"open-start-input\">\n          <ion-label color=\"primary\">Start</ion-label>\n          <ion-text slot=\"end\">{{ form.get('start')?.value|date:'EEEE d MMMM - HH:mm' }}</ion-text>\n          <ion-modal size=\"cover\" trigger=\"open-start-input\" show-backdrop=\"false\">\n            <ng-template>\n              <ion-datetime\n                  #popoverStartDate\n                  size=\"cover\"\n                  first-day-of-week=\"1\"\n                  [presentation]=\"form.get('allDay')?.value === true ? 'time' : 'date-time'\"\n                  hour-cycle=\"h23\" \n                  value=\"{{ form.get('start')?.value|date:'YYYY-MM-ddTHH:mm:ss' }}\"\n                  (ionChange)=\"form.get('start')?.patchValue(formatDate(popoverStartDate?.value||''))\">\n                <ion-buttons slot=\"buttons\">\n                  <ion-button color=\"danger\" (click)=\"actions('cancelDateTime', popoverStartDate)\">cancel</ion-button>\n                  <ion-button color=\"primary\" (click)=\"actions('confirmDateTime', popoverStartDate)\">ok</ion-button>\n                </ion-buttons>\n              </ion-datetime>\n            </ng-template>\n          </ion-modal>\n        </ion-item>\n         <!-- Ent Date in popover with cover element -->\n        <ion-item button=\"true\" id=\"open-end-input\">\n          <ion-label color=\"primary\">End</ion-label>\n          <ion-text slot=\"end\">{{ form.get('end')?.value|date:'EEEE d MMMM - HH:mm' }}</ion-text>\n          <ion-modal size=\"cover\" trigger=\"open-end-input\" show-backdrop=\"false\">\n            <ng-template>\n              <ion-datetime\n                  #popoverEndDate\n                  size=\"cover\"\n                  first-day-of-week=\"1\"\n                  value=\"{{ form.get('end')?.value|date:'YYYY-MM-ddTHH:mm:ss' }}\"\n                  [presentation]=\"form.get('allDay')?.value === true ? 'time' : 'date-time'\"\n                  (ionChange)=\"form.get('end')?.patchValue(formatDate(popoverEndDate?.value||''))\">\n                <ion-buttons slot=\"buttons\">\n                  <ion-button color=\"danger\" (click)=\"actions('cancelDateTime', popoverEndDate)\">cancel</ion-button>\n                  <ion-button color=\"primary\" (click)=\"actions('confirmDateTime', popoverEndDate)\">ok</ion-button>\n                </ion-buttons>\n              </ion-datetime>\n            </ng-template>\n          </ion-modal>\n        </ion-item>\n        <!-- Calendars Id selection -->\n        <ion-item>\n          <ion-label color=\"primary\" position=\"floating\">Calendars</ion-label>\n          <ion-select \n              formArrayName=\"calendarIds\" \n              multiple=\"false\" \n              [value]=\"form.get('calendarIds')?.value||[]\"\n              (ionChange)=\"actions('changeCalendar', $event)\">\n            <ion-select-option \n                *ngFor=\"let calendar of userCalendars;let i = index\" \n                [value]=\"calendar._id\">\n              {{calendar.name}}\n            </ion-select-option>\n          </ion-select>\n        </ion-item>\n        <!-- toggle allDay -->\n        <ion-item>\n          <ion-label color=\"primary\">All Day</ion-label>\n          <ion-toggle \n              color=\"medium\" \n              formControlName=\"allDay\"\n              (ionChange)=\"actions('toggleAllDay', $event)\"></ion-toggle>\n        </ion-item>\n        <!-- Description field -->\n        <ion-item>\n          <ion-label color=\"primary\" position=\"floating\">Description</ion-label>\n          <ion-textarea \n              autoGrow=\"true\"\n              rows=\"3\"\n              formControlName=\"description\"></ion-textarea>\n        </ion-item>\n        <!-- delete btn -->\n        <ion-button \n            *ngIf=\"!!form.get('_id')?.value\" \n            fill=\"outline\" \n            color=\"danger\"\n            expand=\"block\"\n            class=\"ion-margin\"\n            (click)=\"actions('delete')\">delete event</ion-button>\n      </ion-list>\n    </form>\n  </ng-template>\n\n</ion-content>\n<ion-footer *ngIf=\"editModeEnabled === true\">\n  <ion-toolbar>\n    <ion-buttons  slot=\"end\">\n      <ion-button color=\"danger\" (click)=\"actions('cancel')\">cancel</ion-button>\n      <ion-button \n          color=\"primary\" \n          [disabled]=\"!form.valid\"\n          (click)=\"actions(!form.get('_id')?.value ? 'save' : 'update')\">\n        {{!form.get('_id')?.value ? 'save' : 'update'}}\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>","import { AfterViewInit, Component, Inject, OnInit, ViewChild } from '@angular/core';\nimport { CalendarOptions, DateSelectArg, EventMountArg } from '@fullcalendar/core';\nimport { FullCalendarComponent } from '@fullcalendar/angular';\nimport { BehaviorSubject, firstValueFrom, Observable } from 'rxjs';\nimport { getOptions } from '../../calendar.options';\nimport { FullCalendarService } from '../../fullcalendar.service';\nimport { AlertController, ModalController, PopoverController } from '@ionic/angular';\nimport { isAfter, isBefore, addWeeks, subWeeks } from 'date-fns';\nimport { AppointmentModalComponent } from '../../components/appointment-modal/appointment-modal.component';\nimport { ILoadingService } from '@hexa/interfaces';\nimport { getInjectionToken, TOKENS_NAME } from '@hexa/token-injection';\n\n@Component({\n  selector: 'hexa-calendar-page',\n  templateUrl: './calendar-page.component.html',\n  styles: [`\n    :host {\n      --fc-event-border-color: var(--ionic-color-primary-shade);\n      --fc-event-bg-color: var(--ion-color-primary-tint);\n      --fc-today-bg-color: rgba(var(--ion-color-primary-rgb), 0.05);\n     \n      ion-toolbar {\n        --background:transparent;\n\n        h1 {\n          display: inline;\n        }\n      }\n\n      ion-toolbar {\n        ion-avatar {\n            height: 32px;\n            width: 32px;\n            border: 1px solid var(--ion-color-light);\n            border-radius: 50%;\n            overflow: hidden;\n        }\n      }\n      full-calendar, div {\n        border-radius: 1.1rem;\n        overflow: hidden;\n        border: 1px solid rgba(var(--ion-color-primary-rgb), 0.15);\n        background: #fff;\n      }\n    \n    }\n\n    \n  `]\n})\nexport class CalendarPageComponent implements AfterViewInit {\n  @ViewChild('calendarCmp', {static: false}) readonly calendarCmp!: FullCalendarComponent;\n  title = 'Calendar Page ';\n  calendarsData$ = this._fullCalendarService.calendarsData$;\n  uiConfig$ = this._fullCalendarService.uiConfig$;\n  currentView = 'timeGridWeek';\n  isVisible$: Observable<boolean> = this._fullCalendarService.initalized$;\n  viewTitle$: Observable<string> = this._fullCalendarService.viewTitle$;\n  fullCalendarOptions: CalendarOptions = {\n    ...getOptions({\n      initialView: this.currentView,\n    }),\n    eventDrop: async (e) => await this._fullCalendarService.handleEvent(e),\n    eventResize: async (e) => await this._fullCalendarService.handleEvent(e),\n    eventClick: async (e) => {   \n      e.jsEvent.preventDefault();\n      const editModeEnabled = false;\n      await this._fullCalendarService.handleEvent(e, editModeEnabled);\n    },\n    eventsSet: async () => await this._fullCalendarService.handleEventsSet(),\n    select: async (e) => {\n      const { role, jsEvent,  ...data} = await this._openModal(e);\n      if (!data) return;\n      if (role === 'cancel'|| role === 'backdrop' || !role) return;\n      await this._fullCalendarService.handleDateSelect(data);\n    },\n    eventDidMount: async (e: EventMountArg) => await this._fullCalendarService.handleEventDidMount(e),\n    businessHours: [{\n      // days of week. an array of zero-based day of week integers (0=Sunday)\n      daysOfWeek: [ 1, 2, 3, 4 ], // Monday - Thursday\n      startTime: '10:00', // a start time (10am in this example)\n      endTime: '18:00', // an end time (6pm in this example)\n    }],\n    \n  };\n\n  constructor(\n\n    @Inject(getInjectionToken(TOKENS_NAME.APP_LOADER_SERVICE)) private readonly _loaderService: ILoadingService,\n    private readonly _fullCalendarService: FullCalendarService,\n    private readonly _modalCtrl: ModalController,\n    private readonly _alertService: AlertController,\n    private readonly _popoverService: PopoverController\n  ) {}\n\n  async ionViewWillEnter() {\n    await this._fullCalendarService.loadUIConfigFromDatabase();\n  }\n\n  async ngAfterViewInit() {\n    // get calendar from database\n    const calendars = await this._fullCalendarService.loadCalendarsFromDatabase();\n    // init calendar component using service\n    await this._fullCalendarService.initService(this.calendarCmp, calendars);\n    this._fullCalendarService.calendarAPI()\n  }\n\n  async actions(type: string, payload?: any) {\n    switch (true) {\n      case type === 'select-date': {\n        const {detail: {value}} = payload;\n        this._fullCalendarService.calendarAPI().gotoDate(new Date(value));\n        break;\n      }\n      case type === 'updateCalendarName': {\n        const {calendar, name} = payload;\n        this._loaderService.setStatus(true);\n        await this._fullCalendarService.updateCalendar({...calendar, name});\n        this._loaderService.setStatus(false);\n        break;\n      }\n      case type === 'openColorPicker': {\n        const {colorPicker, target} = payload;\n        colorPicker?.click();\n        break;\n      }\n      case type === 'deleteCalendar': {\n        const {calendar} = payload;\n        this._confirmBefore(\n          `You are about to delete this calendar. \n          This action cannot be undone and you will lose all events associated with this calendar. \n          Are you sure you want to continue?`, \n          async () => {\n            this._loaderService.setStatus(true);\n            await this._fullCalendarService.deleteCalendar(calendar);\n            this._loaderService.setStatus(false);\n          }\n        )\n        break;\n      }\n      // case type === 'disconnect':{\n      //   const confirm = await this._confirm({\n      //     header: 'Disconnect',\n      //     message: 'Are you sure you want to disconnect?',\n      //   }); \n      //   if (confirm) {\n      //     this._loaderService.setStatus(true);\n      //     await this._disconnect();\n      //     this._loaderService.setStatus(false);\n      //   }\n      //   break;\n      // }\n      case type === 'setCalendarColor': {\n        const {calendar, color} = payload;\n        this._loaderService.setStatus(true);\n        await this._fullCalendarService.updateCalendar({...calendar, color});\n        this._loaderService.setStatus(false);\n        break;\n      }\n      case type === 'toggleCalendarVisibility': {\n        payload.isVisible = !payload.isVisible;\n        this._loaderService.setStatus(true);\n        await this._fullCalendarService.updateCalendarsVisibility(payload);\n        this._loaderService.setStatus(false);\n        break;\n      }\n      case type === 'newCalendar': {\n        this._loaderService.setStatus(true);\n        this._fullCalendarService.createNewCalendar();\n        this._loaderService.setStatus(false);\n        break;\n      }\n      case type === 'toggleWeekends':\n        this.fullCalendarOptions.weekends = !this.fullCalendarOptions.weekends;\n        break;\n      case type === 'next':{\n        this._fullCalendarService.calendarAPI()?.next();\n        const endDate = this._fullCalendarService.calendarAPI()?.view.currentEnd;\n        if (endDate) {\n          // this._loaderService.setStatus(true);\n          await this._fullCalendarService.loadEventsPart(endDate); \n          // this._loaderService.setStatus(false);\n        }\n        break;\n      }\n      case type === 'prev':{\n        this._fullCalendarService.calendarAPI()?.prev();\n        const startDate = this._fullCalendarService.calendarAPI()?.view.currentStart;\n        if (startDate) {\n          // this._loaderService.setStatus(true);\n          await this._fullCalendarService.loadEventsPart(startDate); \n          // this._loaderService.setStatus(false);\n        }\n        break;\n      }\n      case type === 'today':\n        this._fullCalendarService.calendarAPI()?.today();\n        break;\n      case type === 'view': {\n        const {target: {value = undefined}= {}} = payload;      \n        this.currentView = value;\n        this._fullCalendarService.calendarAPI()?.changeView(value);\n        break;\n      }\n    }\n  }\n\n  private async _openModal<T>(arg: T, editModeEnabled = true) {\n    const calendars = await firstValueFrom(this.calendarsData$);\n    const modal = await this._modalCtrl.create({\n      component: AppointmentModalComponent,\n      componentProps: {\n        data: {...arg},\n        editModeEnabled,\n        calendars\n      }\n    });\n    modal.present();\n    const { data = undefined, role = 'cancel'} =  await modal.onDidDismiss();    \n    return role !== 'cancel' ? {...data, role} : {role};\n  }\n\n  private async _confirmBefore<T>(message: string, cb: () => Promise<T>): Promise<T|void> {\n    const ionAlert = await this._alertService.create({\n      header: 'Confirm',\n      message,\n      buttons: [\n        { text: 'Cancel', role: 'cancel' },\n        { text: 'Ok', role: 'ok' },\n      ]\n    });\n    await ionAlert.present();\n    const {role} = await ionAlert.onDidDismiss();\n    if (role === 'ok') {\n      // closing popover calendar options UI\n      const popover = await this._popoverService.getTop();\n      if (popover) {\n        await popover.dismiss();\n      }\n      return await cb();\n    }\n  }\n}","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-menu-button class=\"ion-margin-start\" slot=\"start\"></ion-menu-button>\n    <ion-grid class=\"ion-margin-start ion-margin-end ion-margin-top ion-no-padding\">\n      <ion-row class=\"ion-align-items-center\">\n        <ion-col size=\"auto\">\n          <ion-text>\n            <h1>{{viewTitle$|async}}</h1>\n          </ion-text>\n        </ion-col>\n        <ion-col size=\"auto\">\n          <ion-button (click)=\"actions('prev')\" fill=\"none\">\n            <ion-icon name=\"chevron-back-outline\"></ion-icon>\n          </ion-button>\n          <ion-button (click)=\"actions('next')\" fill=\"none\">\n            <ion-icon name=\"chevron-forward-outline\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <!-- <ion-col>\n          <ion-searchbar mode=\"ios\"></ion-searchbar>\n        </ion-col> -->\n        <ion-col size=\"auto\">\n\n          <ion-button (click)=\"actions('today')\" shape=\"round\" fill=\"none\">today</ion-button>\n          <ion-button id=\"open-view-selector\" shape=\"round\" fill=\"none\">\n            <ion-text slot=\"start\">{{currentView|viewName}}</ion-text>\n            <ion-icon name=\"chevron-down-outline\" slot=\"end\"></ion-icon>\n            <ion-popover trigger=\"open-view-selector\" show-backdrop=\"false\">\n              <ng-template>\n                <ion-list lines=\"none\">\n                  <ion-radio-group [value]=\"currentView\">\n                    <ion-item (click)=\"actions('view', {target: {value: 'timeGridDay'}})\">\n                      <ion-label>Day</ion-label>\n                      <ion-radio slot=\"start\" value=\"timeGridDay\"></ion-radio>\n                    </ion-item>\n                    <ion-item (click)=\"actions('view', {target: {value: 'timeGridWeek'}})\">\n                      <ion-label>Week</ion-label>\n                      <ion-radio slot=\"start\" value=\"timeGridWeek\"></ion-radio>\n                    </ion-item>\n                    <ion-item (click)=\"actions('view', {target: {value: 'dayGridMonth'}})\">\n                      <ion-label>Month</ion-label>\n                      <ion-radio slot=\"start\" value=\"dayGridMonth\"></ion-radio>\n                    </ion-item>\n                    <ion-item (click)=\"actions('view', {target: {value: 'agendaThreeDay'}})\">\n                      <ion-label>3 days</ion-label>\n                      <ion-radio slot=\"start\" value=\"agendaThreeDay\"></ion-radio>\n                    </ion-item>\n                    <ion-item (click)=\"actions('view', {target: {value: 'listWeek'}})\">\n                      <ion-label>List</ion-label>\n                      <ion-radio slot=\"start\" value=\"listWeek\"></ion-radio>\n                    </ion-item>\n                  </ion-radio-group>\n                </ion-list>\n              </ng-template>\n            </ion-popover>\n          </ion-button>\n        </ion-col>\n        <ion-col size=\"3\"></ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-toolbar>\n</ion-header>\n<ion-content \n    fullscreen \n    [attr.scroll-y]=\"(currentView === 'dayGridMonth' ? true : false)\"\n    class=\"ion-padding\">\n  <ion-grid class=\"ion-margin-top\">\n    <ion-row class=\"ion-align-items-start\">\n      <ion-col size=\"auto\" class=\"ion-hide-md-down\">\n        <div>\n          <ion-datetime \n              presentation=\"date\" \n              max=\"3000-12-12\"\n              first-day-of-week=\"1\"\n              (ionChange)=\"actions('select-date', $event)\"></ion-datetime>\n          <ion-accordion-group value=\"calendars\">\n            <ion-accordion value=\"calendars\">\n              <ion-item slot=\"header\">\n                <ion-label>\n                  My Calendars\n                </ion-label>\n              </ion-item>\n              <ion-list *ngIf=\"(calendarsData$|async) as calendarsData\" slot=\"content\" lines=\"none\" class=\"ion-no-padding\">\n                <!-- <pre>\n                  {{calendarsData|json}}\n                </pre> -->\n                <ion-item *ngFor=\"let cal of calendarsData\">\n                  <ion-label>{{cal.name}}</ion-label>\n                  <ion-checkbox \n                      slot=\"start\"\n                      [checked]=\"cal.isVisible === true\"\n                      [attr.style]=\"'--background: ' + cal.color + ';--background-checked: ' + cal.color + ';--border-color-checked: ' + cal.color + ';' + ';--border-color: ' + cal.color + ';'\"\n                      (ionChange)=\"actions('toggleCalendarVisibility', cal)\"></ion-checkbox>\n                  <ion-button \n                      id=\"calendar-options-{{cal._id}}\"\n                      class=\"calendar-options\"\n                      fill=\"none\"\n                      slot=\"end\">\n                    <ion-icon \n                        slot=\"icon-only\" \n                        size=\"small\" \n                        name=\"ellipsis-vertical\"\n                        color=\"medium\"></ion-icon>\n                  </ion-button>\n                  <ion-popover \n                      #popOver \n                      class=\"popoverColorPicker\"\n                      trigger=\"calendar-options-{{cal._id}}\" \n                      side=\"start\" \n                      alignment=\"center\" \n                      reference=\"event\">\n                    <ng-template>\n                      <ion-content>\n                        <ion-list lines=\"none\" class=\"ion-no-padding ion-margin-bottom\">\n                          <ion-list-header>\n                            <ion-label>\n                              Calendar options\n                            </ion-label>\n                          </ion-list-header>\n                          <ion-item class=\"ion-text-end\">\n                            <ion-label slot=\"start\">Name</ion-label>\n                            <ion-input \n                                #inputName \n                                type=\"text\" \n                                [value]=\"cal.name\" \n                                (ionChange)=\"updateBtn.disabled === true ? updateBtn.disabled = false : null\"></ion-input>\n                          </ion-item>\n                          <ion-item>\n                            <ion-label slot=\"start\">Color</ion-label>\n                            <ion-button \n                                class=\"cp-button-open\"\n                                slot=\"end\" \n                                size=\"small\" \n                                fill=\"solid\"\n                                [style.--border-color]=\"cal.color\" \n                                [style.--background]=\"cal.color\" \n                                (click)=\"actions('openColorPicker', {target: $event.target, colorPicker})\">\n                              {{cal.color||'select'}}\n                            </ion-button>\n                          </ion-item>\n                          <div\n                              #colorPicker\n                              cpWidth=\"250\"\n                              cpOutputFormat=\"hex\"\n                              cpDialogDisplay=\"inline\"\n                              cpOKButtonClass=\"cp-button primary\"\n                              cpCancelButtonClass=\"cp-button danger\"\n                              cpCancelButtonText=\"RESET\"\n                              cpPosition=\"top\"\n                              [cpOKButton]=\"true\"\n                              [cpCancelButton]=\"true\"\n                              [cpSaveClickOutside]=\"false\"\n                              [cpDisableInput]=\"false\"\n                              [(colorPicker)]=\"cal.color\"\n                              (colorPickerSelect)=\"actions('setCalendarColor', {calendar: cal, color: $event});  popOver.dismiss()\"></div>\n                        </ion-list>\n                        <ion-button \n                            fill=\"outline\" \n                            color=\"danger\"\n                            expand=\"block\"\n                            class=\"ion-margin\"\n                            size=\"small\"\n                            (click)=\"actions('deleteCalendar', {calendar: cal})\">\n                          delete calendar\n                        </ion-button>\n                      </ion-content>\n                      <ion-footer>\n                        <ion-toolbar>\n                          <ion-buttons slot=\"end\">\n                            <ion-button\n                                size=\"small\"\n                                color=\"danger\"\n                                (click)=\"popOver?.dismiss()\">Cancel</ion-button>\n                            <ion-button \n                                #updateBtn \n                                size=\"small\"\n                                color=\"primary\"\n                                [disabled]=\"true\" \n                                (click)=\"actions('updateCalendarName', {calendar: cal, name: inputName.value});popOver?.dismiss()\">\n                              update\n                            </ion-button>\n                          </ion-buttons>\n                        </ion-toolbar>\n                      </ion-footer>\n                    </ng-template>\n                  </ion-popover>\n                </ion-item>\n                <ion-item lines=\"none\" button (click)=\"actions('newCalendar')\">\n                  <ion-label color=\"medium\">Add calendar</ion-label>\n                  <ion-icon slot=\"start\" name=\"add-outline\"></ion-icon>\n                </ion-item>\n              </ion-list>\n            </ion-accordion>\n            <ion-accordion value=\"calendars\">\n              <ion-item slot=\"header\">\n                <ion-label>\n                  Time slots options\n                </ion-label>\n              </ion-item>\n              <ion-list slot=\"content\" lines=\"none\" class=\"ion-no-padding\">\n                <ion-item lines=\"none\" button (click)=\"actions('newTimeSlot')\">\n                  <ion-label color=\"medium\">Add time slot</ion-label>\n                  <ion-icon slot=\"start\" name=\"add-outline\"></ion-icon>\n                </ion-item>\n              </ion-list>\n            </ion-accordion>               \n          </ion-accordion-group>\n        </div>\n      </ion-col>\n      <ion-col>\n        <full-calendar \n            #calendarCmp \n            [options]=\"fullCalendarOptions\"\n            [hidden]=\"(isVisible$|async) !== true\"></full-calendar>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-content>","import { Inject, Injectable } from \"@angular/core\";\nimport { IDatastoreService, ILoadingService } from \"@hexa/interfaces\";\nimport { getInjectionToken, TOKENS_NAME } from \"@hexa/token-injection\";\nimport { FullCalendarComponent } from \"@fullcalendar/angular\";\nimport { DateSpanApi, EventClickArg, EventDropArg, EventInput, EventMountArg, EventSourceInput } from '@fullcalendar/core';\nimport { EventImpl } from \"@fullcalendar/core/internal\";\nimport { EventResizeDoneArg } from \"@fullcalendar/interaction\";\nimport { AlertController, AlertOptions, ModalController } from \"@ionic/angular\";\nimport { BehaviorSubject, Observable } from \"rxjs\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { AppointmentModalComponent } from \"./components/appointment-modal/appointment-modal.component\";\n\nconst lightenDarkenColor = (col: string,  amt:number) => {\n  let usePound = false;\n  if (col[0] == \"#\") {\n      col = col.slice(1);\n      usePound = true;\n  }\n  const num = parseInt(col,16);\n  // get R\n  let r = (num >> 16) + amt;\n  if (r > 255) r = 255;\n  else if  (r < 0) r = 0;\n  // get B\n  let b = ((num >> 8) & 0x00FF) + amt;\n  if (b > 255) b = 255;\n  else if  (b < 0) b = 0;\n  // get G\n  let g = (num & 0x0000FF) + amt;\n  if (g > 255) g = 255;\n  else if (g < 0) g = 0;\n  // return lighter RGB\n  return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nconst ROOT_DB_COLLECTION = 'd-calendar';\n\n@Injectable()\nexport class FullCalendarService {\n\n  private readonly _uiConfig$ = new BehaviorSubject<{initialView: string;}>( null as any);\n  public readonly uiConfig$ = this._uiConfig$.asObservable();\n  private readonly _loadedEventDataParts$ = new BehaviorSubject<string[]>([]);\n  public readonly loadedEventDataParts$ = this._loadedEventDataParts$.asObservable();\n  private readonly _calendarsData$: BehaviorSubject<any[]> = new BehaviorSubject([] as any);\n  public readonly calendarsData$: Observable<any[]> = this._calendarsData$.asObservable();\n  private readonly _fullCalendarComp$: BehaviorSubject<FullCalendarComponent> = new BehaviorSubject(null as any);\n  public readonly fullCalendarComp$: Observable<FullCalendarComponent> = this._fullCalendarComp$.asObservable();\n  private readonly _initalized$: BehaviorSubject<boolean> = new BehaviorSubject(false as any);\n  public readonly initalized$: Observable<boolean> = this._initalized$.asObservable();\n  private readonly _viewTitle$: BehaviorSubject<string> = new BehaviorSubject(undefined as any);\n  public readonly viewTitle$ = this._viewTitle$.asObservable();\n\n  constructor(\n    private readonly _modalCtrl: ModalController,\n    private readonly _confirmCtrl: AlertController,\n    @Inject(getInjectionToken(TOKENS_NAME.APP_LOADER_SERVICE)) private readonly _loaderService: ILoadingService,\n    @Inject(getInjectionToken(TOKENS_NAME.APP_DATASTORE_SERVICE)) private readonly _datastoreService: IDatastoreService\n  ) {}\n\n  /**\n   * Will return the FullCalendar API or throw an error if not found\n   * @returns \n   */\n  calendarAPI() {\n    const calendarApi = this._fullCalendarComp$.value?.getApi();\n    if (!calendarApi) throw new Error('Calendar API not found');\n    return calendarApi;\n  }\n\n  /**\n   * Load UI Config from Database \n   * and set reactive `_uiConfig$` property with data loaded.\n   * @returns \n   */\n  async loadUIConfigFromDatabase() {\n    const {uiConfig } = await this._datastoreService.getData(\n      ROOT_DB_COLLECTION, // collection\n      ['uiConfig'], // key\n      { uiConfig: {\n        initialView: 'timeGridWeek',\n      } } // default value to save if not exist (optional)\n    );\n    this._uiConfig$.next(uiConfig);\n    return uiConfig;\n  }\n\n  /**\n   * Load All Calendars from Database\n   * and set reactive `_calendarsConfig` property with data loaded.\n   * If no data is found, the function will create a default calendar and save it to database.\n   */\n  async loadCalendarsFromDatabase() {\n    const defaultCalendar = {\n      _id: uuidv4(), \n      name: 'delault',\n      className: 'ceramic-event',\n      durationEditable: true,\n      editable: true,\n      isVisible: true,\n      color: 'var(--ion-color-primary)'\n    };\n    const {calendars = []} = await this._datastoreService.getData(\n      ROOT_DB_COLLECTION, // collection\n      ['calendars'], // key\n      { calendars: [defaultCalendar] } // default value to save if not exist (optional)\n    );\n    this._calendarsData$.next(calendars);\n    return calendars;\n  }\n\n  /**\n   * Will init Component UI by triggering `render` method\n   * and load events of each `calendars`\n   * @param calendarComponent \n   * @param calendarsData \n   */\n  async initService(calendarComponent: FullCalendarComponent, calendarsData: any[]) {\n    this._loaderService.setStatus(true);\n    this._fullCalendarComp$.next(calendarComponent);\n    this._initalized$.next(true);\n    await new Promise((resolve) => {\n      setTimeout(() => {\n        calendarComponent.getApi().render();\n        resolve(true);\n      }, 250);  \n    });\n    const loadingEventsPromises = []\n    // check if one calendar have `className` with value `ceramic-event`\n    const loadCeramicEvents = calendarsData.some(\n      (calendar: {className: string}) => calendar.className === 'ceramic-event'\n    );\n    // load ceramic events from current view start to end\n    if (loadCeramicEvents) { \n      // get events from database\n      // push promise to array\n      loadingEventsPromises.push(this.loadEventFromViewStartEnd());\n    }\n    // get calendars have `className` with value `google-event`\n    const loadGoogleEvents = calendarsData.filter(\n      (calendar: {className: string}) => calendar.className === 'google-event'\n    );\n    // load google events\n    if (loadGoogleEvents.length > 0) {\n      loadGoogleEvents.forEach(async (googleCalendar: any) => {\n        // push promise to array\n        loadingEventsPromises.push(\n          // get events from Google Calendar\n          new Promise((resolve, reject)=> {\n            this.setEventSource({\n              ...googleCalendar,\n              className: 'google-event',\n              durationEditable: false,\n              editable: false,\n              success: (googleEvent) => {\n                resolve(googleEvent);\n              },\n              failure: (e) => reject('[ERROR] Load Google Calendar Events: ' + e.message),\n            });\n\n          })\n        );\n      });\n    }\n    // wait all promises\n    await Promise.all(loadingEventsPromises);\n    // hide loader\n    this._loaderService.setStatus(false);\n  }\n\n  /**\n   * Wrapper to load events from database for each month between current start and end date\n   * base on current Calendar Component UI view\n   * @returns \n   */\n  async loadEventFromViewStartEnd() {\n    const startDate = this.calendarAPI()?.view?.currentStart;\n    const endDate = this.calendarAPI()?.view?.currentEnd;\n    if (!startDate || !endDate) return;\n    // load data evnts for each month bwtween current start and end date incuding current month\n    const startYear = startDate.getFullYear();\n    const startMonth = startDate.getMonth() + 1;\n    const endYear = endDate.getFullYear();\n    const endMonth = endDate.getMonth() + 1;\n    const months = [];\n    for (let i = startMonth; i <= endMonth; i++) {\n      months.push(`${startYear}/${i}`);\n    }\n    const events = await Promise\n      .all(months.map(key => this._getEventsFromDatabase(key)))\n      .then((result) => {\n        // return flated array\n        return result.reduce((acc, cur) => cur && acc ? acc.concat(cur) : [], []);\n      })\n      // add `id`for fullcalendar methood utility\n      .then(datas => datas?.map((data: any) =>  ({...data, id: data._id})));\n    // Set events to calendar UI and return promise\n    return await new Promise((resolve, reject)=> this.setEventSource({\n      events,\n      className: 'ceramic-event',\n      id: 'ceramic-event', \n      success: () => {\n        resolve('[INFO] load events success');\n      },\n      failure: (err) => {\n        reject(err.message);\n      }\n    }));\n  }\n\n  /**\n   * Will add Events Sources data to FullCalendar API.\n   * @param source \n   * @returns \n   */\n  async setEventSource(source: EventSourceInput = []) {\n    const calendarApi = this._fullCalendarComp$.value.getApi();\n    if (!calendarApi) return;    \n    calendarApi.addEventSource(source);\n  }\n\n  /**\n   * Will prompt user to create a new calendar\n   * then update the state and database\n   * before return created calendar\n   * @returns newCalendar\n   */\n  async createNewCalendar() {\n    const ionAlertCreate = await this._confirmCtrl.create({\n      header: 'Create New Calendar',\n      message: 'Fill in the form below to create a new calendar',\n      buttons: [\n        { text: 'Cancel', role: 'cancel' },\n        { text: 'Create', role: 'ok' }\n      ],\n      inputs: [\n        { name: 'name', type: 'text', placeholder: 'Calendar Name ' },\n        { name: 'googleCalendarApiKey', type: 'text', placeholder: 'Google API Key (optional)' },\n        { name: 'googleCalendarId', type: 'text', placeholder: 'Google Calendar ID (optional)' }\n      ],\n    });\n    ionAlertCreate.present();\n    // extract inputs form values\n    const { role, data: {values = {}} } = await ionAlertCreate.onDidDismiss();\n    if (role !== 'ok') {\n      return;\n    }\n    // add unique id to calendar\n    values._id = uuidv4();\n    // remove empty values and empty string values\n    const valuesFiltered: any = Object.entries(values).reduce((acc, [key, value]) => {\n      if (!value) return acc;\n      if (value === '') return acc;\n      return {...acc, [key]: value};\n    }, {});\n    const newCalendar = {\n      color: 'var(--ion-color-primary)',\n      ...valuesFiltered, \n      className: (!valuesFiltered.googleCalendarId) ? 'ceramic-event' : 'google-event',\n      durationEditable: (!valuesFiltered.googleCalendarId) ? true : false,\n      editable: (!valuesFiltered.googleCalendarId) ? true : false,\n      isVisible: true,\n    };\n    const calendars = [...this._calendarsData$.value, newCalendar];\n    // update state\n    this._calendarsData$.next(calendars);\n    // save to database\n    await this._datastoreService.saveData({\n      calendars\n    }, ROOT_DB_COLLECTION, ['calendars']);\n    // Load Google Calendar Events if is a Google Calendar\n    if (newCalendar.googleCalendarId) {\n      await new Promise((resolve, reject)=> {\n        this.setEventSource({\n          ...newCalendar,\n          className: 'google-event',\n          durationEditable: false,\n          editable: false,\n          success: (googleEvent) => {\n            resolve(googleEvent);\n          },\n          failure: (e) => reject('[ERROR] Load Google Calendar Events: ' + e.message),\n        });\n\n      })\n    }\n    return newCalendar;\n  }\n\n  /**\n   * Will delete a calendar from state and database\n   */\n  async deleteCalendar(calendar: any) {\n    const calendarsData = this._calendarsData$.value;\n    const index = calendarsData.findIndex(element => element._id === calendar._id);\n    calendarsData.splice(index, 1);\n    // update state\n    this._calendarsData$.next(calendarsData);\n    // save to database\n    await this._datastoreService.saveData({\n      calendars: calendarsData\n    }, ROOT_DB_COLLECTION, ['calendars']);\n  }\n\n  /**\n   * Will update data object of a calendar before update state\n   * and save to database\n   * @param calendar \n   */\n  async updateCalendar(calendar: any) {\n    // update application state \n    const calendarsData = this._calendarsData$.value;\n    const index = calendarsData.findIndex(element => element._id === calendar._id);\n    // update object data\n    calendarsData[index] = {...calendarsData[index], ...calendar};\n    // update state before database to avoid UI lag or loading\n    this._calendarsData$.next(calendarsData);  \n    // save to database\n    await this._datastoreService.saveData({\n      calendars: calendarsData\n    }, ROOT_DB_COLLECTION, ['calendars']);\n    // update event colors\n    const events = this.calendarAPI()?.getEvents();\n    events.forEach(event => {\n      if (event.extendedProps?.['calendarIds']?.includes(calendar._id)) {\n        event.setProp('backgroundColor', lightenDarkenColor(calendar.color, 30));\n        event.setProp('borderColor', lightenDarkenColor(calendar.color, -30));\n      }\n    });  \n  }\n  \n  async handleEventsSet() {\n    const calendarApi = this._fullCalendarComp$.value?.getApi();\n    if (!calendarApi) return;\n    const data = calendarApi.getCurrentData();    \n    this._viewTitle$.next(data.viewApi.title);\n  }\n\n  /**\n   * Will be called when an event is mounted on the UI\n   * It responsible for checking if the event is visible\n   * and hide it if not\n   * It also responsible for adding correct color to the event\n   * based on the calendar color.\n   * @param arg \n   */\n  async handleEventDidMount(arg: EventMountArg) {\n    const isVisible = this._isEventVisible(arg.event);\n    // console.log('check if visible: ', isVisible, this._calendarsData$.value, arg  );\n    if (arg?.el?.style?.display) {\n      if (!isVisible ) {\n        arg.el.style.display = 'none';\n      } else {\n        arg.el.style.display = 'block';\n      }\n    }\n    //  get event calendar Ids\n    let calendarIds = arg.event.extendedProps['calendarIds'];\n    if (!calendarIds) {\n      //  if have default cal use it or use first calendar\n      const defaultCal = this._calendarsData$.value.find(\n        (calendar: any) => calendar.default\n      );\n      calendarIds = [defaultCal?._id || this._calendarsData$?.value[0]?._id];\n    }   \n    if (calendarIds.length >= 1) {\n      // set event color\n      this._setEventColor(arg.el.style, calendarIds);\n    }\n  }\n\n  private _extractProp(extendedProps: any) {\n    const props: any = {};\n    for (const key in extendedProps) {\n        const element = extendedProps[key];\n        props[key] = element;\n    }\n    return props;\n  }\n\n  /**\n   * Will be called when user `drop`, `resize` or `click` an event\n   * This will open a modal to edit the event\n   * and trigger corresponding action based on user action (update/delete)\n   * @param arg \n   * @param editModeEnabled \n   * @returns \n   */\n  async handleEvent(arg: EventDropArg|EventResizeDoneArg|EventClickArg, editModeEnabled: boolean = true) {    \n    const {event: eventApi, el} = arg;\n    const {extendedProps = {}} = eventApi;\n    const props = this._extractProp(extendedProps);    \n    const schedule = {\n      ...props,\n      start: eventApi.start,\n      end: eventApi.end,\n      title: eventApi.title,\n      allDay: eventApi.allDay,\n      url: eventApi.url,\n    };\n    // run default logic to open modal\n    const {\n      _context = null, \n      _def = null, \n      _instance = null,\n      role,\n      jsEvent,\n      view, \n      ...response} = await this._openModal(schedule, editModeEnabled) || {};\n    // handle close modal without action\n    if (role === 'cancel'|| role === 'backdrop' || !role) {\n      if ((arg as any)?.revert) {\n        (arg as any).revert();\n      }\n      return\n    };\n    // display loader\n    this._loaderService.setStatus(true);\n    // handle update type event\n    switch (true) {\n      case role === 'delete': {\n        const year = schedule.start.getFullYear();\n        const month = schedule.start.getMonth() + 1;\n        // delete from database\n        await this._deleteObject([`${year}/${month}`], schedule._id);\n        // delete from ui\n        eventApi.remove();\n        break;\n      } \n      case role === 'update':{\n        // save event to database\n        const eventUpdated = await this._saveEvent({...response});\n        const calendarApi = this.calendarAPI();\n        // check if event exist\n        const e = calendarApi.getEventById(schedule._id);\n        if (!e) break;\n        // e.remove();\n        // calendarApi.addEvent(eventUpdated);\n        // console.log('>>>', e); \n        for (const iterator in eventUpdated) {\n            // console.log(iterator);\n            if (!eventUpdated[iterator])\n              continue;\n            if (iterator === 'title') {\n              e.setProp('title', eventUpdated[iterator]);\n              continue;\n            }\n            if (iterator === 'start') {\n              e.setStart(eventUpdated[iterator] as any);\n              continue;\n            }\n            if (iterator === 'end') {\n              e.setEnd(eventUpdated[iterator] as any);\n              continue;\n            }\n            if (iterator === 'allDay') {\n              e.setAllDay(eventUpdated[iterator] as any);\n              continue;\n            }\n            e.setExtendedProp(iterator, eventUpdated[iterator]);\n            // e.setProp(iterator, eventUpdated[iterator]);\n        }\n        break;\n      }\n      default:\n        break;\n    }\n    this._loaderService.setStatus(false);\n  }\n\n  /**\n   * Will be called when a date range is selected on the CalendarComponent UI \n   * and will create a new event in the database and update the UI\n   * @param arg \n   * @returns \n   */\n  async handleDateSelect(arg: DateSpanApi) {\n    console.log('handleDateSelect', arg);\n    this._loaderService.setStatus(true);\n    // save event to database \n    const event = await this._saveEvent({\n      title: 'new Event',\n      ...arg\n    });\n    // add `id`for fullcalendar methood utility\n    event.id = event._id;\n    // update calendar ui\n    this.calendarAPI().addEvent(event);\n    this._loaderService.setStatus(false);\n  }\n\n  async updateCalendarsVisibility(calendar: {isVisible: boolean, _id: string}) {\n    const calendarApi = this._fullCalendarComp$.value.getApi();\n    if (!calendarApi) return;\n    // upadate calendar config\n    const calendarsConfig = this._calendarsData$.value;\n    const index = calendarsConfig.findIndex(c => c._id === calendar._id);\n    calendarsConfig[index].isVisible = calendar.isVisible;\n    // update aplication state \n    this._calendarsData$.next(calendarsConfig);\n    // update calendar ui\n    const eventsApi = calendarApi.getEvents();\n    eventsApi.forEach((event: EventImpl) => {\n      const isVisible = this._isEventVisible(event);\n      if (isVisible) {\n        event.setProp( 'display', 'auto' );        \n      } else {\n        event.setProp( 'display', 'none' );\n      }\n    });\n    // update database value\n    await this._datastoreService.saveData(\n      {calendars: this._calendarsData$.value},\n      ROOT_DB_COLLECTION,\n      ['calendars']\n    );\n  }\n\n  /**\n   * Will load `events` from database base on `key`\n   * @param key like `${year}/${month}`\n   * @returns \n   */\n  private async _getEventsFromDatabase(key?: string) {\n    if (!key) {\n      // use current month to define key\n      const calendarApi = this._fullCalendarComp$.value.getApi();\n      if (!calendarApi) return;\n      const date = calendarApi.getDate();\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      key = `${year}/${month}`;\n    }  \n    // get events from database\n    const {events = []} = await this._datastoreService.getData(\n      ROOT_DB_COLLECTION,\n      [key],\n      {\n        events: []\n      }\n    );\n    // update loaded event data part state\n    this._loadedEventDataParts$.next([\n      ...this._loadedEventDataParts$.value,\n      key\n    ]);\n    // return result\n    return events;    \n  }\n\n  private async _openModal<T>(arg: T, editModeEnabled = true) {\n    const calendars = await this._calendarsData$.value;\n    const modal = await this._modalCtrl.create({\n      component: AppointmentModalComponent,\n      componentProps: {\n        data: {...arg},\n        editModeEnabled,\n        calendars\n      }\n    });\n    modal.present();\n    const { data = undefined, role = 'cancel'} =  await modal.onDidDismiss();    \n    return role !== 'cancel' ? {...data, role} : {role};\n  }\n\n  private async _openConfirm(ops: AlertOptions) {\n    const alert = await this._confirmCtrl.create(ops);\n    alert.present();\n    const { role } = await alert.onDidDismiss();\n    return role;\n  }\n\n  /**\n   * Method to load specific data part from database based on `date` and `type`\n   * This method will be called when calendar view change and will load more data\n   * to prevent loading all data at once on calendar init\n   * and \n   * @param date \n   * @param type \n   */\n  async loadEventsPart(date: Date, type: 'fullMonth'|'fullDay'|'fullYear' = 'fullMonth') {\n    // get key like `${year}/${month}`;\n    const key = `${date?.getFullYear()}/${(date?.getMonth()||0)+1}`;\n    const loadedDataParts = this._loadedEventDataParts$.value;\n    // prevent reload existing part\n    if (loadedDataParts.includes(key)) {\n      return;\n    }\n    // load more data part base on key\n    const eventsParts = await this._getEventsFromDatabase(key);\n    console.log(`[INFO] load events part: ${key}`, eventsParts);\n    // get ceramic-event source object\n    const eventSource = this.calendarAPI()?.getEventSourceById('ceramic-event');\n    // add events to calendar\n    if (eventsParts && eventSource) {\n      await new Promise((resolve, reject)=> {\n        this.calendarAPI()?.addEventSource({\n          events: eventsParts,\n          className: 'ceramic-event',\n          id: 'ceramic-event',\n          success: () => {\n            resolve('[INFO] add events part success');\n          },\n          failure: (err) => reject(err.message)\n        });\n      });\n    }\n  }\n\n  /**\n   * Method to save event to database.\n   * Work with new or existing event\n   * Events are saved in database based on `year/month` key inside an object with `events` key array.\n   * The final structure will be like:\n   * ```\n   * {\n   *    events: [\n   *     ...schedule\n   *   ]\n   * }\n   * ```\n   * \n   * @param schedule \n   * @returns \n   */\n  private async _saveEvent(schedule: any) {\n    // create ID if is a new schedule\n    if (!schedule._id) {\n      schedule._id = uuidv4();\n    }\n    // generate key from Date\n    const year = schedule.start.getFullYear();\n    const month = schedule.start.getMonth() + 1;\n    const key =  [`${year}/${month}`];\n    // load existing events from database to merge with new event\n    const {events = []} = await this._datastoreService.getData(\n      ROOT_DB_COLLECTION, key, { events: [] }\n    );\n    // update database events\n    await this._datastoreService.saveData(\n      { events: [ ...events.filter(\n        (e: EventInput & {_id: string}) => e._id !== schedule._id\n      ), schedule ] },\n      ROOT_DB_COLLECTION,\n      key\n    );\n    // return event with _id\n    const event: EventInput & {_id: string} = {\n      ...schedule,\n      title: schedule.title||'new Event',\n      allDay: schedule.allDay||false\n    };\n    return event; \n  }\n\n  /**\n   * Method to delete event from database\n   * @param id \n   */\n  private async _deleteObject(key: string[], scheduleId: string) {\n    console.log('_deleteObject', key);\n    // load existing events from database to merge with new event\n    const { events } = await this._datastoreService.getData(\n      ROOT_DB_COLLECTION, key, { events: [] } \n    );\n    // filter events to remove deleted one\n    const filtredEvents = events.filter((e: EventInput & {_id: string}) => e._id !== scheduleId);\n    // update database events \n    await this._datastoreService.saveData(\n      { events: filtredEvents },\n      ROOT_DB_COLLECTION,\n      key\n    );\n  }\n\n  /**\n   * Method to style event based on calendar color\n   * @param eventStyle \n   * @param calendarIds \n   * @param defaultColor \n   */\n  private _setEventColor(eventStyle: CSSStyleDeclaration, calendarIds: string[], defaultColor?: 'var(--ion-color-primary)') {\n    // find coresponding calendar to set event color    \n    const calendar = this._calendarsData$.value.find(c => calendarIds.includes(c._id));\n    const color = calendar?.color || defaultColor;\n    // get rgb color  from hex\n    const [r,g,b] = this._hexToRgb(color);\n    const lum = (((0.299 * r) + ((0.587 * g) + (0.114 * b))));\n    const textColor = lum > 156 ? 'black' : 'white';\n    // set event color\n    // TODO: check why color text is not working\n    eventStyle.color = textColor;\n    eventStyle.backgroundColor = lightenDarkenColor(color, 30); //.setProp('borderColor', 'red');\n    eventStyle.borderLeftColor = lightenDarkenColor(color, -30); //.setProp('borderColor', 'red');\n  }\n\n  /**\n   * Utils method to check if event is visible based on calendar visibility\n   * @param event \n   * @returns \n   * TODO: refactor this method as a pipe\n   */\n  private _isEventVisible(event: any) {\n    return this._calendarsData$.value.some(\n    calendar => \n    event.extendedProps['calendarIds']\n      // test for ceramic calendar\n      ? (event?.extendedProps['calendarIds']?.includes?.(calendar._id)\n        && calendar?.isVisible) \n      // test for Google Calendar\n      : (event?.source?.internalEventSource?._raw['googleCalendarId'] === calendar?.googleCalendarId\n        && calendar?.isVisible)\n  );}\n\n  private _hexToRgb(hex: string) {\n    const bigint = parseInt(hex.replace('#', ''), 16);\n    const r = (bigint >> 16) & 255;\n    const g = (bigint >> 8) & 255;\n    const b = bigint & 255;\n    return [r, g, b];\n  }\n}","import { Route } from '@angular/router';\nimport { CalendarPageComponent } from './containers/calendar-page/calendar-page.component';\n\nexport const calendarRoutes: Route[] = [\n  {\n    path: '', \n    pathMatch: 'full', \n    component: CalendarPageComponent\n  }\n];\n","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"viewName\"\n})\nexport class ViewNamePipe implements PipeTransform {\n  transform(value: string): string {\n    switch (value) {\n      case 'dayGridMonth':\n        return 'Month';\n      case 'timeGridWeek':\n        return 'Week';\n      case 'timeGridDay':\n        return 'Day';\n      case 'listWeek':\n        return 'List';\n      case 'listDay':\n        return 'List';\n      case 'listMonth':\n        return 'List';\n      default:\n        return 'Week';\n    }\n  }\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","/**\n * Days in 1 week.\n *\n * @name daysInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInWeek = 7;\n/**\n * Days in 1 year\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n *\n * @name daysInYear\n * @constant\n * @type {number}\n * @default\n */\n\nexport var daysInYear = 365.2425;\n/**\n * Maximum allowed time.\n *\n * @name maxTime\n * @constant\n * @type {number}\n * @default\n */\n\nexport var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n/**\n * Milliseconds in 1 minute\n *\n * @name millisecondsInMinute\n * @constant\n * @type {number}\n * @default\n */\n\nexport var millisecondsInMinute = 60000;\n/**\n * Milliseconds in 1 hour\n *\n * @name millisecondsInHour\n * @constant\n * @type {number}\n * @default\n */\n\nexport var millisecondsInHour = 3600000;\n/**\n * Milliseconds in 1 second\n *\n * @name millisecondsInSecond\n * @constant\n * @type {number}\n * @default\n */\n\nexport var millisecondsInSecond = 1000;\n/**\n * Minimum allowed time.\n *\n * @name minTime\n * @constant\n * @type {number}\n * @default\n */\n\nexport var minTime = -maxTime;\n/**\n * Minutes in 1 hour\n *\n * @name minutesInHour\n * @constant\n * @type {number}\n * @default\n */\n\nexport var minutesInHour = 60;\n/**\n * Months in 1 quarter\n *\n * @name monthsInQuarter\n * @constant\n * @type {number}\n * @default\n */\n\nexport var monthsInQuarter = 3;\n/**\n * Months in 1 year\n *\n * @name monthsInYear\n * @constant\n * @type {number}\n * @default\n */\n\nexport var monthsInYear = 12;\n/**\n * Quarters in 1 year\n *\n * @name quartersInYear\n * @constant\n * @type {number}\n * @default\n */\n\nexport var quartersInYear = 4;\n/**\n * Seconds in 1 hour\n *\n * @name secondsInHour\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInHour = 3600;\n/**\n * Seconds in 1 minute\n *\n * @name secondsInMinute\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInMinute = 60;\n/**\n * Seconds in 1 day\n *\n * @name secondsInDay\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInDay = secondsInHour * 24;\n/**\n * Seconds in 1 week\n *\n * @name secondsInWeek\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInWeek = secondsInDay * 7;\n/**\n * Seconds in 1 year\n *\n * @name secondsInYear\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInYear = secondsInDay * daysInYear;\n/**\n * Seconds in 1 month\n *\n * @name secondsInMonth\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInMonth = secondsInYear / 12;\n/**\n * Seconds in 1 quarter\n *\n * @name secondsInQuarter\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInQuarter = secondsInMonth * 3;","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getDate\n * @category Day Helpers\n * @summary Get the day of the month of the given date.\n *\n * @description\n * Get the day of the month of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the day of month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which day of the month is 29 February 2012?\n * const result = getDate(new Date(2012, 1, 29))\n * //=> 29\n */\n\nexport default function getDate(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var dayOfMonth = date.getDate();\n  return dayOfMonth;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getMonth\n * @category Month Helpers\n * @summary Get the month of the given date.\n *\n * @description\n * Get the month of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which month is 29 February 2012?\n * const result = getMonth(new Date(2012, 1, 29))\n * //=> 1\n */\n\nexport default function getMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  return month;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getYear\n * @category Year Helpers\n * @summary Get the year of the given date.\n *\n * @description\n * Get the year of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which year is 2 July 2014?\n * const result = getYear(new Date(2014, 6, 2))\n * //=> 2014\n */\n\nexport default function getYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  return toDate(dirtyDate).getFullYear();\n}","import { millisecondsInHour, millisecondsInMinute } from \"../constants/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @param {String} argument - the value to convert\n * @param {Object} [options] - an object with options.\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\n\nexport default function parseISO(argument, options) {\n  var _options$additionalDi;\n\n  requiredArgs(1, arguments);\n  var additionalDigits = toInteger((_options$additionalDi = options === null || options === void 0 ? void 0 : options.additionalDigits) !== null && _options$additionalDi !== void 0 ? _options$additionalDi : 2);\n\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2');\n  }\n\n  if (!(typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]')) {\n    return new Date(NaN);\n  }\n\n  var dateStrings = splitDateString(argument);\n  var date;\n\n  if (dateStrings.date) {\n    var parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(date.getTime())) {\n    return new Date(NaN);\n  }\n\n  var timestamp = date.getTime();\n  var time = 0;\n  var offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n\n    if (isNaN(time)) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    var dirtyDate = new Date(timestamp + time); // js parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n\n    var result = new Date(0);\n    result.setFullYear(dirtyDate.getUTCFullYear(), dirtyDate.getUTCMonth(), dirtyDate.getUTCDate());\n    result.setHours(dirtyDate.getUTCHours(), dirtyDate.getUTCMinutes(), dirtyDate.getUTCSeconds(), dirtyDate.getUTCMilliseconds());\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\nvar patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/\n};\nvar dateRegex = /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nvar timeRegex = /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nvar timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  var dateStrings = {};\n  var array = dateString.split(patterns.dateTimeDelimiter);\n  var timeString; // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(dateStrings.date.length, dateString.length);\n    }\n  }\n\n  if (timeString) {\n    var token = patterns.timezone.exec(timeString);\n\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '');\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var regex = new RegExp('^(?:(\\\\d{4}|[+-]\\\\d{' + (4 + additionalDigits) + '})|(\\\\d{2}|[+-]\\\\d{' + (2 + additionalDigits) + '})$)');\n  var captures = dateString.match(regex); // Invalid ISO-formatted year\n\n  if (!captures) return {\n    year: NaN,\n    restDateString: ''\n  };\n  var year = captures[1] ? parseInt(captures[1]) : null;\n  var century = captures[2] ? parseInt(captures[2]) : null; // either year or century is null, not both\n\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length)\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n  var captures = dateString.match(dateRegex); // Invalid ISO-formatted string\n\n  if (!captures) return new Date(NaN);\n  var isWeekDate = !!captures[4];\n  var dayOfYear = parseDateUnit(captures[1]);\n  var month = parseDateUnit(captures[2]) - 1;\n  var day = parseDateUnit(captures[3]);\n  var week = parseDateUnit(captures[4]);\n  var dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    var date = new Date(0);\n\n    if (!validateDate(year, month, day) || !validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN);\n    }\n\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  var captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  var hours = parseTimeUnit(captures[1]);\n  var minutes = parseTimeUnit(captures[2]);\n  var seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000;\n}\n\nfunction parseTimeUnit(value) {\n  return value && parseFloat(value.replace(',', '.')) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === 'Z') return 0;\n  var captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n  var sign = captures[1] === '+' ? -1 : 1;\n  var hours = parseInt(captures[2]);\n  var minutes = captures[3] && parseInt(captures[3]) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  var date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\n  var diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n} // Validation functions\n// February is null to handle the leap year (using ||)\n\n\nvar daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\n}\n\nfunction validateDate(year, month, date) {\n  return month >= 0 && month <= 11 && date >= 1 && date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28));\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return seconds >= 0 && seconds < 60 && minutes >= 0 && minutes < 60 && hours >= 0 && hours < 25;\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function x(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var R=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),R&&R(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var I=e.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function j(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function z(n,e){var r=t(j,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var B=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,H=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Z=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Y=/[A-Z0-9]/g,$=\"undefined\"!=typeof document,q=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function G(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function J(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var K=e.event;function Q(){}function X(){return this.cancelBubble}function nn(){return this.defaultPrevented}e.event=function(n){return K&&(n=K(n)),n.persist=Q,n.isPropagationStopped=X,n.isDefaultPrevented=nn,n.nativeEvent=n};var tn,en={enumerable:!1,configurable:!0,get:function(){return this.class}},rn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={};for(var o in t){var i=t[o];if(!(\"value\"===o&&\"defaultValue\"in t&&null==i||$&&\"children\"===o&&\"noscript\"===e||\"class\"===o||\"className\"===o)){var l=o.toLowerCase();\"defaultValue\"===o&&\"value\"in t&&null==t.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":\"ondoubleclick\"===l?o=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||q(t.type)?\"onfocus\"===l?o=\"onfocusin\":\"onblur\"===l?o=\"onfocusout\":Z.test(o)?o=l:-1===e.indexOf(\"-\")&&H.test(o)?o=o.replace(Y,\"-$&\").toLowerCase():null===i&&(i=void 0):l=o=\"oninput\",\"oninput\"===l&&u[o=l]&&(o=\"oninputCapture\"),u[o]=i}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",en)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=B,rn&&rn(n)};var un=e.__r;e.__r=function(n){un&&un(n),tn=n.__c};var on=e.diffed;e.diffed=function(n){on&&on(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),tn=null};var ln={ReactCurrentDispatcher:{current:{readContext:function(n){return tn.__n[n.__c].props.value}}}},cn=\"17.0.2\";function fn(n){return t.bind(null,n)}function an(n){return!!n&&n.$$typeof===B}function sn(n){return an(n)?f.apply(null,arguments):n}function hn(n){return!!n.__k&&(o(null,n),!0)}function vn(n){return n&&(n.base||1===n.nodeType&&n)||null}var dn=function(n,t){return n(t)},pn=function(n,t){return n(t)},mn=u;function yn(n){n()}function _n(n){return n}function bn(){return[!1,yn]}var Sn=d;function gn(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var Cn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:Sn,useTransition:bn,useDeferredValue:_n,useSyncExternalStore:gn,startTransition:yn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:G,hydrate:J,unmountComponentAtNode:hn,createPortal:z,createElement:t,createContext:l,createFactory:fn,cloneElement:sn,createRef:c,Fragment:u,isValidElement:an,findDOMNode:vn,Component:n,PureComponent:w,memo:x,forwardRef:k,flushSync:pn,unstable_batchedUpdates:dn,StrictMode:mn,Suspense:D,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ln};export{O as Children,w as PureComponent,mn as StrictMode,D as Suspense,V as SuspenseList,ln as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sn as cloneElement,fn as createFactory,z as createPortal,Cn as default,vn as findDOMNode,pn as flushSync,k as forwardRef,J as hydrate,an as isValidElement,M as lazy,x as memo,G as render,yn as startTransition,hn as unmountComponentAtNode,dn as unstable_batchedUpdates,_n as useDeferredValue,Sn as useInsertionEffect,gn as useSyncExternalStore,bn as useTransition,cn as version};\n","var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l){this.props=n,this.context=l}function b(n,l){if(null==l)return n.__?b(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?b(n):null}function g(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return g(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!w.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(w)}function w(){var n,l,u,i,r,o,e,c;for(t.sort(f);n=t.shift();)n.__d&&(l=t.length,i=void 0,r=void 0,e=(o=(u=n).__v).__e,(c=u.__P)&&(i=[],(r=h({},o)).__v=o.__v+1,L(c,o,r,u.__n,void 0!==c.ownerSVGElement,null!=o.__h?[e]:null,i,null==e?b(o):e,o.__h),M(i,o),o.__e!=e&&g(o)),t.length>l&&t.sort(f));w.__r=0}function x(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,g,m,w=i&&i.__k||s,x=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||\"boolean\"==typeof d||\"function\"==typeof d?null:\"string\"==typeof d||\"number\"==typeof d||\"bigint\"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=w[h])||y&&d.key==y.key&&d.type===y.type)w[h]=void 0;else for(v=0;v<x;v++){if((y=w[v])&&d.key==y.key&&d.type===y.type){w[v]=void 0;break}y=null}L(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(m||(m=[]),y.ref&&m.push(y.ref,null,d),m.push(v,d.__c||k,d)),null!=k?(null==g&&(g=k),\"function\"==typeof d.type&&d.__k===y.__k?d.__d=e=A(d,e,n):e=C(n,d,y,w,k,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=b(y))}for(u.__e=g,h=x;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=$(i).nextSibling),S(w[h],w[h]));if(m)for(h=0;h<m.length;h++)O(m[h],m[++h],m[++h])}function A(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?A(i,l,u):C(u,i,i,t,i.__e,l));return l}function P(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){P(n,l)}):l.push(n)),l}function C(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function $(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=$(u)))return i;return null}function H(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||T(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||T(n,r,l[r],u[r],i)}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?z:j,r):n.removeEventListener(l,r?z:j,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function j(n){return this.l[n.type+!1](l.event?l.event(n):n)}function z(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,b,g,m,w,A,P,C,$,H,I=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof I){if(g=u.props,m=(s=I.contextType)&&t[s.__c],w=s?m?m.props.value:s.__:t,i.__c?b=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in I&&I.prototype.render?u.__c=a=new I(g,w):(u.__c=a=new k(g,w),a.constructor=I,a.render=q),m&&m.sub(a),a.props=g,a.state||(a.state={}),a.context=w,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=I.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,I.getDerivedStateFromProps(g,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==I.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==I.getDerivedStateFromProps&&g!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(g,w),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(g,a.__s,w)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=g,a.state=a.__s,a.__d=!1),a.__e=!1,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),A=0;A<a._sb.length;A++)a.__h.push(a._sb[A]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(g,a.__s,w),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=w,a.props=g,a.__P=n,P=l.__r,C=0,\"prototype\"in I&&I.prototype.render){for(a.state=a.__s,a.__d=!1,P&&P(u),s=a.render(a.props,a.state,a.context),$=0;$<a._sb.length;$++)a.__h.push(a._sb[$]);a._sb=[]}else do{a.__d=!1,P&&P(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++C<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),H=null!=s&&s.type===_&&null==s.key?s.props.children:s,x(n,Array.isArray(H)?H:[H],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),b&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=N(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function M(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(H(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,x(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&b(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&T(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&T(l,\"checked\",_,y.checked,!1))}return l}function O(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function S(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||O(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&S(t[r],u,i||\"function\"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],L(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),M(f,u)}function D(n,l){B(n,l,D)}function E(l,u,i){var t,r,o,f=h({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function F(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,m(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},k.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),m(this))},k.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},k.prototype.render=_,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},w.__r=0,e=0;export{k as Component,_ as Fragment,E as cloneElement,F as createContext,y as createElement,d as createRef,y as h,D as hydrate,i as isValidElement,l as options,B as render,P as toChildArray};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function h(n){return o=1,s(B,n)}function s(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function p(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function y(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,y(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,p as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,y as useLayoutEffect,F as useMemo,s as useReducer,_ as useRef,h as useState};\n","import deepEqual from 'fast-deep-equal';\nimport * as i0 from '@angular/core';\nimport { Component, ViewEncapsulation, Input, NgModule } from '@angular/core';\nimport { Calendar } from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = { ...val };\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.calendar = null;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: FullCalendarComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nFullCalendarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.0.0\", type: FullCalendarComponent, selector: \"full-calendar\", inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, ngImport: i0, template: '', isInline: true, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: FullCalendarComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'full-calendar',\n                    template: '',\n                    encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { options: [{\n                type: Input\n            }], deepChangeDetection: [{\n                type: Input\n            }] } });\n\nclass FullCalendarModule {\n}\nFullCalendarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: FullCalendarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nFullCalendarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.0.0\", ngImport: i0, type: FullCalendarModule, declarations: [FullCalendarComponent], exports: [FullCalendarComponent] });\nFullCalendarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: FullCalendarModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: FullCalendarModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        FullCalendarComponent\n                    ],\n                    imports: [],\n                    exports: [\n                        FullCalendarComponent\n                    ]\n                }]\n        }] });\n\n/*\n * Public API Surface of lib\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n//# sourceMappingURL=fullcalendar-angular.mjs.map\n","import { i as injectStyles, g as globalLocales, m as mergeProps, T as Theme, a as mapHash, V as ViewContextType, C as ContentContainer, b as buildViewClassNames, c as greatestDurationDenominator, d as createDuration, B as BASE_OPTION_DEFAULTS, f as formatWithOrdinals, D as DelayedRunner, e as createFormatter, h as diffWholeDays, j as memoize, k as buildBuildPluginHooks, l as memoizeObjArg, n as isPropsEqual, E as Emitter, o as getInitialDate, r as rangeContainsMarker, p as initEventSources, q as createEmptyEventStore, s as reduceCurrentDate, t as reduceEventSources, u as reduceEventStore, v as computeEventSourcesLoading, w as reduceEventSourcesNewTimeZone, x as rezoneEventStoreDates, y as mergeRawOptions, z as globalPlugins, A as BASE_OPTION_REFINERS, F as CALENDAR_LISTENER_REFINERS, G as CALENDAR_OPTION_REFINERS, H as COMPLEX_OPTION_COMPARATORS, I as VIEW_OPTION_REFINERS, J as DateEnv, K as DateProfileGenerator, L as createEventUi, M as parseBusinessHours, N as BaseComponent, O as setRef, P as Interaction, Q as getElSeg, R as elementClosest, S as EventImpl, U as listenBySelector, W as listenToHoverBySelector, X as PureComponent, Y as buildViewContext, Z as getUniqueDomId, _ as parseInteractionSettings, $ as interactionSettingsStore, a0 as getNow, a1 as CalendarImpl, a2 as flushSync, a3 as CalendarRoot, a4 as RenderId, a5 as isArraysEqual, a6 as applyStyleProp, a7 as sliceEventStore } from './internal-common.js';\nexport { a9 as JsonRequestError, a8 as createPlugin } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\n\nvar css_248z = \"\\n/*\\nfor css vars only.\\nthese values are automatically known in all stylesheets.\\nthe :root statement itself is only included in the common stylesheet.\\nthis file is not processed by postcss when imported into the postcss-custom-properties plugin,\\nso only write standard css!\\n\\nNOTE: for old browsers, will need to restart watcher after changing a variable\\n*/\\n\\n:root {\\n  --fc-small-font-size: .85em;\\n  --fc-page-bg-color: #fff;\\n  --fc-neutral-bg-color: rgba(208, 208, 208, 0.3);\\n  --fc-neutral-text-color: #808080;\\n  --fc-border-color: #ddd;\\n\\n  --fc-button-text-color: #fff;\\n  --fc-button-bg-color: #2C3E50;\\n  --fc-button-border-color: #2C3E50;\\n  --fc-button-hover-bg-color: #1e2b37;\\n  --fc-button-hover-border-color: #1a252f;\\n  --fc-button-active-bg-color: #1a252f;\\n  --fc-button-active-border-color: #151e27;\\n\\n  --fc-event-bg-color: #3788d8;\\n  --fc-event-border-color: #3788d8;\\n  --fc-event-text-color: #fff;\\n  --fc-event-selected-overlay-color: rgba(0, 0, 0, 0.25);\\n\\n  --fc-more-link-bg-color: #d0d0d0;\\n  --fc-more-link-text-color: inherit;\\n\\n  --fc-event-resizer-thickness: 8px;\\n  --fc-event-resizer-dot-total-width: 8px;\\n  --fc-event-resizer-dot-border-width: 1px;\\n\\n  --fc-non-business-color: rgba(215, 215, 215, 0.3);\\n  --fc-bg-event-color: rgb(143, 223, 130);\\n  --fc-bg-event-opacity: 0.3;\\n  --fc-highlight-color: rgba(188, 232, 241, 0.3);\\n  --fc-today-bg-color: rgba(255, 220, 40, 0.15);\\n  --fc-now-indicator-color: red;\\n}\\n\\n/* classes attached to <body> */\\n\\n/* TODO: make fc-event selector work when calender in shadow DOM */\\n\\n.fc-not-allowed,\\n.fc-not-allowed .fc-event { /* override events' custom cursors */\\n  cursor: not-allowed;\\n}\\n\\n/* TODO: not attached to body. attached to specific els. move */\\n\\n.fc-unselectable {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n  -webkit-touch-callout: none;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.fc {\\n  /* layout of immediate children */\\n  display: flex;\\n  flex-direction: column;\\n\\n  font-size: 1em\\n}\\n.fc,\\n  .fc *,\\n  .fc *:before,\\n  .fc *:after {\\n    box-sizing: border-box;\\n  }\\n.fc table {\\n    border-collapse: collapse;\\n    border-spacing: 0;\\n    font-size: 1em; /* normalize cross-browser */\\n  }\\n.fc th {\\n    text-align: center;\\n  }\\n.fc th,\\n  .fc td {\\n    vertical-align: top;\\n    padding: 0;\\n  }\\n.fc a[data-navlink] {\\n    cursor: pointer;\\n  }\\n.fc a[data-navlink]:hover {\\n    text-decoration: underline;\\n  }\\n.fc-direction-ltr {\\n  direction: ltr;\\n  text-align: left;\\n}\\n.fc-direction-rtl {\\n  direction: rtl;\\n  text-align: right;\\n}\\n.fc-theme-standard td,\\n  .fc-theme-standard th {\\n    border: 1px solid var(--fc-border-color);\\n  }\\n/* for FF, which doesn't expand a 100% div within a table cell. use absolute positioning */\\n/* inner-wrappers are responsible for being absolute */\\n/* TODO: best place for this? */\\n.fc-liquid-hack td,\\n  .fc-liquid-hack th {\\n    position: relative;\\n  }\\n\\n@font-face {\\n  font-family: 'fcicons';\\n  src: url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n\\n.fc-icon {\\n  /* added for fc */\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  text-align: center;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: 'fcicons' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.fc-icon-chevron-left:before {\\n  content: \\\"\\\\e900\\\";\\n}\\n\\n.fc-icon-chevron-right:before {\\n  content: \\\"\\\\e901\\\";\\n}\\n\\n.fc-icon-chevrons-left:before {\\n  content: \\\"\\\\e902\\\";\\n}\\n\\n.fc-icon-chevrons-right:before {\\n  content: \\\"\\\\e903\\\";\\n}\\n\\n.fc-icon-minus-square:before {\\n  content: \\\"\\\\e904\\\";\\n}\\n\\n.fc-icon-plus-square:before {\\n  content: \\\"\\\\e905\\\";\\n}\\n\\n.fc-icon-x:before {\\n  content: \\\"\\\\e906\\\";\\n}\\n/*\\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\\n\\nThese styles only apply when the standard-theme is activated.\\nWhen it's NOT activated, the fc-button classes won't even be in the DOM.\\n*/\\n.fc {\\n\\n  /* reset */\\n\\n}\\n.fc .fc-button {\\n    border-radius: 0;\\n    overflow: visible;\\n    text-transform: none;\\n    margin: 0;\\n    font-family: inherit;\\n    font-size: inherit;\\n    line-height: inherit;\\n  }\\n.fc .fc-button:focus {\\n    outline: 1px dotted;\\n    outline: 5px auto -webkit-focus-ring-color;\\n  }\\n.fc .fc-button {\\n    -webkit-appearance: button;\\n  }\\n.fc .fc-button:not(:disabled) {\\n    cursor: pointer;\\n  }\\n.fc .fc-button::-moz-focus-inner {\\n    padding: 0;\\n    border-style: none;\\n  }\\n.fc {\\n\\n  /* theme */\\n\\n}\\n.fc .fc-button {\\n    display: inline-block;\\n    font-weight: 400;\\n    text-align: center;\\n    vertical-align: middle;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n            user-select: none;\\n    background-color: transparent;\\n    border: 1px solid transparent;\\n    padding: 0.4em 0.65em;\\n    font-size: 1em;\\n    line-height: 1.5;\\n    border-radius: 0.25em;\\n  }\\n.fc .fc-button:hover {\\n    text-decoration: none;\\n  }\\n.fc .fc-button:focus {\\n    outline: 0;\\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\\n  }\\n.fc .fc-button:disabled {\\n    opacity: 0.65;\\n  }\\n.fc {\\n\\n  /* \\\"primary\\\" coloring */\\n\\n}\\n.fc .fc-button-primary {\\n    color: var(--fc-button-text-color);\\n    background-color: var(--fc-button-bg-color);\\n    border-color: var(--fc-button-border-color);\\n  }\\n.fc .fc-button-primary:hover {\\n    color: var(--fc-button-text-color);\\n    background-color: var(--fc-button-hover-bg-color);\\n    border-color: var(--fc-button-hover-border-color);\\n  }\\n.fc .fc-button-primary:disabled { /* not DRY */\\n    color: var(--fc-button-text-color);\\n    background-color: var(--fc-button-bg-color);\\n    border-color: var(--fc-button-border-color); /* overrides :hover */\\n  }\\n.fc .fc-button-primary:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n.fc .fc-button-primary:not(:disabled):active,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\\n    color: var(--fc-button-text-color);\\n    background-color: var(--fc-button-active-bg-color);\\n    border-color: var(--fc-button-active-border-color);\\n  }\\n.fc .fc-button-primary:not(:disabled):active:focus,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n.fc {\\n\\n  /* icons within buttons */\\n\\n}\\n.fc .fc-button .fc-icon {\\n    vertical-align: middle;\\n    font-size: 1.5em; /* bump up the size (but don't make it bigger than line-height of button, which is 1.5em also) */\\n  }\\n.fc .fc-button-group {\\n    position: relative;\\n    display: inline-flex;\\n    vertical-align: middle;\\n  }\\n.fc .fc-button-group > .fc-button {\\n    position: relative;\\n    flex: 1 1 auto;\\n  }\\n.fc .fc-button-group > .fc-button:hover {\\n    z-index: 1;\\n  }\\n.fc .fc-button-group > .fc-button:focus,\\n  .fc .fc-button-group > .fc-button:active,\\n  .fc .fc-button-group > .fc-button.fc-button-active {\\n    z-index: 1;\\n  }\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\\n    margin-left: -1px;\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\\n    margin-right: -1px;\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n.fc .fc-toolbar {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n.fc .fc-toolbar.fc-header-toolbar {\\n    margin-bottom: 1.5em;\\n  }\\n.fc .fc-toolbar.fc-footer-toolbar {\\n    margin-top: 1.5em;\\n  }\\n.fc .fc-toolbar-title {\\n    font-size: 1.75em;\\n    margin: 0;\\n  }\\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\\n    margin-left: .75em; /* space between */\\n  }\\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\\n    margin-right: .75em; /* space between */\\n  }\\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\\n    flex-direction: row-reverse;\\n  }\\n.fc .fc-scroller {\\n    -webkit-overflow-scrolling: touch;\\n    position: relative; /* for abs-positioned elements within */\\n  }\\n.fc .fc-scroller-liquid {\\n    height: 100%;\\n  }\\n.fc .fc-scroller-liquid-absolute {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    bottom: 0;\\n  }\\n.fc .fc-scroller-harness {\\n    position: relative;\\n    overflow: hidden;\\n    direction: ltr;\\n      /* hack for chrome computing the scroller's right/left wrong for rtl. undone below... */\\n      /* TODO: demonstrate in codepen */\\n  }\\n.fc .fc-scroller-harness-liquid {\\n    height: 100%;\\n  }\\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\\n    direction: rtl;\\n  }\\n.fc-theme-standard .fc-scrollgrid {\\n    border: 1px solid var(--fc-border-color); /* bootstrap does this. match */\\n  }\\n.fc .fc-scrollgrid,\\n    .fc .fc-scrollgrid table { /* all tables (self included) */\\n      width: 100%; /* because tables don't normally do this */\\n      table-layout: fixed;\\n    }\\n.fc .fc-scrollgrid table { /* inner tables */\\n      border-top-style: hidden;\\n      border-left-style: hidden;\\n      border-right-style: hidden;\\n    }\\n.fc .fc-scrollgrid {\\n\\n    border-collapse: separate;\\n    border-right-width: 0;\\n    border-bottom-width: 0;\\n\\n  }\\n.fc .fc-scrollgrid-liquid {\\n    height: 100%;\\n  }\\n.fc .fc-scrollgrid-section { /* a <tr> */\\n    height: 1px /* better than 0, for firefox */\\n\\n  }\\n.fc .fc-scrollgrid-section > td {\\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\\n    }\\n.fc .fc-scrollgrid-section table {\\n      height: 1px;\\n        /* for most browsers, if a height isn't set on the table, can't do liquid-height within cells */\\n        /* serves as a min-height. harmless */\\n    }\\n.fc .fc-scrollgrid-section-liquid > td {\\n      height: 100%; /* better than `auto`, for firefox */\\n    }\\n.fc .fc-scrollgrid-section > * {\\n    border-top-width: 0;\\n    border-left-width: 0;\\n  }\\n.fc .fc-scrollgrid-section-header > *,\\n  .fc .fc-scrollgrid-section-footer > * {\\n    border-bottom-width: 0;\\n  }\\n.fc .fc-scrollgrid-section-body table,\\n  .fc .fc-scrollgrid-section-footer table {\\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\\n  }\\n.fc {\\n\\n  /* stickiness */\\n\\n}\\n.fc .fc-scrollgrid-section-sticky > * {\\n    background: var(--fc-page-bg-color);\\n    position: sticky;\\n    z-index: 3; /* TODO: var */\\n    /* TODO: box-shadow when sticking */\\n  }\\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\\n    top: 0; /* because border-sharing causes a gap at the top */\\n      /* TODO: give safari -1. has bug */\\n  }\\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\\n    bottom: 0; /* known bug: bottom-stickiness doesn't work in safari */\\n  }\\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\\n    height: 1px; /* needs height to create scrollbars */\\n    margin-bottom: -1px;\\n  }\\n.fc-sticky { /* no .fc wrap because used as child of body */\\n  position: sticky;\\n}\\n.fc .fc-view-harness {\\n    flex-grow: 1; /* because this harness is WITHIN the .fc's flexbox */\\n    position: relative;\\n  }\\n.fc {\\n\\n  /* when the harness controls the height, make the view liquid */\\n\\n}\\n.fc .fc-view-harness-active > .fc-view {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n  }\\n.fc .fc-col-header-cell-cushion {\\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\\n    padding: 2px 4px;\\n  }\\n.fc .fc-bg-event,\\n  .fc .fc-non-business,\\n  .fc .fc-highlight {\\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n.fc .fc-non-business {\\n    background: var(--fc-non-business-color);\\n  }\\n.fc .fc-bg-event {\\n    background: var(--fc-bg-event-color);\\n    opacity: var(--fc-bg-event-opacity)\\n  }\\n.fc .fc-bg-event .fc-event-title {\\n      margin: .5em;\\n      font-size: var(--fc-small-font-size);\\n      font-style: italic;\\n    }\\n.fc .fc-highlight {\\n    background: var(--fc-highlight-color);\\n  }\\n.fc .fc-cell-shaded,\\n  .fc .fc-day-disabled {\\n    background: var(--fc-neutral-bg-color);\\n  }\\n/* link resets */\\n/* ---------------------------------------------------------------------------------------------------- */\\na.fc-event,\\na.fc-event:hover {\\n  text-decoration: none;\\n}\\n/* cursor */\\n.fc-event[href],\\n.fc-event.fc-event-draggable {\\n  cursor: pointer;\\n}\\n/* event text content */\\n/* ---------------------------------------------------------------------------------------------------- */\\n.fc-event .fc-event-main {\\n    position: relative;\\n    z-index: 2;\\n  }\\n/* dragging */\\n/* ---------------------------------------------------------------------------------------------------- */\\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\\n    opacity: 0.75;\\n  }\\n.fc-event-dragging.fc-event-selected { /* TOUCH */\\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\\n  }\\n/* resizing */\\n/* ---------------------------------------------------------------------------------------------------- */\\n/* (subclasses should hone positioning for touch and non-touch) */\\n.fc-event .fc-event-resizer {\\n    display: none;\\n    position: absolute;\\n    z-index: 4;\\n  }\\n.fc-event:hover, /* MOUSE */\\n.fc-event-selected { /* TOUCH */\\n\\n}\\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\\n    display: block;\\n  }\\n.fc-event-selected .fc-event-resizer {\\n    border-radius: calc(var(--fc-event-resizer-dot-total-width) / 2);\\n    border-width: var(--fc-event-resizer-dot-border-width);\\n    width: var(--fc-event-resizer-dot-total-width);\\n    height: var(--fc-event-resizer-dot-total-width);\\n    border-style: solid;\\n    border-color: inherit;\\n    background: var(--fc-page-bg-color)\\n\\n    /* expand hit area */\\n\\n  }\\n.fc-event-selected .fc-event-resizer:before {\\n      content: '';\\n      position: absolute;\\n      top: -20px;\\n      left: -20px;\\n      right: -20px;\\n      bottom: -20px;\\n    }\\n/* selecting (always TOUCH) */\\n/* OR, focused by tab-index */\\n/* (TODO: maybe not the best focus-styling for .fc-daygrid-dot-event) */\\n/* ---------------------------------------------------------------------------------------------------- */\\n.fc-event-selected,\\n.fc-event:focus {\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\\n\\n  /* expand hit area (subclasses should expand) */\\n\\n}\\n.fc-event-selected:before, .fc-event:focus:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    z-index: 3;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n.fc-event-selected,\\n.fc-event:focus {\\n\\n  /* dimmer effect */\\n\\n}\\n.fc-event-selected:after, .fc-event:focus:after {\\n    content: \\\"\\\";\\n    background: var(--fc-event-selected-overlay-color);\\n    position: absolute;\\n    z-index: 1;\\n\\n    /* assume there's a border on all sides. overcome it. */\\n    /* sometimes there's NOT a border, in which case the dimmer will go over */\\n    /* an adjacent border, which looks fine. */\\n    top: -1px;\\n    left: -1px;\\n    right: -1px;\\n    bottom: -1px;\\n  }\\n/*\\nA HORIZONTAL event\\n*/\\n.fc-h-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid var(--fc-event-border-color);\\n  background-color: var(--fc-event-bg-color)\\n\\n}\\n.fc-h-event .fc-event-main {\\n    color: var(--fc-event-text-color);\\n  }\\n.fc-h-event .fc-event-main-frame {\\n    display: flex; /* for make fc-event-title-container expand */\\n  }\\n.fc-h-event .fc-event-time {\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n  }\\n.fc-h-event .fc-event-title {\\n    display: inline-block; /* need this to be sticky cross-browser */\\n    vertical-align: top; /* for not messing up line-height */\\n    left: 0;  /* for sticky */\\n    right: 0; /* for sticky */\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n.fc-h-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n/* adjust border and border-radius (if there is any) for non-start/end */\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n  border-left-width: 0;\\n}\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n  border-right-width: 0;\\n}\\n/* resizers */\\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\\n  top: 0;\\n  bottom: 0;\\n  width: var(--fc-event-resizer-thickness);\\n}\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\\n  cursor: w-resize;\\n  left: calc(-0.5 * var(--fc-event-resizer-thickness));\\n}\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\\n  cursor: e-resize;\\n  right: calc(-0.5 * var(--fc-event-resizer-thickness));\\n}\\n/* resizers for TOUCH */\\n.fc-h-event.fc-event-selected .fc-event-resizer {\\n  top: 50%;\\n  margin-top: calc(-0.5 * var(--fc-event-resizer-dot-total-width));\\n}\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\\n  left: calc(-0.5 * var(--fc-event-resizer-dot-total-width));\\n}\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\\n  right: calc(-0.5 * var(--fc-event-resizer-dot-total-width));\\n}\\n.fc .fc-popover {\\n    position: absolute;\\n    z-index: 9999;\\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\\n  }\\n.fc .fc-popover-header {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 3px 4px;\\n  }\\n.fc .fc-popover-title {\\n    margin: 0 2px;\\n  }\\n.fc .fc-popover-close {\\n    cursor: pointer;\\n    opacity: 0.65;\\n    font-size: 1.1em;\\n  }\\n.fc-theme-standard .fc-popover {\\n    border: 1px solid var(--fc-border-color);\\n    background: var(--fc-page-bg-color);\\n  }\\n.fc-theme-standard .fc-popover-header {\\n    background: var(--fc-neutral-bg-color);\\n  }\\n\";\ninjectStyles(css_248z);\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, generator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, append) {\n        let { props } = this;\n        props.optionOverrides = append\n            ? Object.assign(Object.assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    _computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\n// TODO: do function component?\nclass ViewContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            Object.assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass Calendar extends CalendarImpl {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0;\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(RenderId.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                render(null, this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nconst version = '6.0.0-beta.2';\n\nexport { Calendar, formatDate, formatRange, sliceEvents, version };\n","import * as preact from 'preact';\nimport { Component, createElement, isValidElement, Fragment, createRef } from 'preact';\nimport { createPortal } from 'preact/compat';\n\n/*\nNOTE: this can be a public API, especially createElement for hooks.\nSee examples/typescript-scheduler/src/index.ts\n*/\nfunction flushSync(runBeforeFlush) {\n    runBeforeFlush();\n    let oldDebounceRendering = preact.options.debounceRendering; // orig\n    let callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nclass FakeComponent extends preact.Component {\n    render() { return preact.createElement('div', {}); }\n    componentDidMount() { this.setState({}); }\n}\n// TODO: use preact/compat instead?\nfunction createContext(defaultValue) {\n    let ContextType = preact.createContext(defaultValue);\n    let origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        let isNew = !this.getChildContext;\n        let children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            let subs = [];\n            this.shouldComponentUpdate = (_props) => {\n                if (this.props.value !== _props.value) {\n                    subs.forEach((c) => {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = (c) => {\n                subs.push(c);\n                let old = c.componentWillUnmount;\n                c.componentWillUnmount = () => {\n                    subs.splice(subs.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\n\nfunction injectStyles(css) {\n    if (!css || typeof document === 'undefined') {\n        return;\n    }\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const style = document.createElement('style');\n    style.type = 'text/css';\n    head.appendChild(style);\n    if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n    }\n    else {\n        style.appendChild(document.createTextNode(css));\n    }\n}\n\nclass DelayedRunner {\n    constructor(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    request(delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    }\n    pause(scope = '') {\n        let { pauseDepths } = this;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    }\n    resume(scope = '', force) {\n        let { pauseDepths } = this;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                let depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    }\n    isPaused() {\n        return Object.keys(this.pauseDepths).length;\n    }\n    tryDrain() {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    }\n    clear() {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    }\n    drained() {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    }\n}\n\nconst { hasOwnProperty } = Object.prototype;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    let dest = {};\n    if (complexPropsMap) {\n        for (let name in complexPropsMap) {\n            let complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n                let val = propObjs[i][name];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n        let props = propObjs[i];\n        for (let name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    let filtered = {};\n    for (let key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    let newHash = {};\n    for (let key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    let hash = {};\n    for (let item of a) {\n        hash[item] = true;\n    }\n    return hash;\n}\n// TODO: reassess browser support\n// https://caniuse.com/?search=object.values\nfunction hashValuesToArray(obj) {\n    let a = [];\n    for (let key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    let keys = [];\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs = {}) {\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (let key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (let key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex = 0, endIndex, step = 1) {\n    let res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (let i = startIndex; i < endIndex; i += step) {\n        let val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nconst globalLocales = [];\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    let removeCnt = 0;\n    let i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    let len = a0.length;\n    let i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    let currentArgs;\n    let currentRes;\n    return function (...newArgs) {\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    let currentArg;\n    let currentRes;\n    return (newArg) => {\n        if (!currentArg) {\n            currentRes = workerFunc.call(this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.call(this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    let currentArgSets = [];\n    let currentResults = [];\n    return (newArgSets) => {\n        let currentLen = currentArgSets.length;\n        let newLen = newArgSets.length;\n        let i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                let res = workerFunc.apply(this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n    let currentArgHash = {};\n    let currentResHash = {};\n    return (newArgHash) => {\n        let newResHash = {};\n        for (let key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                let res = workerFunc.apply(this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    let method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    let containers = container instanceof HTMLElement ? [container] : container;\n    let allMatches = [];\n    for (let i = 0; i < containers.length; i += 1) {\n        let matches = containers[i].querySelectorAll(selector);\n        for (let j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    let parents = parent instanceof HTMLElement ? [parent] : parent;\n    let allMatches = [];\n    for (let i = 0; i < parents.length; i += 1) {\n        let childNodes = parents[i].children; // only ever elements\n        for (let j = 0; j < childNodes.length; j += 1) {\n            let childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nconst PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (let propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = `${val}px`;\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n// Unique ID for DOM attribute\nlet guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return (ev) => {\n        let matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    let attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return () => {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    let currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, (mouseOverEv, matchedChild) => {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            let realOnMouseLeave = (mouseLeaveEv) => {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nconst transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    let realCallback = (ev) => {\n        callback(ev);\n        transitionEventNames.forEach((eventName) => {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach((eventName) => {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return Object.assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown(ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nlet guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    let specs = [];\n    let tokens = [];\n    let i;\n    let token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    let i;\n    let cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    let s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter(...args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce((str, arg, index) => (str.replace('$' + index, arg || '')), formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    let allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    let contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        name: input.name,\n        premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let currentPluginIds = {};\n    let hooks = {\n        premiumReleaseDate: undefined,\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            const pluginName = def.name;\n            const currentId = currentPluginIds[pluginName];\n            if (currentId === undefined) {\n                currentPluginIds[pluginName] = def.id;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n            else if (currentId !== def.id) {\n                // different ID than the one already added\n                console.warn(`Duplicate plugin '${pluginName}'`);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\nfunction compareOptionalDates(date0, date1) {\n    if (date0 === undefined) {\n        return date1;\n    }\n    if (date1 === undefined) {\n        return date0;\n    }\n    return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\n\nconst DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    let a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    let m0day = startOfDay(m0);\n    let m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    let d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    let y = marker.getUTCFullYear();\n    let w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    let nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    let firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    let dayStart = startOfDay(marker);\n    let days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    let fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    let fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC(...a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nlet calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nclass GregorianCalendarSystem {\n    getMarkerYear(d) {\n        return d.getUTCFullYear();\n    }\n    getMarkerMonth(d) {\n        return d.getUTCMonth();\n    }\n    getMarkerDay(d) {\n        return d.getUTCDate();\n    }\n    arrayToMarker(arr) {\n        return arrayToUtcDate(arr);\n    }\n    markerToArray(marker) {\n        return dateToUtcArray(marker);\n    }\n}\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nconst INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nconst PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject({ [unit || 'milliseconds']: input });\n    }\n    return null;\n}\nfunction parseString(s) {\n    let m = PARSE_RE.exec(s);\n    if (m) {\n        let sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    let duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    let weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    let res = null;\n    for (let i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        let unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            let localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    let ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime = false) {\n    let s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso = false) {\n    let sign = minutes < 0 ? '-' : '+';\n    let abs = Math.abs(minutes);\n    let hours = Math.floor(abs / 60);\n    let mins = Math.round(abs % 60);\n    if (doIso) {\n        return `${sign + padStart(hours, 2)}:${padStart(mins, 2)}`;\n    }\n    return `GMT${sign}${hours}${mins ? `:${padStart(mins, 2)}` : ''}`;\n}\n\nconst ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    let m = ISO_RE.exec(str);\n    if (m) {\n        let marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(`0.${m[12]}`) * 1000 : 0));\n        if (isValidDate(marker)) {\n            let timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nclass DateEnv {\n    constructor(settings) {\n        let timeZone = this.timeZone = settings.timeZone;\n        let isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    createMarker(input) {\n        let meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    }\n    createNowMarker() {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    }\n    createMarkerMeta(input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        let marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker, isTimeUnspecified: false, forcedTzo: null };\n    }\n    parse(s) {\n        let parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        let { marker } = parts;\n        let forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo };\n    }\n    // Accessors\n    getYear(marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    }\n    getMonth(marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    }\n    // Adding / Subtracting\n    add(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    subtract(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addYears(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addMonths(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    // Diffing Whole Units\n    diffWholeYears(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    }\n    diffWholeMonths(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    }\n    // Range / Duration\n    greatestWholeUnit(m0, m1) {\n        let n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    }\n    countDurationsBetween(m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        let diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    }\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    startOf(m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    }\n    startOfYear(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    }\n    startOfMonth(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    }\n    startOfWeek(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    }\n    // Week Number\n    computeWeekNumber(marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    }\n    // TODO: choke on timeZoneName: long\n    format(marker, formatter, dateOptions = {}) {\n        return formatter.format({\n            marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    }\n    formatRange(start, end, formatter, dateOptions = {}) {\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    }\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    formatIso(marker, extraOptions = {}) {\n        let timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    }\n    // TimeZone\n    timestampToMarker(ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    }\n    offsetForMarker(m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    }\n    // Conversion\n    toDate(m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    }\n}\n\nclass Theme {\n    constructor(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    setIconOverride(iconOverrideHash) {\n        let iconClassesCopy;\n        let buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = Object.assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    }\n    applyIconOverridePrefix(className) {\n        let prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    }\n    getClass(key) {\n        return this.classes[key] || '';\n    }\n    getIconClass(buttonName, isRtl) {\n        let className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return `${this.baseIconClass} ${className}`;\n        }\n        return '';\n    }\n    getCustomButtonIconClass(customButtonProps) {\n        let className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return `${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`;\n            }\n        }\n        return '';\n    }\n}\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nconst EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nconst STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nconst MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nconst COMMA_RE = /,/g; // we need re for globalness\nconst MULTI_SPACE_RE = /\\s+/g;\nconst LTR_RE = /\\u200e/g; // control character\nconst UTC_RE = /UTC|GMT/;\nclass NativeFormatter {\n    constructor(formatSettings) {\n        let standardDateProps = {};\n        let extendedSettings = {};\n        let severity = 0;\n        for (let name in formatSettings) {\n            if (name in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name] = formatSettings[name];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name], severity);\n            }\n            else {\n                standardDateProps[name] = formatSettings[name];\n                if (name in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    format(date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        let { standardDateProps, extendedSettings } = this;\n        let diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        let biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        let full0 = this.format(start, context);\n        let full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        let partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        let partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        let partial0 = partialFormattingFunc(start);\n        let partial1 = partialFormattingFunc(end);\n        let insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        let separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    }\n    getLargestUnit() {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    }\n}\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    let standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return (date) => (formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return (date) => (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week));\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = Object.assign({}, standardDateProps); // copy\n    extendedSettings = Object.assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    let normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    let zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        let zeroProps = Object.assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return (date) => {\n        let { marker } = date;\n        let format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        let s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, (m0, m1) => m1.toLocaleLowerCase());\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, (m0, m1) => `${m1.toLocaleLowerCase()}m`);\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, (m0) => m0.toLocaleLowerCase());\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    let replaced = false;\n    s = s.replace(UTC_RE, () => {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ` ${tzoStr}`;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    let parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    let partialOptions = {};\n    for (let name in options) {\n        if (!(name in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name] <= biggestUnit) {\n            partialOptions[name] = options[name];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    let i0 = 0;\n    while (i0 < full0.length) {\n        let found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        let before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        let after0 = full0.substr(i0);\n        let i1 = 0;\n        while (i1 < full1.length) {\n            let found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            let before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            let after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    let a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    let startInfo = expandZonedMarker(start, context.calendarSystem);\n    let endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nclass CmdFormatter {\n    constructor(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nclass FuncFormatter {\n    constructor(func) {\n        this.func = func;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nconst BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n    // for connectors\n    // (can't be part of plugin system b/c must be provided at runtime)\n    handleCustomRendering: identity,\n    customRenderingMetaMap: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nconst BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nconst CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nconst CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nconst COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isMaybeObjectsEqual,\n    footerToolbar: isMaybeObjectsEqual,\n    buttonText: isMaybeObjectsEqual,\n    buttonHints: isMaybeObjectsEqual,\n    buttonIcons: isMaybeObjectsEqual,\n    dateIncrement: isMaybeObjectsEqual,\n};\nfunction isMaybeObjectsEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nconst VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    let refined = {};\n    let extra = {};\n    for (let propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (let propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined, extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nclass ScrollResponder {\n    constructor(execFunc, emitter, scrollTime, scrollTimeReset) {\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = (request) => {\n            this.queuedRequest = Object.assign({}, this.queuedRequest || {}, request);\n            this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    detach() {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    }\n    update(isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    }\n    fireInitialScroll() {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    }\n    drain() {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    }\n}\n\nconst ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv,\n        options: viewOptions,\n        pluginHooks,\n        emitter,\n        dispatch,\n        getCurrentData,\n        calendarApi,\n        viewSpec,\n        viewApi,\n        dateProfileGenerator,\n        theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler(handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler(handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder(execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent,\n        unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nclass PureComponent extends Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    }\n    // HACK for freakin' React StrictMode\n    safeSetState(newState) {\n        if (!compareObjs(this.state, Object.assign(Object.assign({}, this.state), newState), this.stateEquality)) {\n            this.setState(newState);\n        }\n    }\n}\nPureComponent.addPropsEquality = addPropsEquality;\nPureComponent.addStateEquality = addStateEquality;\nPureComponent.contextType = ViewContextType;\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nclass BaseComponent extends PureComponent {\n}\nBaseComponent.contextType = ViewContextType;\nfunction addPropsEquality(propEquality) {\n    let hash = Object.create(this.prototype.propEquality);\n    Object.assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    let hash = Object.create(this.prototype.stateEquality);\n    Object.assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\nclass ContentInjector extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.id = guid();\n        this.currentDomNodes = [];\n        this.queuedDomNodes = [];\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { generator, renderProps } = props;\n        const attrs = buildElAttrs(props);\n        let innerContent;\n        let queuedDomNodes = [];\n        if (!hasCustomRenderingHandler(props.generatorName, options)) {\n            const customContent = typeof generator === 'function' ?\n                generator(renderProps, createElement) :\n                generator;\n            if (typeof customContent === 'string' ||\n                isValidElement(customContent) ||\n                Array.isArray(customContent)) {\n                innerContent = customContent;\n            }\n            else if (typeof customContent === 'object') {\n                if ('html' in customContent) {\n                    attrs.dangerouslySetInnerHTML = { __html: customContent.html };\n                }\n                else if ('domNodes' in customContent) {\n                    queuedDomNodes = Array.prototype.slice.call(customContent.domNodes);\n                }\n            }\n        }\n        this.queuedDomNodes = queuedDomNodes;\n        return createElement(props.elTag, attrs, innerContent);\n    }\n    componentDidMount() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentDidUpdate(oldProps) {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentWillUnmount() {\n        this.triggerCustomRendering(false); // TODO: different API for removal?\n    }\n    triggerCustomRendering(isActive) {\n        const { props, context } = this;\n        const { handleCustomRendering, customRenderingMetaMap } = context.options;\n        if (handleCustomRendering) {\n            const customRenderingMeta = customRenderingMetaMap === null || customRenderingMetaMap === void 0 ? void 0 : customRenderingMetaMap[props.generatorName];\n            if (customRenderingMeta) {\n                handleCustomRendering(Object.assign({ id: this.id, isActive, containerEl: this.base, generatorMeta: customRenderingMeta }, props));\n            }\n        }\n    }\n    applyQueueudDomNodes() {\n        const { queuedDomNodes, currentDomNodes } = this;\n        const el = this.base;\n        if (!isArraysEqual(queuedDomNodes, currentDomNodes)) {\n            currentDomNodes.forEach(removeElement);\n            for (let newNode of queuedDomNodes) {\n                el.appendChild(newNode);\n            }\n            this.currentDomNodes = queuedDomNodes;\n        }\n    }\n}\nContentInjector.addPropsEquality({\n    elClasses: isArraysEqual,\n    elStyle: isPropsEqual,\n    elAttrs: isPropsEqual,\n    renderProps: isPropsEqual,\n});\n// Util\nfunction hasCustomRenderingHandler(generatorName, options) {\n    var _a;\n    return Boolean(options.handleCustomRendering &&\n        generatorName &&\n        ((_a = options.customRenderingMetaMap) === null || _a === void 0 ? void 0 : _a[generatorName]));\n}\nfunction buildElAttrs(props, extraClassNames) {\n    const attrs = Object.assign(Object.assign({}, props.elAttrs), { ref: props.elRef });\n    if (props.elClasses || extraClassNames) {\n        attrs.className = (props.elClasses || [])\n            .concat(extraClassNames || [])\n            .concat(attrs.className || [])\n            .filter(Boolean)\n            .join(' ');\n    }\n    if (props.elStyle) {\n        attrs.style = props.elStyle;\n    }\n    return attrs;\n}\n\nconst RenderId = createContext(0);\n\nclass ContentContainer extends Component {\n    constructor() {\n        super(...arguments);\n        this.InnerContent = InnerContentInjector.bind(undefined, this);\n    }\n    render() {\n        const { props } = this;\n        const generatedClassNames = generateClassNames(props.classNameGenerator, props.renderProps);\n        if (props.children) {\n            const elAttrs = buildElAttrs(props, generatedClassNames);\n            const children = props.children(this.InnerContent, props.renderProps, elAttrs);\n            if (props.elTag) {\n                return createElement(props.elTag, elAttrs, children);\n            }\n            else {\n                return children;\n            }\n        }\n        else {\n            return createElement((ContentInjector), Object.assign(Object.assign({}, props), { elTag: props.elTag || 'div', elClasses: (props.elClasses || []).concat(generatedClassNames), renderId: this.context }));\n        }\n    }\n    componentDidMount() {\n        var _a, _b;\n        (_b = (_a = this.props).didMount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.base }));\n    }\n    componentWillUnmount() {\n        var _a, _b;\n        (_b = (_a = this.props).willUnmount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.base }));\n    }\n}\nContentContainer.contextType = RenderId;\nfunction InnerContentInjector(containerComponent, props) {\n    const parentProps = containerComponent.props;\n    return createElement((ContentInjector), Object.assign({ renderProps: parentProps.renderProps, generatorName: parentProps.generatorName, generator: parentProps.generator, renderId: containerComponent.context }, props));\n}\n// Utils\nfunction generateClassNames(classNameGenerator, renderProps) {\n    const classNames = typeof classNameGenerator === 'function' ?\n        classNameGenerator(renderProps) :\n        classNameGenerator || [];\n    return typeof classNames === 'string' ? [classNames] : classNames;\n}\n\nclass ViewContainer extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = { view: context.viewApi };\n        return (createElement(ContentContainer, Object.assign({}, props, { elTag: props.elTag || 'div', elClasses: [\n                ...buildViewClassNames(props.viewSpec),\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, classNameGenerator: options.viewClassNames, generatorName: undefined, generator: undefined, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount }), () => props.children));\n    }\n}\nfunction buildViewClassNames(viewSpec) {\n    return [\n        `fc-${viewSpec.type}-view`,\n        'fc-view',\n    ];\n}\n\nfunction parseRange(input, dateEnv) {\n    let start = null;\n    let end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start, end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    let invertedRanges = [];\n    let { start } = constraintRange; // the end of the previous range. the start of the new range\n    let i;\n    let dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    let { start, end } = range0;\n    let newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start, end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    let dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    let start = startOfDay(timedRange.start);\n    let end = addDays(start, dayCnt);\n    return { start, end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold = createDuration(0)) {\n    let startDay = null;\n    let endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        let endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    let visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    let initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nclass DateProfileGenerator {\n    constructor(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    buildPrev(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    }\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    buildNext(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    }\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    build(currentDate, direction, forceToValid = true) {\n        let { props } = this;\n        let validRange;\n        let currentInfo;\n        let isRangeAllDay;\n        let renderRange;\n        let activeRange;\n        let isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    }\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    buildValidRange() {\n        let input = this.props.validRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    }\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    buildCurrentRangeInfo(date, direction) {\n        let { props } = this;\n        let duration = null;\n        let unit = null;\n        let range = null;\n        let dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration, unit, range };\n    }\n    getFallbackDuration() {\n        return createDuration({ day: 1 });\n    }\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    adjustActiveRange(range) {\n        let { dateEnv, usesMinMaxTime, slotMinTime, slotMaxTime } = this.props;\n        let { start, end } = range;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start, end };\n    }\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    buildRangeFromDuration(date, direction, duration, unit) {\n        let { dateEnv, dateAlignment } = this.props;\n        let start;\n        let end;\n        let res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            let { dateIncrement } = this.props;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start, end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    }\n    // Builds the \"current\" range when a dayCount is specified.\n    buildRangeFromDayCount(date, direction, dayCount) {\n        let { dateEnv, dateAlignment } = this.props;\n        let runningCount = 0;\n        let start = date;\n        let end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start, end };\n    }\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    buildCustomVisibleRange(date) {\n        let { props } = this;\n        let input = props.visibleRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        let range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    }\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    }\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    buildDateIncrement(fallback) {\n        let { dateIncrement } = this.props;\n        let customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    }\n    refineRange(rangeInput) {\n        if (rangeInput) {\n            let range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    }\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    initHiddenDays() {\n        let hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        let isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        let dayCnt = 0;\n        let i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    }\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    trimHiddenDays(range) {\n        let { start, end } = range;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start, end };\n        }\n        return null;\n    }\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    isHiddenDay(day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    }\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    skipHiddenDays(date, inc = 1, isExclusive = false) {\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    }\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId,\n        range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (let i = 0; i < recurringTypes.length; i += 1) {\n        let parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            let { allDay } = refined;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    let { dateEnv, pluginHooks, options } = context;\n    let { defs, instances } = eventStore;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, (instance) => !defs[instance.defId].recurringDef);\n    for (let defId in defs) {\n        let def = defs[defId];\n        if (def.recurringDef) {\n            let { duration } = def.recurringDef;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            let starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (let start of starts) {\n                let instance = createEventInstance(defId, {\n                    start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs, instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    let typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    let markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nconst EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nconst EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nconst EVENT_REFINERS = Object.assign(Object.assign(Object.assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners = buildEventRefiners(context)) {\n    let { refined, extra } = refineEventDef(raw, context, refiners);\n    let defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    let recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def, instance: null };\n    }\n    let singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        let instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def, instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners = buildEventRefiners(context)) {\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    let def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId,\n        allDay,\n        hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: Object.assign(Object.assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (let memberAdder of context.pluginHooks.eventDefMemberAdders) {\n        Object.assign(def, memberAdder(refined));\n    }\n    // help out EventImpl from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    let { allDay } = refined;\n    let startMeta;\n    let startMarker = null;\n    let hasEnd = false;\n    let endMeta;\n    let endMarker = null;\n    let startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay,\n        hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    let res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    let eventStore = createEmptyEventStore();\n    let eventRefiners = buildEventRefiners(context);\n    for (let rawEvent of rawEvents) {\n        let tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore = createEmptyEventStore()) {\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    let instance = eventStore.instances[instanceId];\n    if (instance) {\n        let def = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        let newStore = filterEventStoreDefs(eventStore, (lookDef) => isEventDefsGrouped(def, lookDef));\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def.defId] = def;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: Object.assign(Object.assign({}, store0.defs), store1.defs),\n        instances: Object.assign(Object.assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    let defs = filterHash(eventStore.defs, filterFunc);\n    let instances = filterHash(eventStore.instances, (instance) => (defs[instance.defId] // still exists?\n    ));\n    return { defs, instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    let { defs, instances } = master;\n    let filteredDefs = {};\n    let filteredInstances = {};\n    for (let defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (let instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nconst EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nconst EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    let constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nconst EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners = buildEventSourceRefiners(context)) {\n    let rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        let { refined, extra } = refineProps(rawObj, refiners);\n        let metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    for (let i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        let def = defs[i];\n        let meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta };\n        }\n    }\n    return null;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, (eventDef) => (!eventDef.sourceId // only keep events with no source id\n            ));\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        let subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    let calEachTransform = context.options.eventDataTransform;\n    let sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    let refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (let rawEvent of rawEvents) {\n            let refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    let { defs } = eventStore;\n    let instances = mapHash(eventStore.instances, (instance) => {\n        let def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return Object.assign(Object.assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs, instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, (eventDef) => eventDef.sourceId !== sourceId);\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, (instance) => !removals[instance.instanceId]),\n    };\n}\n\nclass Emitter {\n    constructor() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    setThisContext(thisContext) {\n        this.thisContext = thisContext;\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    on(type, handler) {\n        addToHash(this.handlers, type, handler);\n    }\n    off(type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    }\n    trigger(type, ...args) {\n        let attachedHandlers = this.handlers[type] || [];\n        let optionHandler = this.options && this.options[type];\n        let handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (let handler of handlers) {\n            handler.apply(this.thisContext, args);\n        }\n    }\n    hasHandlers(type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    }\n}\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter((func) => func !== handler);\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\nconst DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    let rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter((rawDef) => rawDef.daysOfWeek);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map((rawDef) => (Object.assign(Object.assign({}, DEF_DEFAULTS), rawDef)));\n    return rawDefs;\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback) {\n        successCallback({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    name: 'array-event-source',\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', Object.assign(Object.assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.dateSpanTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    let { dateEnv, options } = context;\n    let end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    let eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    let dest = createEmptyEventStore();\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    let standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    let copy = Object.assign(Object.assign(Object.assign({}, eventDef), standardProps), { ui: Object.assign(Object.assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = Object.assign(Object.assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (let applier of context.pluginHooks.eventDefMutationAppliers) {\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    let { dateEnv } = context;\n    let forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    let clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    let copy = Object.assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\nclass EventSourceImpl {\n    constructor(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    remove() {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    }\n    refetch() {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    }\n    get id() {\n        return this.internalEventSource.publicId;\n    }\n    get url() {\n        return this.internalEventSource.meta.url;\n    }\n    get format() {\n        return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n    }\n}\n\nclass EventImpl {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    constructor(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    setProp(name, val) {\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { [name]: val },\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            let ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = { [name]: val };\n            }\n            this.mutate({\n                standardProps: { ui },\n            });\n        }\n        else {\n            console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`);\n        }\n    }\n    setExtendedProp(name, val) {\n        this.mutate({\n            extendedProps: { [name]: val },\n        });\n    }\n    setStart(startInput, options = {}) {\n        let { dateEnv } = this._context;\n        let start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            let instanceRange = this._instance.range;\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta });\n            }\n        }\n    }\n    setEnd(endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                let endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    }\n    setDates(startInput, endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let standardProps = { allDay: options.allDay };\n        let start = dateEnv.createMarker(startInput);\n        let end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            let instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                let endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps });\n                }\n                else {\n                    this.mutate({ startDelta, endDelta, standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps });\n            }\n        }\n    }\n    moveStart(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    }\n    moveEnd(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    }\n    moveDates(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    }\n    setAllDay(allDay, options = {}) {\n        let standardProps = { allDay };\n        let { maintainDuration } = options;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps });\n    }\n    formatRange(formatInput) {\n        let { dateEnv } = this._context;\n        let instance = this._instance;\n        let formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    }\n    mutate(mutation) {\n        let instance = this._instance;\n        if (instance) {\n            let def = this._def;\n            let context = this._context;\n            let { eventStore } = context.getCurrentData();\n            let relevantEvents = getRelevantEvents(eventStore, instance.instanceId);\n            let eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context);\n            let oldEvent = new EventImpl(context, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context.emitter.trigger('eventChange', {\n                oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context, instance),\n                revert() {\n                    context.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore, // the ORIGINAL store\n                    });\n                },\n            });\n        }\n    }\n    remove() {\n        let context = this._context;\n        let asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert() {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    }\n    get source() {\n        let { sourceId } = this._def;\n        if (sourceId) {\n            return new EventSourceImpl(this._context, this._context.getCurrentData().eventSources[sourceId]);\n        }\n        return null;\n    }\n    get start() {\n        return this._instance ?\n            this._context.dateEnv.toDate(this._instance.range.start) :\n            null;\n    }\n    get end() {\n        return (this._instance && this._def.hasEnd) ?\n            this._context.dateEnv.toDate(this._instance.range.end) :\n            null;\n    }\n    get startStr() {\n        let instance = this._instance;\n        if (instance) {\n            return this._context.dateEnv.formatIso(instance.range.start, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedStartTzo,\n            });\n        }\n        return '';\n    }\n    get endStr() {\n        let instance = this._instance;\n        if (instance && this._def.hasEnd) {\n            return this._context.dateEnv.formatIso(instance.range.end, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedEndTzo,\n            });\n        }\n        return '';\n    }\n    // computable props that all access the def\n    // TODO: find a TypeScript-compatible way to do this at scale\n    get id() { return this._def.publicId; }\n    get groupId() { return this._def.groupId; }\n    get allDay() { return this._def.allDay; }\n    get title() { return this._def.title; }\n    get url() { return this._def.url; }\n    get display() { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n    get startEditable() { return this._def.ui.startEditable; }\n    get durationEditable() { return this._def.ui.durationEditable; }\n    get constraint() { return this._def.ui.constraints[0] || null; }\n    get overlap() { return this._def.ui.overlap; }\n    get allow() { return this._def.ui.allows[0] || null; }\n    get backgroundColor() { return this._def.ui.backgroundColor; }\n    get borderColor() { return this._def.ui.borderColor; }\n    get textColor() { return this._def.ui.textColor; }\n    // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n    get classNames() { return this._def.ui.classNames; }\n    get extendedProps() { return this._def.extendedProps; }\n    toPlainObject(settings = {}) {\n        let def = this._def;\n        let { ui } = def;\n        let { startStr, endStr } = this;\n        let res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                Object.assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    }\n    toJSON() {\n        return this.toPlainObject();\n    }\n}\nfunction eventApiToStore(eventApi) {\n    let def = eventApi._def;\n    let instance = eventApi._instance;\n    return {\n        defs: { [def.defId]: def },\n        instances: instance\n            ? { [instance.instanceId]: instance }\n            : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    let { defs, instances } = eventStore;\n    let eventApis = [];\n    let excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (let id in instances) {\n        let instance = instances[id];\n        let def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventImpl(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    let inverseBgByGroupId = {};\n    let inverseBgByDefId = {};\n    let defByGroupId = {};\n    let bgRanges = [];\n    let fgRanges = [];\n    let eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        let ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = eventStore.defs[instance.defId];\n        let ui = eventUis[def.defId];\n        let origRange = instance.range;\n        let normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        let slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def,\n                    ui,\n                    instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (let groupId in inverseBgByGroupId) { // BY GROUP\n        let ranges = inverseBgByGroupId[groupId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            let def = defByGroupId[groupId];\n            let ui = eventUis[def.defId];\n            bgRanges.push({\n                def,\n                ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (let defId in inverseBgByDefId) {\n        let ranges = inverseBgByDefId[defId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, (eventDef) => compileEventUi(eventDef, eventUiBases));\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    let uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    let objs = segs.map(buildSegCompareObj);\n    objs.sort((obj0, obj1) => compareByFieldSpecs(obj0, obj1, eventOrderSpecs));\n    return objs.map((c) => c._seg);\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    let { eventRange } = seg;\n    let eventDef = eventRange.def;\n    let range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    let start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    let end = range.end ? range.end.valueOf() : 0; // \"\n    return Object.assign(Object.assign(Object.assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start,\n        end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    let { pluginHooks } = context;\n    let transformers = pluginHooks.isDraggableTransformers;\n    let { def, ui } = seg.eventRange;\n    let val = ui.startEditable;\n    for (let transformer of transformers) {\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    let { dateEnv, options } = context;\n    let { displayEventTime, displayEventEnd } = options;\n    let eventDef = seg.eventRange.def;\n    let eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    let wholeEventStart = eventInstance.range.start;\n    let wholeEventEnd = eventInstance.range.end;\n    let segStart = startOverride || seg.start || seg.eventRange.range.start;\n    let segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    let isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    let isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    let segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    let classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : `${eventRange.def.defId}:${eventRange.range.start.toISOString()}`;\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    let { def, instance } = seg.eventRange;\n    let { url } = def;\n    if (url) {\n        return { href: url };\n    }\n    let { emitter, options } = context;\n    let { eventInteractive } = options;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs((ev) => {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventImpl(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nconst STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    let span = parseOpenDateSpan(raw, dateEnv);\n    let { range } = span;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    let { refined: standardProps, extra } = refineProps(raw, STANDARD_PROPS);\n    let startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    let endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    let { allDay } = standardProps;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return Object.assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (let propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (let propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return Object.assign(Object.assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return Object.assign(Object.assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    let res = refineEventDef({ editable: false }, context);\n    let def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    let isResolved = false;\n    let wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    let wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    let res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { dateEnv } = arg.context;\n        const func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    name: 'func-event-source',\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nclass JsonRequestError extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction requestJson(method, url, params) {\n    method = method.toUpperCase();\n    const fetchOptions = {\n        method,\n    };\n    if (method === 'GET') {\n        url += (url.indexOf('?') === -1 ? '?' : '&') +\n            new URLSearchParams(params);\n    }\n    else {\n        fetchOptions.body = new URLSearchParams(params);\n        fetchOptions.headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        };\n    }\n    return fetch(url, fetchOptions).then((fetchRes) => {\n        if (fetchRes.ok) {\n            return fetchRes.json().then((parsedResponse) => {\n                return [parsedResponse, fetchRes];\n            }, () => {\n                throw new JsonRequestError('Failure parsing JSON', fetchRes);\n            });\n        }\n        else {\n            throw new JsonRequestError('Request failed', fetchRes);\n        }\n    });\n}\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { meta } = arg.eventSource;\n        const requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n            successCallback({ rawEvents, response });\n        }, errorCallback);\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    name: 'json-event-source',\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    Object.assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    name: 'simple-recurring-event',\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    name: 'change-handler',\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        name: 'misc',\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\n\nlet canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    let el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    let div = el.querySelector('div');\n    let possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nclass CalendarRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            forPrint: false,\n        };\n        this.handleBeforePrint = () => {\n            this.setState({ forPrint: true });\n        };\n        this.handleAfterPrint = () => {\n            this.setState({ forPrint: false });\n        };\n    }\n    render() {\n        let { props } = this;\n        let { options } = props;\n        let { forPrint } = this.state;\n        let isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        let height = (!isHeightAuto && options.height != null) ? options.height : '';\n        let classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            `fc-direction-${options.direction}`,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    }\n    componentDidMount() {\n        let { emitter } = this.props;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    }\n    componentWillUnmount() {\n        let { emitter } = this.props;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    }\n}\n\nclass Interaction {\n    constructor(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    destroy() {\n    }\n}\nfunction parseInteractionSettings(component, input) {\n    return {\n        component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    return {\n        [settings.component.uid]: settings,\n    };\n}\n// global state\nconst interactionSettingsStore = {};\n\nclass CalendarImpl {\n    getCurrentData() {\n        return this.currentDataManager.getCurrentData();\n    }\n    dispatch(action) {\n        this.currentDataManager.dispatch(action);\n    }\n    get view() { return this.getCurrentData().viewApi; }\n    batchRendering(callback) {\n        callback();\n    }\n    updateSize() {\n        this.trigger('_resize', true);\n    }\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    setOption(name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    }\n    getOption(name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    }\n    getAvailableLocaleCodes() {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    }\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    on(handlerName, handler) {\n        let { currentDataManager } = this;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(`Unknown listener name '${handlerName}'`);\n        }\n    }\n    off(handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    }\n    // not meant for public use\n    trigger(handlerName, ...args) {\n        this.currentDataManager.emitter.trigger(handlerName, ...args);\n    }\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    changeView(viewType, dateOrRange) {\n        this.batchRendering(() => {\n            this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                    });\n                    this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    let { dateEnv } = this.getCurrentData();\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType,\n                });\n            }\n        });\n    }\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    zoomTo(dateMarker, viewType) {\n        let state = this.getCurrentData();\n        let spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker,\n            });\n        }\n    }\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    getUnitViewSpec(unit) {\n        let { viewSpecs, toolbarConfig } = this.getCurrentData();\n        let viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        let i;\n        let spec;\n        for (let viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    }\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    prev() {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    }\n    next() {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    }\n    prevYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    }\n    nextYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    }\n    today() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    }\n    gotoDate(zonedDateInput) {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    }\n    incrementDate(deltaInput) {\n        let state = this.getCurrentData();\n        let delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    }\n    getDate() {\n        let state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    }\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    formatDate(d, formatter) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    }\n    // `settings` is for formatter AND isEndExclusive\n    formatRange(d0, d1, settings) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    }\n    formatIso(d, omitTime) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime });\n    }\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    select(dateOrObj, endDate) {\n        let selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        let state = this.getCurrentData();\n        let selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection });\n            triggerDateSelect(selection, null, state);\n        }\n    }\n    unselect(pev) {\n        let state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    }\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    addEvent(eventInput, sourceInput) {\n        if (eventInput instanceof EventImpl) {\n            let def = eventInput._def;\n            let instance = eventInput._instance;\n            let currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def, instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        let state = this.getCurrentData();\n        let eventSource;\n        if (sourceInput instanceof EventSourceImpl) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                [eventSource] = hashValuesToArray(state.eventSources);\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            let sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(`Could not find an event source with ID \"${sourceInput}\"`); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        let tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            let newEventApi = new EventImpl(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    }\n    triggerEventAdd(eventApi) {\n        let { emitter } = this.getCurrentData();\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: () => {\n                this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    }\n    // TODO: optimize\n    getEventById(id) {\n        let state = this.getCurrentData();\n        let { defs, instances } = state.eventStore;\n        id = String(id);\n        for (let defId in defs) {\n            let def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventImpl(state, def, null);\n                }\n                for (let instanceId in instances) {\n                    let instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventImpl(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    getEvents() {\n        let currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    }\n    removeAllEvents() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    }\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    getEventSources() {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        let sourceApis = [];\n        for (let internalId in sourceHash) {\n            sourceApis.push(new EventSourceImpl(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    }\n    getEventSourceById(id) {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        id = String(id);\n        for (let sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceImpl(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    }\n    addEventSource(sourceInput) {\n        let state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceImpl) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        let eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceImpl(state, eventSource);\n        }\n        return null;\n    }\n    removeAllEventSources() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    }\n    refetchEvents() {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    }\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    scrollToTime(timeInput) {\n        let time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time });\n        }\n    }\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    let res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nconst EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nclass Splitter {\n    constructor() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    splitProps(props) {\n        let keyInfos = this.getKeyInfo(props);\n        let defKeys = this.getKeysForEventDefs(props.eventStore);\n        let dateSelections = this.splitDateSelection(props.dateSelection);\n        let individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        let eventStores = this.splitEventStore(props.eventStore, defKeys);\n        let eventDrags = this.splitEventDrag(props.eventDrag);\n        let eventResizes = this.splitEventResize(props.eventResize);\n        let splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, (info, key) => this.eventUiBuilders[key] || memoize(buildEventUiForKey));\n        for (let key in keyInfos) {\n            let keyInfo = keyInfos[key];\n            let eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            let buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    }\n    _splitDateSpan(dateSpan) {\n        let dateSpans = {};\n        if (dateSpan) {\n            let keys = this.getKeysForDateSpan(dateSpan);\n            for (let key of keys) {\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    }\n    _getKeysForEventDefs(eventStore) {\n        return mapHash(eventStore.defs, (eventDef) => this.getKeysForEventDef(eventDef));\n    }\n    _splitEventStore(eventStore, defKeys) {\n        let { defs, instances } = eventStore;\n        let splitStores = {};\n        for (let defId in defs) {\n            for (let key of defKeys[defId]) {\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (let instanceId in instances) {\n            let instance = instances[instanceId];\n            for (let key of defKeys[instance.defId]) {\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    }\n    _splitIndividualUi(eventUiBases, defKeys) {\n        let splitHashes = {};\n        for (let defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (let key of defKeys[defId]) {\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    }\n    _splitInteraction(interaction) {\n        let splitStates = {};\n        if (interaction) {\n            let affectedStores = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            let mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            let mutatedStores = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            let populate = (key) => {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (let key in affectedStores) {\n                populate(key);\n            }\n            for (let key in mutatedStores) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    }\n}\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    let baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    let stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        Object.assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    let classNames = [\n        'fc-day',\n        `fc-day-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    let classNames = [\n        'fc-slot',\n        `fc-slot-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nconst DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nconst WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType = 'day', isTabbable = true) {\n    const { dateEnv, options, calendarApi } = context;\n    let dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        let zonedDate = dateEnv.toDate(dateMarker);\n        const handleInteraction = (ev) => {\n            let customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return Object.assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nlet _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    let outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    let innerEl = outerEl.firstChild;\n    let res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nlet _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    let el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    let res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding = false) {\n    let computedStyle = window.getComputedStyle(el);\n    let borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    let borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    let borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    let borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    let badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    let scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    let scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    let res = {\n        borderLeft,\n        borderRight,\n        borderTop,\n        borderBottom,\n        scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding = false, doFromWindowViewport) {\n    let outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    let edges = computeEdges(el, goWithinPadding);\n    let res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    let rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    let clippingParents = getClippingParents(el);\n    let rect = el.getBoundingClientRect();\n    for (let clippingParent of clippingParents) {\n        let intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\n// does not return window\nfunction getClippingParents(el) {\n    let parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        let computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nclass PositionCache {\n    constructor(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        let originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    buildElHorizontals(originClientLeft) {\n        let lefts = [];\n        let rights = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    }\n    // Populates the top/bottom internal coordinate arrays\n    buildElVerticals(originClientTop) {\n        let tops = [];\n        let bottoms = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    }\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    leftToIndex(leftPosition) {\n        let { lefts, rights } = this;\n        let len = lefts.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    topToIndex(topPosition) {\n        let { tops, bottoms } = this;\n        let len = tops.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Gets the width of the element at the given index\n    getWidth(leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    }\n    // Gets the height of the element at the given index\n    getHeight(topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    }\n}\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nclass ScrollController {\n    getMaxScrollTop() {\n        return this.getScrollHeight() - this.getClientHeight();\n    }\n    getMaxScrollLeft() {\n        return this.getScrollWidth() - this.getClientWidth();\n    }\n    canScrollVertically() {\n        return this.getMaxScrollTop() > 0;\n    }\n    canScrollHorizontally() {\n        return this.getMaxScrollLeft() > 0;\n    }\n    canScrollUp() {\n        return this.getScrollTop() > 0;\n    }\n    canScrollDown() {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    }\n    canScrollLeft() {\n        return this.getScrollLeft() > 0;\n    }\n    canScrollRight() {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    }\n}\nclass ElementScrollController extends ScrollController {\n    constructor(el) {\n        super();\n        this.el = el;\n    }\n    getScrollTop() {\n        return this.el.scrollTop;\n    }\n    getScrollLeft() {\n        return this.el.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.el.scrollTop = top;\n    }\n    setScrollLeft(left) {\n        this.el.scrollLeft = left;\n    }\n    getScrollWidth() {\n        return this.el.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.el.scrollHeight;\n    }\n    getClientHeight() {\n        return this.el.clientHeight;\n    }\n    getClientWidth() {\n        return this.el.clientWidth;\n    }\n}\nclass WindowScrollController extends ScrollController {\n    getScrollTop() {\n        return window.pageYOffset;\n    }\n    getScrollLeft() {\n        return window.pageXOffset;\n    }\n    setScrollTop(n) {\n        window.scroll(window.pageXOffset, n);\n    }\n    setScrollLeft(n) {\n        window.scroll(n, window.pageYOffset);\n    }\n    getScrollWidth() {\n        return document.documentElement.scrollWidth;\n    }\n    getScrollHeight() {\n        return document.documentElement.scrollHeight;\n    }\n    getClientHeight() {\n        return document.documentElement.clientHeight;\n    }\n    getClientWidth() {\n        return document.documentElement.clientWidth;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nclass DateComponent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.uid = guid();\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    prepareHits() {\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    }\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    isValidSegDownEl(el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    }\n    isValidDateDownEl(el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    }\n}\n\nclass NamedTimeZoneImpl {\n    constructor(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n}\n\nclass SegHierarchy {\n    constructor() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    addSegs(inputs) {\n        let hiddenEntries = [];\n        for (let input of inputs) {\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    }\n    insertEntry(entry, hiddenEntries) {\n        let insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n    isInsertionValid(insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    }\n    // returns number of new entries inserted\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    }\n    splitEntry(entry, barrier, hiddenEntries) {\n        let partCnt = 0;\n        let splitHiddenEntries = [];\n        let entrySpan = entry.span;\n        let barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n            }, ...splitHiddenEntries);\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    }\n    insertEntryAt(entry, insertion) {\n        let { entriesByLevel, levelCoords } = this;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    }\n    findInsertion(newEntry) {\n        let { levelCoords, entriesByLevel, strictOrder, stackCnts } = this;\n        let levelCnt = levelCoords.length;\n        let candidateCoord = 0;\n        let touchingLevel = -1;\n        let touchingLateral = -1;\n        let touchingEntry = null;\n        let stackCnt = 0;\n        for (let trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            let trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            let trackingEntries = entriesByLevel[trackingLevel];\n            let trackingEntry;\n            let searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            let lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                let trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        let destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        let destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel,\n            touchingLateral,\n            touchingEntry,\n            stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    }\n    // sorted by levelCoord (lowest to highest)\n    toRects() {\n        let { entriesByLevel, levelCoords } = this;\n        let levelCnt = entriesByLevel.length;\n        let rects = [];\n        for (let level = 0; level < levelCnt; level += 1) {\n            let entries = entriesByLevel[level];\n            let levelCoord = levelCoords[level];\n            for (let entry of entries) {\n                rects.push(Object.assign(Object.assign({}, entry), { levelCoord }));\n            }\n        }\n        return rects;\n    }\n}\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    let merges = [];\n    for (let entry of entries) {\n        let filteredMerges = [];\n        let hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (let merge of merges) {\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    let start = Math.max(span0.start, span1.start);\n    let end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start, end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    let startIndex = 0;\n    let endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        let middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        let middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nclass ElementDragging {\n    constructor(el, selector) {\n        this.emitter = new Emitter();\n    }\n    destroy() {\n    }\n    setMirrorIsVisible(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setMirrorNeedsRevert(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setAutoScrollEnabled(bool) {\n        // optional\n    }\n}\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nconst config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nconst DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    let { refined, extra } = refineProps(raw, DRAG_META_REFINERS);\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nconst CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(renderProps) {\n    return renderProps.text;\n}\n\n// BAD name for this class now. used in the Header\nclass TableDateCell extends BaseComponent {\n    render() {\n        let { dateEnv, options, theme, viewApi } = this.context;\n        let { props } = this;\n        let { date, dateProfile } = props;\n        let dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        let classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        let navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        let renderProps = Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraRenderProps), { text }), dayMeta);\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: classNames, elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan, 'data-date': !dayMeta.isDisabled ? formatDayString(date) : undefined }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", generator: options.dayHeaderContent || renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContainer) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(InnerContainer, { elTag: \"a\", elAttrs: navLinkAttrs, elClasses: [\n                'fc-col-header-cell-cushion',\n                props.isSticky && 'fc-sticky',\n            ] }))))));\n    }\n}\n\nconst WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nclass TableDowCell extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { dateEnv, theme, viewApi, options } = this.context;\n        let date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        let dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        let renderProps = Object.assign(Object.assign(Object.assign(Object.assign({ // TODO: make this public?\n            date }, dateMeta), { view: viewApi }), props.extraRenderProps), { text });\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: [\n                CLASS_NAME,\n                ...getDayClassNames(dateMeta, theme),\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", generator: options.dayHeaderContent || renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n            createElement(InnerContent, { elTag: \"a\", elClasses: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky && 'fc-sticky',\n                ], elAttrs: {\n                    'aria-label': dateEnv.format(date, WEEKDAY_FORMAT),\n                } })))));\n    }\n}\n\nclass NowTimer extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        this.initialNowQueriedMs = new Date().valueOf();\n        this.state = this.computeTiming().currentState;\n    }\n    render() {\n        let { props, state } = this;\n        return props.children(state.nowDate, state.todayRange);\n    }\n    componentDidMount() {\n        this.setTimeout();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    }\n    componentWillUnmount() {\n        this.clearTimeout();\n    }\n    computeTiming() {\n        let { props, context } = this;\n        let unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        let currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        let nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        let waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs,\n        };\n    }\n    setTimeout() {\n        let { nextState, waitMs } = this.computeTiming();\n        this.timeoutId = setTimeout(() => {\n            this.setState(nextState, () => {\n                this.setTimeout();\n            });\n        }, waitMs);\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    }\n}\nNowTimer.contextType = ViewContextType;\nfunction buildDayRange(date) {\n    let start = startOfDay(date);\n    let end = addDays(start, 1);\n    return { start, end };\n}\n\nclass DayHeader extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n    }\n    render() {\n        let { context } = this;\n        let { dates, dateProfile, datesRepDistinctDays, renderIntro } = this.props;\n        let dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map((date) => (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))))))));\n    }\n}\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nclass DaySeriesModel {\n    constructor(range, dateProfileGenerator) {\n        let date = range.start;\n        let { end } = range;\n        let indices = [];\n        let dates = [];\n        let dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    sliceRange(range) {\n        let firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        let lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        let clippedFirstIndex = Math.max(0, firstIndex);\n        let clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    }\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    getDateDayIndex(date) {\n        let { indices } = this;\n        let dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    }\n}\n\nclass DayTableModel {\n    constructor(daySeries, breakOnWeeks) {\n        let { dates } = daySeries;\n        let daysPerRow;\n        let firstDay;\n        let rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    buildCells() {\n        let rows = [];\n        for (let row = 0; row < this.rowCnt; row += 1) {\n            let cells = [];\n            for (let col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    }\n    buildCell(row, col) {\n        let date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date,\n        };\n    }\n    buildHeaderDates() {\n        let dates = [];\n        for (let col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    }\n    sliceRange(range) {\n        let { colCnt } = this;\n        let seriesSeg = this.daySeries.sliceRange(range);\n        let segs = [];\n        if (seriesSeg) {\n            let { firstIndex, lastIndex } = seriesSeg;\n            let index = firstIndex;\n            while (index <= lastIndex) {\n                let row = Math.floor(index / colCnt);\n                let nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    }\n}\n\nclass Slicer {\n    constructor() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    sliceProps(props, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        let { eventUiBases } = props;\n        let eventSegs = this.sliceEventStore(props.eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs);\n        return {\n            dateSelectionSegs: this.sliceDateSelection(props.dateSelection, eventUiBases, context, ...extraArgs),\n            businessHourSegs: this.sliceBusinessHours(props.businessHours, dateProfile, nextDayThreshold, context, ...extraArgs),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag(props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventResize: this.sliceEventResize(props.eventResize, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    }\n    sliceNowDate(// does not memoize\n    date, context, ...extraArgs) {\n        return this._sliceDateSpan({ range: { start: date, end: addMs(date, 1) }, allDay: false }, // add 1 ms, protect against null range\n        {}, context, ...extraArgs);\n    }\n    _sliceBusinessHours(businessHours, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore(expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context), {}, dateProfile, nextDayThreshold, ...extraArgs).bg;\n    }\n    _sliceEventStore(eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (eventStore) {\n            let rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    }\n    _sliceInteraction(interaction, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (!interaction) {\n            return null;\n        }\n        let rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    }\n    _sliceDateSpan(dateSpan, eventUiBases, context, ...extraArgs) {\n        if (!dateSpan) {\n            return [];\n        }\n        let eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        let segs = this.sliceRange(dateSpan.range, ...extraArgs);\n        for (let seg of segs) {\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRanges(eventRanges, extraArgs) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRange(eventRange, extraArgs) {\n        let dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        let segs = this.sliceRange(dateRange, ...extraArgs);\n        for (let seg of segs) {\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    }\n}\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    let range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    let { instances } = interaction.mutatedEvents;\n    for (let instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    let calendarState = context.getCurrentData();\n    let props = Object.assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta = {}, filterConfig) {\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let currentState = context.getCurrentData();\n    let interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    let subjectEventStore = interaction.mutatedEvents;\n    let subjectDefs = subjectEventStore.defs;\n    let subjectInstances = subjectEventStore.instances;\n    let subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    let otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    let otherDefs = otherEventStore.defs;\n    let otherInstances = otherEventStore.instances;\n    let otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (let subjectInstanceId in subjectInstances) {\n        let subjectInstance = subjectInstances[subjectInstanceId];\n        let subjectRange = subjectInstance.range;\n        let subjectConfig = subjectConfigs[subjectInstance.defId];\n        let subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        let { eventOverlap } = context.options;\n        let eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (let otherInstanceId in otherInstances) {\n            let otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                let otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventImpl(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventImpl(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        let calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (let subjectAllow of subjectConfig.allows) {\n            let subjectDateSpan = Object.assign(Object.assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            let origDef = calendarEventStore.defs[subjectDef.defId];\n            let origInstance = calendarEventStore.instances[subjectInstanceId];\n            let eventApi;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventImpl(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventImpl(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let relevantEventStore = state.eventStore;\n    let relevantDefs = relevantEventStore.defs;\n    let relevantInstances = relevantEventStore.instances;\n    let selection = state.dateSelection;\n    let selectionRange = selection.range;\n    let { selectionConfig } = context.getCurrentData();\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    let { selectOverlap } = context.options;\n    let selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (let relevantInstanceId in relevantInstances) {\n        let relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventImpl(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (let selectionAllow of selectionConfig.allows) {\n        let fullDateSpan = Object.assign(Object.assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (let constraint of constraints) {\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, (eventDef) => eventDef.groupId === constraint));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    let { instances } = eventStore;\n    let ranges = [];\n    for (let instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (let outerRange of outerRanges) {\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nconst VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nclass Scroller extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { props } = this;\n        let { liquid, liquidIsAbsolute } = props;\n        let isAbsolute = liquid && liquidIsAbsolute;\n        let className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    }\n    needsXScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    }\n    needsYScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getXScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n    getYScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n}\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nclass RefMap {\n    constructor(masterCallback) {\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = (val, key) => {\n            let { depths, currentMap } = this;\n            let removed = false;\n            let added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (this.masterCallback) {\n                if (removed) {\n                    this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    createRef(key) {\n        let refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = (val) => {\n                this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    }\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    collect(startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    }\n    getAll() {\n        return hashValuesToArray(this.currentMap);\n    }\n}\n\nfunction computeShrinkWidth(chunkEls) {\n    let shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    let largestWidth = 0;\n    for (let shrinkCell of shrinkCells) {\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    let { expandRows } = arg;\n    let content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    let colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (let colProps of cols) {\n        let span = colProps.span || 1;\n        for (let i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement('colgroup', {}, ...colNodes);\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (let col of cols) {\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    let classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    let classNames = [\n        'fc-scrollgrid-section',\n        `fc-scrollgrid-section-${sectionConfig.type}`,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    let { stickyHeaderDates } = options;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    let { stickyFooterScrollbar } = options;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nclass SimpleScrollGrid extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.processCols = memoize((a) => a, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        this.renderMicroColGroup = memoize(renderMicroColGroup);\n        this.scrollerRefs = new RefMap();\n        this.scrollerElRefs = new RefMap(this._handleScrollerEl.bind(this));\n        this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        this.handleSizing = () => {\n            this.safeSetState(Object.assign({ shrinkWidth: this.computeShrinkWidth() }, this.computeScrollerDims()));\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let sectionConfigs = props.sections || [];\n        let cols = this.processCols(props.cols);\n        let microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        let classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        let configCnt = sectionConfigs.length;\n        let configI = 0;\n        let currentConfig;\n        let headSectionNodes = [];\n        let bodySectionNodes = [];\n        let footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        let isBuggy = !getCanVGrowWithinCell();\n        const roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement('thead', roleAttrs, ...headSectionNodes), Boolean(!isBuggy && bodySectionNodes.length) && createElement('tbody', roleAttrs, ...bodySectionNodes), Boolean(!isBuggy && footSectionNodes.length) && createElement('tfoot', roleAttrs, ...footSectionNodes), isBuggy && createElement('tbody', roleAttrs, ...headSectionNodes, ...bodySectionNodes, ...footSectionNodes));\n    }\n    renderSection(sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    }\n    renderChunkTd(sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        let { props } = this;\n        let { forceYScrollbars, scrollerClientWidths, scrollerClientHeights } = this.state;\n        let needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        let isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        let overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        let sectionKey = sectionConfig.key;\n        let content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: () => { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: `fc-scroller-harness${isLiquid ? ' fc-scroller-harness-liquid' : ''}` },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    }\n    _handleScrollerEl(scrollerEl, key) {\n        let section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    }\n    componentDidMount() {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    }\n    componentDidUpdate() {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleSizing);\n    }\n    computeShrinkWidth() {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    }\n    computeScrollerDims() {\n        let scrollbarWidth = getScrollbarWidths();\n        let { scrollerRefs, scrollerElRefs } = this;\n        let forceYScrollbars = false;\n        let scrollerClientWidths = {};\n        let scrollerClientHeights = {};\n        for (let sectionKey in scrollerRefs.currentMap) {\n            let scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (let section of this.props.sections) {\n            let sectionKey = section.key;\n            let scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                let harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars, scrollerClientWidths, scrollerClientHeights };\n    }\n}\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (let section of sections) {\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nclass EventContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { seg } = props;\n        const { eventRange } = seg;\n        const { ui } = eventRange;\n        const renderProps = {\n            event: new EventImpl(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        return (createElement(ContentContainer, Object.assign({}, props /* contains children */, { elRef: this.elRef, elClasses: [\n                ...getEventClassNames(renderProps),\n                ...seg.eventRange.ui.classNames,\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, generatorName: \"eventContent\", generator: options.eventContent || props.defaultGenerator, classNameGenerator: options.eventClassNames, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount })));\n    }\n    componentDidMount() {\n        setElSeg(this.elRef.current, this.props.seg);\n    }\n}\n\n// should not be a purecomponent\nclass StandardEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let { ui } = seg.eventRange;\n        let timeFormat = options.eventTimeFormat || props.defaultTimeFormat;\n        let timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props /* includes elRef */, { elTag: \"a\", elStyle: {\n                borderColor: ui.borderColor,\n                backgroundColor: ui.backgroundColor,\n            }, elAttrs: getSegAnchorAttrs(seg, context), defaultGenerator: renderInnerContent$1, timeText: timeText }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-event-main'], elStyle: { color: eventContentArg.textColor } }),\n            Boolean(eventContentArg.isStartResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" })),\n            Boolean(eventContentArg.isEndResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))))));\n    }\n}\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nconst NowIndicatorContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { options } = context;\n    let renderProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elTag: props.elTag || 'div', renderProps: renderProps, generatorName: \"nowIndicatorContent\", generator: options.nowIndicatorContent, classNameGenerator: options.nowIndicatorClassNames, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount })));\n}));\n\nconst DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nclass DayCellContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.refineRenderProps = memoizeObjArg(refineRenderProps);\n    }\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = this.refineRenderProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraRenderProps: props.extraRenderProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elClasses: [\n                ...getDayClassNames(renderProps, context.theme),\n                ...(props.elClasses || []),\n            ], elAttrs: Object.assign(Object.assign({}, props.elAttrs), (renderProps.isDisabled ? {} : { 'data-date': formatDayString(props.date) })), renderProps: renderProps, generatorName: \"dayCellContent\", generator: options.dayCellContent || props.defaultGenerator, classNameGenerator: \n            // don't use custom classNames if disabled\n            renderProps.isDisabled ? undefined : options.dayCellClassNames, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount })));\n    }\n}\nfunction hasCustomDayCellContent(options) {\n    return Boolean(options.dayCellContent || hasCustomRenderingHandler('dayCellContent', options));\n}\nfunction refineRenderProps(raw) {\n    let { date, dateEnv } = raw;\n    let dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraRenderProps);\n}\n\nclass BgEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { seg } = props;\n        return (createElement(EventContainer, { elTag: \"div\", elClasses: ['fc-bg-event'], elStyle: { backgroundColor: seg.eventRange.ui.backgroundColor }, defaultGenerator: renderInnerContent, seg: seg, timeText: \"\", isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, disableDragging: true, disableResizing: true }));\n    }\n}\nfunction renderInnerContent(props) {\n    let { title } = props.event;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: `fc-${fillType}` }));\n}\n\nconst WeekNumberContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { dateEnv, options } = context;\n    let { date } = props;\n    let format = options.weekNumberFormat || props.defaultFormat;\n    let num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    let text = dateEnv.format(date, format);\n    let renderProps = { num, text, date };\n    return (createElement(ContentContainer // why isn't WeekNumberContentArg being auto-detected?\n    , Object.assign({}, props /* includes children */, { renderProps: renderProps, generatorName: \"weekNumberContent\", generator: options.weekNumberContent || renderInner, classNameGenerator: options.weekNumberClassNames, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount })));\n}));\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nconst PADDING_FROM_VIEWPORT = 10;\nclass Popover extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            titleId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            this.rootEl = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        this.handleDocumentMouseDown = (ev) => {\n            // only hide the popover if the click happened outside the popover\n            const target = getEventTargetViaRoot(ev);\n            if (!this.rootEl.contains(target)) {\n                this.handleCloseClick();\n            }\n        };\n        this.handleDocumentKeyDown = (ev) => {\n            if (ev.key === 'Escape') {\n                this.handleCloseClick();\n            }\n        };\n        this.handleCloseClick = () => {\n            let { onClose } = this.props;\n            if (onClose) {\n                onClose();\n            }\n        };\n    }\n    render() {\n        let { theme, options } = this.context;\n        let { props, state } = this;\n        let classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", Object.assign({}, props.extraAttrs, { id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId, ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    }\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    }\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    }\n    updateSize() {\n        let { isRtl } = this.context;\n        let { alignmentEl, alignGridTop } = this.props;\n        let { rootEl } = this;\n        let alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            let popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            let popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            let popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            let origin = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin.top,\n                left: popoverLeft - origin.left,\n            });\n        }\n    }\n}\n\nclass MorePopover extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { options, dateEnv } = this.context;\n        let { props } = this;\n        let { startDate, todayRange, dateProfile } = props;\n        let title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellContainer, { elRef: this.handleRootEl, date: startDate, dateProfile: dateProfile, todayRange: todayRange }, (InnerContent, renderProps, elAttrs) => (createElement(Popover, { elRef: elAttrs.ref, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(elAttrs.className || []), extraAttrs: elAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-more-popover-misc'] })),\n            props.children))));\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        let { rootEl, props } = this;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: Object.assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    }\n}\n\nclass MoreLinkContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.linkElRef = createRef();\n        this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        this.handleClick = (ev) => {\n            let { props, context } = this;\n            let { moreLinkClick } = context.options;\n            let date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                let { def, instance, range } = seg.eventRange;\n                return {\n                    event: new EventImpl(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        this.handlePopoverClose = () => {\n            this.setState({ isPopoverOpen: false });\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(ViewContextType.Consumer, null, (context) => {\n            let { viewApi, options, calendarApi } = context;\n            let { moreLinkText } = options;\n            let { moreCnt } = props;\n            let range = computeRange(props);\n            let text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : `+${moreCnt} ${moreLinkText}`;\n            let hint = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            let renderProps = {\n                num: moreCnt,\n                shortText: `+${moreCnt}`,\n                text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(ContentContainer, { elTag: props.elTag || 'a', elRef: this.linkElRef, elClasses: [\n                        ...(props.elClasses || []),\n                        'fc-more-link',\n                    ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.elAttrs), createAriaClickAttrs(this.handleClick)), { title: hint, 'aria-expanded': state.isPopoverOpen, 'aria-controls': state.isPopoverOpen ? state.popoverId : '' }), renderProps: renderProps, generatorName: \"moreLinkContent\", generator: options.moreLinkContent || props.defaultGenerator || renderMoreLinkInner, classNameGenerator: options.moreLinkClassNames, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, props.children)),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: this.parentEl, alignmentEl: props.alignmentElRef ?\n                        props.alignmentElRef.current :\n                        this.linkElRef.current, alignGridTop: props.alignGridTop, onClose: this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    }\n    componentDidMount() {\n        this.updateParentEl();\n    }\n    componentDidUpdate() {\n        this.updateParentEl();\n    }\n    updateParentEl() {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    let { hiddenSegs } = props;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\nclass Store {\n    constructor() {\n        this.handlers = [];\n    }\n    set(value) {\n        this.currentValue = value;\n        for (let handler of this.handlers) {\n            handler(value);\n        }\n    }\n    subscribe(handler) {\n        this.handlers.push(handler);\n        if (this.currentValue !== undefined) {\n            handler(this.currentValue);\n        }\n    }\n}\n\n/*\nSubscribers will get a LIST of CustomRenderings\n*/\nclass CustomRenderingStore extends Store {\n    constructor() {\n        super(...arguments);\n        this.map = new Map();\n    }\n    // for consistent order\n    handle(customRendering) {\n        const { map } = this;\n        let updated = false;\n        if (customRendering.isActive) {\n            map.set(customRendering.id, customRendering);\n            updated = true;\n        }\n        else if (map.has(customRendering.id)) {\n            map.delete(customRendering.id);\n            updated = true;\n        }\n        if (updated) {\n            this.set(map);\n        }\n    }\n}\n\nexport { interactionSettingsStore as $, BASE_OPTION_REFINERS as A, BASE_OPTION_DEFAULTS as B, ContentContainer as C, DelayedRunner as D, Emitter as E, CALENDAR_LISTENER_REFINERS as F, CALENDAR_OPTION_REFINERS as G, COMPLEX_OPTION_COMPARATORS as H, VIEW_OPTION_REFINERS as I, DateEnv as J, DateProfileGenerator as K, createEventUi as L, parseBusinessHours as M, BaseComponent as N, setRef as O, Interaction as P, getElSeg as Q, elementClosest as R, EventImpl as S, Theme as T, listenBySelector as U, ViewContextType as V, listenToHoverBySelector as W, PureComponent as X, buildViewContext as Y, getUniqueDomId as Z, parseInteractionSettings as _, mapHash as a, whenTransitionDone as a$, getNow as a0, CalendarImpl as a1, flushSync as a2, CalendarRoot as a3, RenderId as a4, isArraysEqual as a5, applyStyleProp as a6, sliceEventStore as a7, createPlugin as a8, JsonRequestError as a9, pointInsideRect as aA, constrainPoint as aB, getRectCenter as aC, diffPoints as aD, translateRect as aE, filterHash as aF, compareObjs as aG, collectFromHash as aH, findElements as aI, findDirectChildren as aJ, removeElement as aK, applyStyle as aL, elementMatches as aM, getElRoot as aN, getEventTargetViaRoot as aO, parseClassNames as aP, getCanVGrowWithinCell as aQ, mergeEventStores as aR, getRelevantEvents as aS, eventTupleToStore as aT, combineEventUis as aU, Splitter as aV, getDayClassNames as aW, getDateMeta as aX, getSlotClassNames as aY, buildNavLinkAttrs as aZ, preventDefault as a_, createContext as aa, identity as ab, refineProps as ac, createEventInstance as ad, parseEventDef as ae, refineEventDef as af, padStart as ag, isInt as ah, parseFieldSpecs as ai, compareByFieldSpecs as aj, flexibleCompare as ak, preventSelection as al, allowSelection as am, preventContextMenu as an, allowContextMenu as ao, compareNumbers as ap, enableCursor as aq, disableCursor as ar, guid as as, computeVisibleDayRange as at, isMultiDayRange as au, diffDates as av, removeExact as aw, memoizeArraylike as ax, memoizeHashlike as ay, intersectRects as az, buildViewClassNames as b, requestJson as b$, computeInnerRect as b0, computeEdges as b1, getClippingParents as b2, computeRect as b3, unpromisify as b4, intersectRanges as b5, rangesEqual as b6, rangesIntersect as b7, rangeContainsRange as b8, PositionCache as b9, SegHierarchy as bA, buildEntryKey as bB, getEntrySpanEnd as bC, binarySearch as bD, groupIntersectingEntries as bE, intersectSpans as bF, interactionSettingsToStore as bG, ElementDragging as bH, config as bI, parseDragMeta as bJ, DayHeader as bK, computeFallbackHeaderFormat as bL, TableDateCell as bM, TableDowCell as bN, DaySeriesModel as bO, hasBgRendering as bP, buildSegTimeText as bQ, sortEventSegs as bR, getSegMeta as bS, buildEventRangeKey as bT, getSegAnchorAttrs as bU, DayTableModel as bV, Slicer as bW, applyMutationToEventStore as bX, isPropsValid as bY, isInteractionValid as bZ, isDateSelectionValid as b_, ScrollController as ba, ElementScrollController as bb, WindowScrollController as bc, DateComponent as bd, isDateSpansEqual as be, addDays as bf, startOfDay as bg, addMs as bh, addWeeks as bi, diffWeeks as bj, diffWholeWeeks as bk, diffDayAndTime as bl, diffDays as bm, isValidDate as bn, asCleanDays as bo, multiplyDuration as bp, addDurations as bq, asRoughMinutes as br, asRoughSeconds as bs, asRoughMs as bt, wholeDivideDurations as bu, formatIsoTimeString as bv, formatDayString as bw, buildIsoString as bx, NamedTimeZoneImpl as by, parse as bz, greatestDurationDenominator as c, SimpleScrollGrid as c0, hasShrinkWidth as c1, renderMicroColGroup as c2, getScrollGridClassNames as c3, getSectionClassNames as c4, getSectionHasLiquidHeight as c5, getAllowYScrolling as c6, renderChunkContent as c7, computeShrinkWidth as c8, sanitizeShrinkWidth as c9, isColPropsEqual as ca, renderScrollShim as cb, getStickyFooterScrollbar as cc, getStickyHeaderDates as cd, Scroller as ce, getScrollbarWidths as cf, RefMap as cg, getIsRtlScrollbarOnLeft as ch, NowTimer as ci, ScrollResponder as cj, StandardEvent as ck, NowIndicatorContainer as cl, DayCellContainer as cm, hasCustomDayCellContent as cn, EventContainer as co, renderFill as cp, BgEvent as cq, WeekNumberContainer as cr, MoreLinkContainer as cs, computeEarliestSegStart as ct, ViewContainer as cu, triggerDateSelect as cv, getDefaultEventEnd as cw, buildEventApis as cx, buildElAttrs as cy, CustomRenderingStore as cz, createDuration as d, createFormatter as e, formatWithOrdinals as f, globalLocales as g, diffWholeDays as h, injectStyles as i, memoize as j, buildBuildPluginHooks as k, memoizeObjArg as l, mergeProps as m, isPropsEqual as n, getInitialDate as o, initEventSources as p, createEmptyEventStore as q, rangeContainsMarker as r, reduceCurrentDate as s, reduceEventSources as t, reduceEventStore as u, computeEventSourcesLoading as v, reduceEventSourcesNewTimeZone as w, rezoneEventStoreDates as x, mergeRawOptions as y, globalPlugins as z };\n","export { B as BASE_OPTION_DEFAULTS, N as BaseComponent, cq as BgEvent, a1 as CalendarImpl, a3 as CalendarRoot, C as ContentContainer, cz as CustomRenderingStore, bd as DateComponent, J as DateEnv, K as DateProfileGenerator, cm as DayCellContainer, bK as DayHeader, bO as DaySeriesModel, bV as DayTableModel, D as DelayedRunner, bH as ElementDragging, bb as ElementScrollController, E as Emitter, co as EventContainer, S as EventImpl, P as Interaction, cs as MoreLinkContainer, by as NamedTimeZoneImpl, cl as NowIndicatorContainer, ci as NowTimer, b9 as PositionCache, cg as RefMap, ba as ScrollController, cj as ScrollResponder, ce as Scroller, bA as SegHierarchy, c0 as SimpleScrollGrid, bW as Slicer, aV as Splitter, ck as StandardEvent, bM as TableDateCell, bN as TableDowCell, T as Theme, cu as ViewContainer, V as ViewContextType, cr as WeekNumberContainer, bc as WindowScrollController, bf as addDays, bq as addDurations, bh as addMs, bi as addWeeks, ao as allowContextMenu, am as allowSelection, bX as applyMutationToEventStore, aL as applyStyle, bo as asCleanDays, br as asRoughMinutes, bt as asRoughMs, bs as asRoughSeconds, bD as binarySearch, cy as buildElAttrs, bB as buildEntryKey, cx as buildEventApis, bT as buildEventRangeKey, bx as buildIsoString, aZ as buildNavLinkAttrs, bQ as buildSegTimeText, aH as collectFromHash, aU as combineEventUis, aj as compareByFieldSpecs, ap as compareNumbers, aG as compareObjs, ct as computeEarliestSegStart, b1 as computeEdges, bL as computeFallbackHeaderFormat, b0 as computeInnerRect, b3 as computeRect, c8 as computeShrinkWidth, at as computeVisibleDayRange, bI as config, aB as constrainPoint, d as createDuration, q as createEmptyEventStore, ad as createEventInstance, L as createEventUi, e as createFormatter, av as diffDates, bl as diffDayAndTime, bm as diffDays, aD as diffPoints, bj as diffWeeks, h as diffWholeDays, bk as diffWholeWeeks, ar as disableCursor, R as elementClosest, aM as elementMatches, aq as enableCursor, aT as eventTupleToStore, aF as filterHash, aJ as findDirectChildren, aI as findElements, ak as flexibleCompare, bw as formatDayString, bv as formatIsoTimeString, c6 as getAllowYScrolling, aQ as getCanVGrowWithinCell, b2 as getClippingParents, aX as getDateMeta, aW as getDayClassNames, cw as getDefaultEventEnd, aN as getElRoot, Q as getElSeg, bC as getEntrySpanEnd, aO as getEventTargetViaRoot, ch as getIsRtlScrollbarOnLeft, aC as getRectCenter, aS as getRelevantEvents, c3 as getScrollGridClassNames, cf as getScrollbarWidths, c4 as getSectionClassNames, c5 as getSectionHasLiquidHeight, bU as getSegAnchorAttrs, bS as getSegMeta, aY as getSlotClassNames, cc as getStickyFooterScrollbar, cd as getStickyHeaderDates, Z as getUniqueDomId, g as globalLocales, z as globalPlugins, c as greatestDurationDenominator, bE as groupIntersectingEntries, as as guid, bP as hasBgRendering, cn as hasCustomDayCellContent, c1 as hasShrinkWidth, ab as identity, i as injectStyles, $ as interactionSettingsStore, bG as interactionSettingsToStore, b5 as intersectRanges, az as intersectRects, bF as intersectSpans, a5 as isArraysEqual, ca as isColPropsEqual, b_ as isDateSelectionValid, be as isDateSpansEqual, ah as isInt, bZ as isInteractionValid, au as isMultiDayRange, n as isPropsEqual, bY as isPropsValid, bn as isValidDate, a as mapHash, j as memoize, ax as memoizeArraylike, ay as memoizeHashlike, l as memoizeObjArg, aR as mergeEventStores, bp as multiplyDuration, ag as padStart, M as parseBusinessHours, aP as parseClassNames, bJ as parseDragMeta, ae as parseEventDef, ai as parseFieldSpecs, bz as parseMarker, aA as pointInsideRect, an as preventContextMenu, a_ as preventDefault, al as preventSelection, r as rangeContainsMarker, b8 as rangeContainsRange, b6 as rangesEqual, b7 as rangesIntersect, af as refineEventDef, ac as refineProps, aK as removeElement, aw as removeExact, c7 as renderChunkContent, cp as renderFill, c2 as renderMicroColGroup, cb as renderScrollShim, b$ as requestJson, c9 as sanitizeShrinkWidth, O as setRef, a7 as sliceEventStore, bR as sortEventSegs, bg as startOfDay, aE as translateRect, cv as triggerDateSelect, b4 as unpromisify, a$ as whenTransitionDone, bu as wholeDivideDurations } from './internal-common.js';\nimport 'preact';\nimport 'preact/compat';\n","export * from 'preact';\nexport { createPortal } from 'preact/compat';\nexport { aa as createContext, a2 as flushSync } from './internal-common.js';\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayGridView as DayTableView } from './internal.js';\nimport { DateProfileGenerator, addWeeks, diffWeeks, injectStyles } from '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\n\nclass TableDateProfileGenerator extends DateProfileGenerator {\n    // Computes the date range that will be rendered.\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        let { dateEnv } = this.props;\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\n        let start = renderRange.start;\n        let end = renderRange.end;\n        let endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start, end };\n    }\n}\n\nvar css_248z = \"\\n:root {\\n  --fc-daygrid-event-dot-width: 8px;\\n}\\n\\n/* help things clear margins of inner content */\\n\\n.fc-daygrid-day-frame,\\n.fc-daygrid-day-events,\\n.fc-daygrid-event-harness { /* for event top/bottom margins */\\n}\\n\\n.fc-daygrid-day-frame:before, .fc-daygrid-day-events:before, .fc-daygrid-event-harness:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n\\n.fc-daygrid-day-frame:after, .fc-daygrid-day-events:after, .fc-daygrid-event-harness:after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n\\n.fc .fc-daygrid-body { /* a <div> that wraps the table */\\n    position: relative;\\n    z-index: 1; /* container inner z-index's because <tr>s can't do it */\\n  }\\n\\n.fc .fc-daygrid-day.fc-day-today {\\n      background-color: var(--fc-today-bg-color);\\n    }\\n\\n.fc .fc-daygrid-day-frame {\\n    position: relative;\\n    min-height: 100%; /* seems to work better than `height` because sets height after rows/cells naturally do it */\\n  }\\n\\n.fc {\\n\\n  /* cell top */\\n\\n}\\n\\n.fc .fc-daygrid-day-top {\\n    display: flex;\\n    flex-direction: row-reverse;\\n  }\\n\\n.fc .fc-day-other .fc-daygrid-day-top {\\n    opacity: 0.3;\\n  }\\n\\n.fc {\\n\\n  /* day number (within cell top) */\\n\\n}\\n\\n.fc .fc-daygrid-day-number {\\n    position: relative;\\n    z-index: 4;\\n    padding: 4px;\\n  }\\n\\n.fc {\\n\\n  /* event container */\\n\\n}\\n\\n.fc .fc-daygrid-day-events {\\n    margin-top: 1px; /* needs to be margin, not padding, so that available cell height can be computed */\\n  }\\n\\n.fc {\\n\\n  /* positioning for balanced vs natural */\\n\\n}\\n\\n.fc .fc-daygrid-body-balanced .fc-daygrid-day-events {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n    }\\n\\n.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events {\\n      position: relative; /* for containing abs positioned event harnesses */\\n      min-height: 2em; /* in addition to being a min-height during natural height, equalizes the heights a little bit */\\n    }\\n\\n.fc .fc-daygrid-body-natural { /* can coexist with -unbalanced */\\n  }\\n\\n.fc .fc-daygrid-body-natural .fc-daygrid-day-events {\\n      margin-bottom: 1em;\\n    }\\n\\n.fc {\\n\\n  /* event harness */\\n\\n}\\n\\n.fc .fc-daygrid-event-harness {\\n    position: relative;\\n  }\\n\\n.fc .fc-daygrid-event-harness-abs {\\n    position: absolute;\\n    top: 0; /* fallback coords for when cannot yet be computed */\\n    left: 0; /* */\\n    right: 0; /* */\\n  }\\n\\n.fc .fc-daygrid-bg-harness {\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n  }\\n\\n.fc {\\n\\n  /* bg content */\\n\\n}\\n\\n.fc .fc-daygrid-day-bg .fc-non-business { z-index: 1 }\\n\\n.fc .fc-daygrid-day-bg .fc-bg-event { z-index: 2 }\\n\\n.fc .fc-daygrid-day-bg .fc-highlight { z-index: 3 }\\n\\n.fc {\\n\\n  /* events */\\n\\n}\\n\\n.fc .fc-daygrid-event {\\n    z-index: 6;\\n    margin-top: 1px;\\n  }\\n\\n.fc .fc-daygrid-event.fc-event-mirror {\\n    z-index: 7;\\n  }\\n\\n.fc {\\n\\n  /* cell bottom (within day-events) */\\n\\n}\\n\\n.fc .fc-daygrid-day-bottom {\\n    font-size: .85em;\\n    padding: 2px 3px 0\\n  }\\n\\n.fc .fc-daygrid-day-bottom:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n\\n.fc .fc-daygrid-more-link {\\n    position: relative;\\n    z-index: 4;\\n    cursor: pointer;\\n  }\\n\\n.fc {\\n\\n  /* week number (within frame) */\\n\\n}\\n\\n.fc .fc-daygrid-week-number {\\n    position: absolute;\\n    z-index: 5;\\n    top: 0;\\n    padding: 2px;\\n    min-width: 1.5em;\\n    text-align: center;\\n    background-color: var(--fc-neutral-bg-color);\\n    color: var(--fc-neutral-text-color);\\n  }\\n\\n.fc {\\n\\n  /* popover */\\n\\n}\\n\\n.fc .fc-more-popover .fc-popover-body {\\n    min-width: 220px;\\n    padding: 10px;\\n  }\\n\\n.fc-direction-ltr .fc-daygrid-event.fc-event-start,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-end {\\n  margin-left: 2px;\\n}\\n\\n.fc-direction-ltr .fc-daygrid-event.fc-event-end,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-start {\\n  margin-right: 2px;\\n}\\n\\n.fc-direction-ltr .fc-daygrid-week-number {\\n    left: 0;\\n    border-radius: 0 0 3px 0;\\n  }\\n\\n.fc-direction-rtl .fc-daygrid-week-number {\\n    right: 0;\\n    border-radius: 0 0 0 3px;\\n  }\\n\\n.fc-liquid-hack .fc-daygrid-day-frame {\\n    position: static; /* will cause inner absolute stuff to expand to <td> */\\n  }\\n.fc-daygrid-event { /* make root-level, because will be dragged-and-dropped outside of a component root */\\n  position: relative; /* for z-indexes assigned later */\\n  white-space: nowrap;\\n  border-radius: 3px; /* dot event needs this to when selected */\\n  font-size: var(--fc-small-font-size);\\n}\\n/* --- the rectangle (\\\"block\\\") style of event --- */\\n.fc-daygrid-block-event .fc-event-time {\\n    font-weight: bold;\\n  }\\n.fc-daygrid-block-event .fc-event-time,\\n  .fc-daygrid-block-event .fc-event-title {\\n    padding: 1px;\\n  }\\n/* --- the dot style of event --- */\\n.fc-daygrid-dot-event {\\n  display: flex;\\n  align-items: center;\\n  padding: 2px 0\\n\\n}\\n.fc-daygrid-dot-event .fc-event-title {\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n    overflow: hidden;\\n    font-weight: bold;\\n  }\\n.fc-daygrid-dot-event:hover,\\n  .fc-daygrid-dot-event.fc-event-mirror {\\n    background: rgba(0, 0, 0, 0.1);\\n  }\\n.fc-daygrid-dot-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n.fc-daygrid-event-dot { /* the actual dot */\\n  margin: 0 4px;\\n  box-sizing: content-box;\\n  width: 0;\\n  height: 0;\\n  border: calc(var(--fc-daygrid-event-dot-width) / 2) solid var(--fc-event-border-color);\\n  border-radius: calc(var(--fc-daygrid-event-dot-width) / 2);\\n}\\n/* --- spacing between time and title --- */\\n.fc-direction-ltr .fc-daygrid-event .fc-event-time {\\n    margin-right: 3px;\\n  }\\n.fc-direction-rtl .fc-daygrid-event .fc-event-time {\\n    margin-left: 3px;\\n  }\\n\";\ninjectStyles(css_248z);\n\nvar index = createPlugin({\n    name: '@fullcalendar/daygrid',\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport { index as default };\n","import { DateComponent, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, isPropsEqual, RefMap, sortEventSegs, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel } from '@fullcalendar/core/internal.js';\nimport { createRef, createElement, Fragment } from '@fullcalendar/core/preact.js';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nclass TableView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.headerElRef = createRef();\n    }\n    renderSimpleLayout(headerRowContent, bodyContent) {\n        let { props, context } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { props, context } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })));\n    }\n}\n\nfunction splitSegsByRow(segs, rowCnt) {\n    let byRow = [];\n    for (let i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (let seg of segs) {\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    let byCol = [];\n    for (let i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (let seg of segs) {\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    let { display } = seg.eventRange.ui;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nclass TableBlockEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(StandardEvent, Object.assign({}, props, { elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    }\n}\n\nclass TableListItemEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"a\", elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent, timeText: timeText, isResizing: false, isDateSelecting: false })));\n    }\n}\nfunction renderInnerContent(renderProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),\n        renderProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, renderProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, renderProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nclass TableCellMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.compileSegs = memoize(compileSegs);\n    }\n    render() {\n        let { props } = this;\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-daygrid-more-link'], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map((seg) => {\n                    let instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }));\n    }\n}\nfunction compileSegs(singlePlacements) {\n    let allSegs = [];\n    let invisibleSegs = [];\n    for (let placement of singlePlacements) {\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs, invisibleSegs };\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nclass TableCell extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { context, props, state, rootElRef } = this;\n        let { options } = context;\n        let { date, dateProfile } = props;\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: this.handleRootEl, elClasses: [\n                'fc-daygrid-day',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})), { role: 'gridcell' }), defaultGenerator: renderTopInner, date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => (createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef },\n            props.showWeekNumber && (createElement(WeekNumberContainer, { elTag: \"a\", elClasses: ['fc-daygrid-week-number'], elAttrs: buildNavLinkAttrs(context, date, 'week'), date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT })),\n            Boolean(!renderProps.isDisabled &&\n                (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop)) && (createElement(\"div\", { className: \"fc-daygrid-day-top\" },\n                createElement(InnerContent, { elTag: \"a\", elClasses: ['fc-daygrid-day-number'], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) }))),\n            createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                props.fgContent,\n                createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                    createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n            createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))));\n    }\n}\nfunction renderTopInner(props) {\n    return props.dayNumberText || createElement(Fragment, null, \"\\u00A0\");\n}\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    let hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    let segInputs = [];\n    let unknownHeightSegs = [];\n    for (let i = 0; i < segs.length; i += 1) {\n        let seg = segs[i];\n        let { instanceId } = seg.eventRange.instance;\n        let eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let segRects = hierarchy.toRects();\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\n    let moreCnts = [];\n    let moreMarginTops = [];\n    // add segs with unknown heights\n    for (let seg of unknownHeightSegs) {\n        multiColPlacements[seg.firstCol].push({\n            seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (let col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (let hiddenEntry of hiddenEntries) {\n        let seg = segs[hiddenEntry.index];\n        let hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (let col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    let singleColPlacements = [];\n    let multiColPlacements = [];\n    let leftoverMargins = [];\n    for (let col = 0; col < cells.length; col += 1) {\n        let rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        let singlePlacements = [];\n        let currentHeight = 0;\n        let currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        let multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            let isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    let rectsByEachCol = [];\n    for (let col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (let rect of rects) {\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    let eventRange = seg.eventRange;\n    let origRange = eventRange.range;\n    let slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nclass DayGridSegHierarchy extends SegHierarchy {\n    constructor() {\n        super(...arguments);\n        // config\n        this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        this.forceHidden = {};\n    }\n    addSegs(segInputs) {\n        const hiddenSegs = super.addSegs(segInputs);\n        const { entriesByLevel } = this;\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\n        // remove the forced-hidden segs\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        const { entriesByLevel, forceHidden } = this;\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\n        if (this.hiddenConsumes && touchingEntry) {\n            const touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    const placeholderEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    const placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return super.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n}\n\nclass TableRow extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.cellElRefs = new RefMap(); // the <td>\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        this.rootElRef = createRef();\n        this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let { options } = context;\n        let colCnt = props.cells.length;\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells);\n        let isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map((cell, col) => {\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    }\n    componentDidMount() {\n        this.updateSizing(true);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        let currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n    getHighlightSegs() {\n        let { props } = this;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    }\n    getMirrorSegs() {\n        let { props } = this;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    }\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        let { context } = this;\n        let { eventSelection } = this.props;\n        let { framePositions } = this.state;\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let nodes = [];\n        if (framePositions) {\n            for (let placement of segPlacements) {\n                let { seg } = placement;\n                let { instanceId } = seg.eventRange.instance;\n                let key = instanceId + ':' + col;\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                let isAbsolute = placement.isAbsolute;\n                let left = '';\n                let right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left,\n                        right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    }\n    renderFillSegs(segs, fillType) {\n        let { isRtl } = this.context;\n        let { todayRange } = this.props;\n        let { framePositions } = this.state;\n        let nodes = [];\n        if (framePositions) {\n            for (let seg of segs) {\n                let leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement(Fragment, {}, ...nodes);\n    }\n    updateSizing(isExternalSizingChange) {\n        let { props, frameElRefs } = this;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\n                if (frameEls.length) {\n                    let originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            const oldInstanceHeights = this.state.eventInstanceHeights;\n            const newInstanceHeights = this.queryEventInstanceHeights();\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: Object.assign(Object.assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    }\n    queryEventInstanceHeights() {\n        let segElMap = this.segHarnessRefs.currentMap;\n        let eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (let key in segElMap) {\n            let height = Math.round(segElMap[key].getBoundingClientRect().height);\n            let instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    }\n    computeMaxContentHeight() {\n        let firstKey = this.props.cells[0].key;\n        let cellEl = this.cellElRefs.currentMap[firstKey];\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n    getCellEls() {\n        let elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map((cell) => elMap[cell.key]);\n    }\n}\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map((seg) => ({\n        seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }));\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    let topsByInstanceId = {};\n    for (let placements of colPlacements) {\n        for (let placement of placements) {\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nclass Table extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        this.splitBgEventSegs = memoize(splitSegsByRow);\n        this.splitFgEventSegs = memoize(splitSegsByRow);\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        this.splitEventDrag = memoize(splitInteractionByRow);\n        this.splitEventResize = memoize(splitInteractionByRow);\n        this.rowRefs = new RefMap();\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { props } = this;\n        let { dateProfile, dayMaxEventRows, dayMaxEvents, expandRows } = props;\n        let rowCnt = props.cells.length;\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        let classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null,\n                createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", { role: \"presentation\" }, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint }))))))))));\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    prepareHits() {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    }\n    queryHit(positionLeft, positionTop) {\n        let { colPositions, rowPositions } = this;\n        let col = colPositions.leftToIndex(positionLeft);\n        let row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            let cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n    getCellEl(row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n    getCellRange(row, col) {\n        let start = this.props.cells[row][col].date;\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nclass DayTableSlicer extends Slicer {\n    constructor() {\n        super(...arguments);\n        this.forceDayIfListItem = true;\n    }\n    sliceRange(dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    }\n}\n\nclass DayTable extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.slicer = new DayTableSlicer();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    }\n}\n\nclass DayTableView extends TableView {\n    constructor() {\n        super(...arguments);\n        this.buildDayTableModel = memoize(buildDayTableModel);\n        this.headerRef = createRef();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { options, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n}\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n","import { JsonRequestError, createPlugin } from '@fullcalendar/core/index.js';\nimport { requestJson, addDays, identity } from '@fullcalendar/core/internal.js';\n\n// TODO: expose somehow\nconst API_BASE = 'https://www.googleapis.com/calendar/v3/calendars';\nconst eventSourceDef = {\n    parseMeta(refined) {\n        let { googleCalendarId } = refined;\n        if (!googleCalendarId && refined.url) {\n            googleCalendarId = parseGoogleCalendarId(refined.url);\n        }\n        if (googleCalendarId) {\n            return {\n                googleCalendarId,\n                googleCalendarApiKey: refined.googleCalendarApiKey,\n                googleCalendarApiBase: refined.googleCalendarApiBase,\n                extraParams: refined.extraParams,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        let { dateEnv, options } = arg.context;\n        let meta = arg.eventSource.meta;\n        let apiKey = meta.googleCalendarApiKey || options.googleCalendarApiKey;\n        if (!apiKey) {\n            errorCallback(new Error('Specify a googleCalendarApiKey. See https://fullcalendar.io/docs/google-calendar'));\n        }\n        else {\n            let url = buildUrl(meta);\n            // TODO: make DRY with json-feed-event-source\n            let { extraParams } = meta;\n            let extraParamsObj = typeof extraParams === 'function' ? extraParams() : extraParams;\n            let requestParams = buildRequestParams(arg.range, apiKey, extraParamsObj, dateEnv);\n            return requestJson('GET', url, requestParams).then(([body, response]) => {\n                if (body.error) {\n                    errorCallback(new JsonRequestError('Google Calendar API: ' + body.error.message, response));\n                }\n                else {\n                    successCallback({\n                        rawEvents: gcalItemsToRawEventDefs(body.items, requestParams.timeZone),\n                        response,\n                    });\n                }\n            }, errorCallback);\n        }\n    },\n};\nfunction parseGoogleCalendarId(url) {\n    let match;\n    // detect if the ID was specified as a single string.\n    // will match calendars like \"asdf1234@calendar.google.com\" in addition to person email calendars.\n    if (/^[^/]+@([^/.]+\\.)*(google|googlemail|gmail)\\.com$/.test(url)) {\n        return url;\n    }\n    if ((match = /^https:\\/\\/www.googleapis.com\\/calendar\\/v3\\/calendars\\/([^/]*)/.exec(url)) ||\n        (match = /^https?:\\/\\/www.google.com\\/calendar\\/feeds\\/([^/]*)/.exec(url))) {\n        return decodeURIComponent(match[1]);\n    }\n    return null;\n}\nfunction buildUrl(meta) {\n    let apiBase = meta.googleCalendarApiBase;\n    if (!apiBase) {\n        apiBase = API_BASE;\n    }\n    return apiBase + '/' + encodeURIComponent(meta.googleCalendarId) + '/events';\n}\nfunction buildRequestParams(range, apiKey, extraParams, dateEnv) {\n    let params;\n    let startStr;\n    let endStr;\n    if (dateEnv.canComputeOffset) {\n        // strings will naturally have offsets, which GCal needs\n        startStr = dateEnv.formatIso(range.start);\n        endStr = dateEnv.formatIso(range.end);\n    }\n    else {\n        // when timezone isn't known, we don't know what the UTC offset should be, so ask for +/- 1 day\n        // from the UTC day-start to guarantee we're getting all the events\n        // (start/end will be UTC-coerced dates, so toISOString is okay)\n        startStr = addDays(range.start, -1).toISOString();\n        endStr = addDays(range.end, 1).toISOString();\n    }\n    params = Object.assign(Object.assign({}, (extraParams || {})), { key: apiKey, timeMin: startStr, timeMax: endStr, singleEvents: true, maxResults: 9999 });\n    if (dateEnv.timeZone !== 'local') {\n        params.timeZone = dateEnv.timeZone;\n    }\n    return params;\n}\nfunction gcalItemsToRawEventDefs(items, gcalTimezone) {\n    return items.map((item) => gcalItemToRawEventDef(item, gcalTimezone));\n}\nfunction gcalItemToRawEventDef(item, gcalTimezone) {\n    let url = item.htmlLink || null;\n    // make the URLs for each event show times in the correct timezone\n    if (url && gcalTimezone) {\n        url = injectQsComponent(url, 'ctz=' + gcalTimezone);\n    }\n    return {\n        id: item.id,\n        title: item.summary,\n        start: item.start.dateTime || item.start.date,\n        end: item.end.dateTime || item.end.date,\n        url,\n        location: item.location,\n        description: item.description,\n        attachments: item.attachments || [],\n        extendedProps: (item.extendedProperties || {}).shared || {},\n    };\n}\n// Injects a string like \"arg=value\" into the querystring of a URL\n// TODO: move to a general util file?\nfunction injectQsComponent(url, component) {\n    // inject it after the querystring but before the fragment\n    return url.replace(/(\\?.*?)?(#|$)/, (whole, qs, hash) => (qs ? qs + '&' : '?') + component + hash);\n}\n\nconst OPTION_REFINERS = {\n    googleCalendarApiKey: String,\n};\n\nconst EVENT_SOURCE_REFINERS = {\n    googleCalendarApiKey: String,\n    googleCalendarId: String,\n    googleCalendarApiBase: String,\n    extraParams: identity,\n};\n\nvar index = createPlugin({\n    name: '@fullcalendar/google-calendar',\n    eventSourceDefs: [eventSourceDef],\n    optionRefiners: OPTION_REFINERS,\n    eventSourceRefiners: EVENT_SOURCE_REFINERS,\n});\n\nexport { index as default };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { config, Emitter, elementClosest, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, ElementDragging, preventSelection, preventContextMenu, allowSelection, allowContextMenu, computeRect, getClippingParents, pointInsideRect, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, isDateSpansEqual, Interaction, interactionSettingsToStore, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventImpl, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS } from '@fullcalendar/core/internal.js';\n\nconfig.touchMouseIgnoreWait = 500;\nlet ignoreMouseDepth = 0;\nlet listenerCnt = 0;\nlet isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nclass PointerDragging {\n    constructor(containerEl) {\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = (ev) => {\n            if (!this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                this.tryStart(ev)) {\n                let pev = this.createEventFromMouse(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                if (!this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = (ev) => {\n            let pev = this.createEventFromMouse(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = (ev) => {\n            document.removeEventListener('mousemove', this.handleMouseMove);\n            document.removeEventListener('mouseup', this.handleMouseUp);\n            this.emitter.trigger('pointerup', this.createEventFromMouse(ev));\n            this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = (ev) => {\n            if (this.tryStart(ev)) {\n                this.isTouchDragging = true;\n                let pev = this.createEventFromTouch(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                let targetEl = ev.target;\n                if (!this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = (ev) => {\n            let pev = this.createEventFromTouch(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = (ev) => {\n            if (this.isDragging) { // done to guard against touchend followed by touchcancel\n                let targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', this.handleTouchMove);\n                targetEl.removeEventListener('touchend', this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', this.handleTouchEnd);\n                window.removeEventListener('scroll', this.handleTouchScroll, true); // useCaptured=true\n                this.emitter.trigger('pointerup', this.createEventFromTouch(ev));\n                this.cleanup(); // call last so that pointerup has access to props\n                this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = () => {\n            this.wasTouchScroll = true;\n        };\n        this.handleScroll = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                let pageX = (window.pageXOffset - this.prevScrollX) + this.prevPageX;\n                let pageY = (window.pageYOffset - this.prevScrollY) + this.prevPageY;\n                this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: this.isTouchDragging,\n                    subjectEl: this.subjectEl,\n                    pageX,\n                    pageY,\n                    deltaX: pageX - this.origPageX,\n                    deltaY: pageY - this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    destroy() {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    }\n    tryStart(ev) {\n        let subjectEl = this.querySubjectEl(ev);\n        let downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    }\n    cleanup() {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    }\n    querySubjectEl(ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    }\n    shouldIgnoreMouse() {\n        return ignoreMouseDepth || this.isTouchDragging;\n    }\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    cancelTouchScroll() {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    }\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    initScrollWatch(ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    }\n    recordCoords(ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    }\n    destroyScrollWatch() {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    }\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    createEventFromMouse(ev, isFirst) {\n        let deltaX = 0;\n        let deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n    createEventFromTouch(ev, isFirst) {\n        let touches = ev.touches;\n        let pageX;\n        let pageY;\n        let deltaX = 0;\n        let deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX,\n            pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n}\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(() => {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nclass ElementMirror {\n    constructor() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    start(sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    }\n    handleMove(pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    }\n    // can be called before start\n    setIsVisible(bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    }\n    // always async\n    stop(needsRevertAnimation, callback) {\n        let done = () => {\n            this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    }\n    doRevertAnimation(callback, revertDuration) {\n        let mirrorEl = this.mirrorEl;\n        let finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, () => {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    }\n    cleanup() {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    }\n    updateElPosition() {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    }\n    getMirrorEl() {\n        let sourceElRect = this.sourceElRect;\n        let mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    }\n}\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nclass ScrollGeomCache extends ScrollController {\n    constructor(scrollController, doesListening) {\n        super();\n        this.handleScroll = () => {\n            this.scrollTop = this.scrollController.getScrollTop();\n            this.scrollLeft = this.scrollController.getScrollLeft();\n            this.handleScrollChange();\n        };\n        this.scrollController = scrollController;\n        this.doesListening = doesListening;\n        this.scrollTop = this.origScrollTop = scrollController.getScrollTop();\n        this.scrollLeft = this.origScrollLeft = scrollController.getScrollLeft();\n        this.scrollWidth = scrollController.getScrollWidth();\n        this.scrollHeight = scrollController.getScrollHeight();\n        this.clientWidth = scrollController.getClientWidth();\n        this.clientHeight = scrollController.getClientHeight();\n        this.clientRect = this.computeClientRect(); // do last in case it needs cached values\n        if (this.doesListening) {\n            this.getEventTarget().addEventListener('scroll', this.handleScroll);\n        }\n    }\n    destroy() {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    }\n    getScrollTop() {\n        return this.scrollTop;\n    }\n    getScrollLeft() {\n        return this.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    }\n    setScrollLeft(top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    }\n    getClientWidth() {\n        return this.clientWidth;\n    }\n    getClientHeight() {\n        return this.clientHeight;\n    }\n    getScrollWidth() {\n        return this.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.scrollHeight;\n    }\n    handleScrollChange() {\n    }\n}\n\nclass ElementScrollGeomCache extends ScrollGeomCache {\n    constructor(el, doesListening) {\n        super(new ElementScrollController(el), doesListening);\n    }\n    getEventTarget() {\n        return this.scrollController.el;\n    }\n    computeClientRect() {\n        return computeInnerRect(this.scrollController.el);\n    }\n}\n\nclass WindowScrollGeomCache extends ScrollGeomCache {\n    constructor(doesListening) {\n        super(new WindowScrollController(), doesListening);\n    }\n    getEventTarget() {\n        return window;\n    }\n    computeClientRect() {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    }\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    handleScrollChange() {\n        this.clientRect = this.computeClientRect();\n    }\n}\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nconst getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nclass AutoScroller {\n    constructor() {\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = () => {\n            if (this.isAnimating) { // wasn't cancelled between animation calls\n                let edge = this.computeBestEdge(this.pointerScreenX + window.pageXOffset, this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    let now = getTime();\n                    this.handleSide(edge, (now - this.msSinceRequest) / 1000);\n                    this.requestAnimation(now);\n                }\n                else {\n                    this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    start(pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    }\n    handleMove(pageX, pageY) {\n        if (this.isEnabled) {\n            let pointerScreenX = pageX - window.pageXOffset;\n            let pointerScreenY = pageY - window.pageYOffset;\n            let yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            let xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    }\n    stop() {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (let scrollCache of this.scrollCaches) {\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    }\n    requestAnimation(now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    }\n    handleSide(edge, seconds) {\n        let { scrollCache } = edge;\n        let { edgeThreshold } = this;\n        let invDistance = edgeThreshold - edge.distance;\n        let velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        let sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    }\n    // left/top are relative to document topleft\n    computeBestEdge(left, top) {\n        let { edgeThreshold } = this;\n        let bestSide = null;\n        let scrollCaches = this.scrollCaches || [];\n        for (let scrollCache of scrollCaches) {\n            let rect = scrollCache.clientRect;\n            let leftDist = left - rect.left;\n            let rightDist = rect.right - left;\n            let topDist = top - rect.top;\n            let bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    }\n    buildCaches(scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map((el) => {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    }\n    queryScrollEls(scrollStartEl) {\n        let els = [];\n        for (let query of this.scrollQuery) {\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push(...Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    }\n}\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nclass FeaturefulElementDragging extends ElementDragging {\n    constructor(containerEl, selector) {\n        super(containerEl);\n        this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        this.delay = null;\n        this.minDistance = 0;\n        this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        this.mirrorNeedsRevert = false;\n        this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        this.isDelayEnded = false;\n        this.isDistanceSurpassed = false;\n        this.delayTimeoutId = null;\n        this.onPointerDown = (ev) => {\n            if (!this.isDragging) { // so new drag doesn't happen while revert animation is going\n                this.isInteracting = true;\n                this.isDelayEnded = false;\n                this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                this.emitter.trigger('pointerdown', ev);\n                if (this.isInteracting && // not destroyed via pointerdown handler\n                    !this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    this.startDelay(ev);\n                    if (!this.minDistance) {\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        this.onPointerMove = (ev) => {\n            if (this.isInteracting) {\n                this.emitter.trigger('pointermove', ev);\n                if (!this.isDistanceSurpassed) {\n                    let minDistance = this.minDistance;\n                    let distanceSq; // current distance from the origin, squared\n                    let { deltaX, deltaY } = ev;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        this.mirror.handleMove(ev.pageX, ev.pageY);\n                        this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        this.onPointerUp = (ev) => {\n            if (this.isInteracting) {\n                this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (this.isDragging) {\n                    this.autoScroller.stop();\n                    this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (this.delayTimeoutId) {\n                    clearTimeout(this.delayTimeoutId);\n                    this.delayTimeoutId = null;\n                }\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.onPointerDown);\n        pointer.emitter.on('pointermove', this.onPointerMove);\n        pointer.emitter.on('pointerup', this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        this.mirror = new ElementMirror();\n        this.autoScroller = new AutoScroller();\n    }\n    destroy() {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    }\n    startDelay(ev) {\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(() => {\n                this.delayTimeoutId = null;\n                this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    }\n    handleDelayEnd(ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    }\n    handleDistanceSurpassed(ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    }\n    tryStartDrag(ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    }\n    tryStopDrag(ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    }\n    stopDrag(ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    }\n    // fill in the implementations...\n    setIgnoreMove(bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        this.mirror.setIsVisible(bool);\n    }\n    setMirrorNeedsRevert(bool) {\n        this.mirrorNeedsRevert = bool;\n    }\n    setAutoScrollEnabled(bool) {\n        this.autoScroller.isEnabled = bool;\n    }\n}\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nclass OffsetTracker {\n    constructor(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map((scrollEl) => new ElementScrollGeomCache(scrollEl, true));\n    }\n    destroy() {\n        for (let scrollCache of this.scrollCaches) {\n            scrollCache.destroy();\n        }\n    }\n    computeLeft() {\n        let left = this.origRect.left;\n        for (let scrollCache of this.scrollCaches) {\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    }\n    computeTop() {\n        let top = this.origRect.top;\n        for (let scrollCache of this.scrollCaches) {\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    }\n    isWithinClipping(pageX, pageY) {\n        let point = { left: pageX, top: pageY };\n        for (let scrollCache of this.scrollCaches) {\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    let tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nclass HitDragging {\n    constructor(dragging, droppableStore) {\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            this.initialHit = null;\n            this.movingHit = null;\n            this.finalHit = null;\n            this.prepareHits();\n            this.processFirstCoord(ev);\n            if (this.initialHit || !this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = (ev) => {\n            this.emitter.trigger('dragstart', ev);\n            this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = (ev) => {\n            this.emitter.trigger('dragmove', ev);\n            this.handleMove(ev);\n        };\n        this.handlePointerUp = (ev) => {\n            this.releaseHits();\n            this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.movingHit) {\n                this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            this.finalHit = this.movingHit;\n            this.movingHit = null;\n            this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    processFirstCoord(ev) {\n        let origPoint = { left: ev.pageX, top: ev.pageY };\n        let adjustedPoint = origPoint;\n        let subjectEl = ev.subjectEl;\n        let subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        let initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                let slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    }\n    handleMove(ev, forceHandle) {\n        let hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    }\n    prepareHits() {\n        this.offsetTrackers = mapHash(this.droppableStore, (interactionSettings) => {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    }\n    releaseHits() {\n        let { offsetTrackers } = this;\n        for (let id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    }\n    queryHitForOffset(offsetLeft, offsetTop) {\n        let { droppableStore, offsetTrackers } = this;\n        let bestHit = null;\n        for (let id in droppableStore) {\n            let component = droppableStore[id].component;\n            let offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                let originLeft = offsetTracker.computeLeft();\n                let originTop = offsetTracker.computeTop();\n                let positionLeft = offsetLeft - originLeft;\n                let positionTop = offsetTop - originTop;\n                let { origRect } = offsetTracker;\n                let width = origRect.right - origRect.left;\n                let height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    let hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    }\n}\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.datePointTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nclass DateClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handlePointerDown = (pev) => {\n            let { dragging } = this;\n            let downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        this.handleDragEnd = (ev) => {\n            let { component } = this;\n            let { pointer } = this.dragging;\n            if (!pointer.wasTouchScroll) {\n                let { initialHit, finalHit } = this.hitDragging;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    let { context } = component;\n                    let arg = Object.assign(Object.assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        this.dragging = new FeaturefulElementDragging(settings.el);\n        this.dragging.autoScroller.isEnabled = false;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nclass DateSelecting extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.dragSelection = null;\n        this.handlePointerDown = (ev) => {\n            let { component, dragging } = this;\n            let { options } = component.context;\n            let canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        this.handleDragStart = (ev) => {\n            this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            let { context } = this.component;\n            let dragSelection = null;\n            let isInvalid = false;\n            if (hit) {\n                let initialHit = this.hitDragging.initialHit;\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        this.handlePointerUp = (pev) => {\n            if (this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(this.dragSelection, pev, this.component.context);\n                this.dragSelection = null;\n            }\n        };\n        let { component } = settings;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\nfunction getComponentTouchDelay$1(component) {\n    let { options } = component.context;\n    let delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    let props = {};\n    for (let transformer of dateSelectionTransformers) {\n        let res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            Object.assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nclass EventDragging extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.subjectEl = null;\n        this.subjectSeg = null; // the seg being selected/dragged\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null; // the events being dragged\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let origTarget = ev.origEvent.target;\n            let { component, dragging } = this;\n            let { mirror } = dragging;\n            let { options } = component.context;\n            let initialContext = component.context;\n            this.subjectEl = ev.subjectEl;\n            let subjectSeg = this.subjectSeg = getElSeg(ev.subjectEl);\n            let eventRange = this.eventRange = subjectSeg.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            let isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        this.handleDragStart = (ev) => {\n            let initialContext = this.component.context;\n            let eventRange = this.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: this.subjectEl,\n                    event: new EventImpl(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            if (!this.isDragging) {\n                return;\n            }\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let initialContext = this.component.context;\n            // states based on new hit\n            let receivingContext = null;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                let receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                this.dragging.setMirrorIsVisible(!hit || !getElRoot(this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                this.receivingContext = receivingContext;\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handlePointerUp = () => {\n            if (!this.isDragging) {\n                this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.isDragging) {\n                let initialContext = this.component.context;\n                let initialView = initialContext.viewApi;\n                let { receivingContext, validMutation } = this;\n                let eventDef = this.eventRange.def;\n                let eventInstance = this.eventRange.instance;\n                let eventApi = new EventImpl(initialContext, eventDef, eventInstance);\n                let relevantEvents = this.relevantEvents;\n                let mutatedRelevantEvents = this.mutatedRelevantEvents;\n                let { finalHit } = this.hitDragging;\n                this.clearDrag(); // must happen after revert animation\n                initialContext.emitter.trigger('eventDragStop', {\n                    el: this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext === initialContext) {\n                        let updatedEventApi = new EventImpl(initialContext, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                        initialContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents, // the pre-change data\n                                });\n                            },\n                        };\n                        let transformed = {};\n                        for (let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers) {\n                            Object.assign(transformed, transformer(validMutation, initialContext));\n                        }\n                        initialContext.emitter.trigger('eventDrop', Object.assign(Object.assign(Object.assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext) {\n                        let eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents,\n                                });\n                            },\n                        };\n                        initialContext.emitter.trigger('eventLeave', Object.assign(Object.assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                        initialContext.emitter.trigger('eventRemove', eventRemoveArg);\n                        let addedEventDef = mutatedRelevantEvents.defs[eventDef.defId];\n                        let addedEventInstance = mutatedRelevantEvents.instances[eventInstance.instanceId];\n                        let addedEventApi = new EventImpl(receivingContext, addedEventDef, addedEventInstance);\n                        receivingContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, receivingContext, addedEventInstance),\n                            revert() {\n                                receivingContext.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents,\n                                });\n                            },\n                        };\n                        receivingContext.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext.emitter.trigger('eventReceive', Object.assign(Object.assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext.emitter.trigger('_noEventDrop');\n                }\n            }\n            this.cleanup();\n        };\n        let { component } = this;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    // render a drag state on the next receivingCalendar\n    displayDrag(nextContext, state) {\n        let initialContext = this.component.context;\n        let prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        let initialCalendar = this.component.context;\n        let { receivingContext } = this;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    cleanup() {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    }\n}\n// TODO: test this in IE11\n// QUESTION: why do we need it on the resizable???\nEventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\nfunction computeEventMutation(hit0, hit1, massagers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let date0 = dateSpan0.range.start;\n    let date1 = dateSpan1.range.start;\n    let standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    let delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    let mutation = {\n        datesDelta: delta,\n        standardProps,\n    };\n    for (let massager of massagers) {\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    let { options } = component.context;\n    let delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nclass EventResizing extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.draggingSegEl = null;\n        this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let { component } = this;\n            let segEl = this.querySegEl(ev);\n            let seg = getElSeg(segEl);\n            let eventRange = this.eventRange = seg.eventRange;\n            this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        this.handleDragStart = (ev) => {\n            let { context } = this.component;\n            let eventRange = this.eventRange;\n            this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, this.eventRange.instance.instanceId);\n            let segEl = this.querySegEl(ev);\n            this.draggingSegEl = segEl;\n            this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventImpl(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { context } = this.component;\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let eventInstance = this.eventRange.instance;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            let { context } = this.component;\n            let eventDef = this.eventRange.def;\n            let eventInstance = this.eventRange.instance;\n            let eventApi = new EventImpl(context, eventDef, eventInstance);\n            let relevantEvents = this.relevantEvents;\n            let mutatedRelevantEvents = this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (this.validMutation) {\n                let updatedEventApi = new EventImpl(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                let eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert() {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', Object.assign(Object.assign({}, eventChangeArg), { el: this.draggingSegEl, startDelta: this.validMutation.startDelta || createDuration(0), endDelta: this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            this.draggingSeg = null;\n            this.relevantEvents = null;\n            this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        let { component } = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    querySegEl(ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    }\n}\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    let dateEnv = hit0.context.dateEnv;\n    let date0 = hit0.dateSpan.range.start;\n    let date1 = hit1.dateSpan.range.start;\n    let delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nclass UnselectAuto {\n    constructor(context) {\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = (selectInfo) => {\n            if (selectInfo.jsEvent) {\n                this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = (pev) => {\n            let unselectCancel = this.context.options.unselectCancel;\n            let downEl = getEventTargetViaRoot(pev.origEvent);\n            this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = (pev) => {\n            let { context } = this;\n            let { documentPointer } = this;\n            let calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    let unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            this.isRecentPointerDateSelect = false;\n        };\n        let documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    destroy() {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    }\n}\n\nconst OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nconst LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nclass ExternalElementDragging {\n    constructor(dragging, suppliedDragMeta) {\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = (ev) => {\n            this.dragMeta = this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { dragging } = this.hitDragging;\n            let receivingContext = null;\n            let droppableEvent = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                this.receivingContext = receivingContext;\n                this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = (pev) => {\n            let { receivingContext, droppableEvent } = this;\n            this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                let finalHit = this.hitDragging.finalHit;\n                let finalView = finalHit.context.viewApi;\n                let dragMeta = this.dragMeta;\n                receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    let addingEvents = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventImpl(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert() {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            this.receivingContext = null;\n            this.droppableEvent = null;\n        };\n        let hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    buildDragMeta(subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    }\n    displayDrag(nextContext, state) {\n        let prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    canDropElOnCalendar(el, receivingContext) {\n        let dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    }\n}\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    let defProps = Object.assign({}, dragMeta.leftoverProps);\n    for (let transform of context.pluginHooks.externalDefTransforms) {\n        Object.assign(defProps, transform(dateSpan, dragMeta));\n    }\n    let { refined, extra } = refineEventDef(defProps, context);\n    let def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    let start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    let end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    let instance = createEventInstance(def.defId, { start, end });\n    return { def, instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    let str = getEmbeddedElData(el, 'event');\n    let obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    let prefix = config.dataAttrPrefix;\n    let prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nclass ExternalDraggable {\n    constructor(el, settings = {}) {\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            let { minDistance, longPressDelay } = this.settings;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = (ev) => {\n            if (ev.isTouch &&\n                this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nclass InferredElementDragging extends ElementDragging {\n    constructor(containerEl) {\n        super(containerEl);\n        this.shouldIgnoreMove = false;\n        this.mirrorSelector = '';\n        this.currentMirrorEl = null;\n        this.handlePointerDown = (ev) => {\n            this.emitter.trigger('pointerdown', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                this.emitter.trigger('dragstart', ev);\n            }\n        };\n        this.handlePointerMove = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                this.emitter.trigger('dragmove', ev);\n            }\n        };\n        this.handlePointerUp = (ev) => {\n            this.emitter.trigger('pointerup', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                this.emitter.trigger('dragend', ev);\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.handlePointerDown);\n        pointer.emitter.on('pointermove', this.handlePointerMove);\n        pointer.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.pointer.destroy();\n    }\n    setIgnoreMove(bool) {\n        this.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            let mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    }\n}\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nclass ThirdPartyDraggable {\n    constructor(containerOrSettings, settings) {\n        let containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        let dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\nvar index = createPlugin({\n    name: '@fullcalendar/interaction',\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport { ExternalDraggable as Draggable, ThirdPartyDraggable, index as default };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { ListView } from './internal.js';\nimport { identity, createFormatter, injectStyles } from '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\n\nconst OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar css_248z = \"\\n:root {\\n  --fc-list-event-dot-width: 10px;\\n  --fc-list-event-hover-bg-color: #f5f5f5;\\n}\\n\\n.fc-theme-standard .fc-list {\\n    border: 1px solid var(--fc-border-color);\\n  }\\n\\n.fc {\\n\\n  /* message when no events */\\n\\n}\\n\\n.fc .fc-list-empty {\\n    background-color: var(--fc-neutral-bg-color);\\n    height: 100%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center; /* vertically aligns fc-list-empty-inner */\\n  }\\n\\n.fc .fc-list-empty-cushion {\\n    margin: 5em 0;\\n  }\\n.fc {\\n\\n  /* table within the scroller */\\n  /* ---------------------------------------------------------------------------------------------------- */\\n\\n}\\n.fc .fc-list-table {\\n    width: 100%;\\n    border-style: hidden; /* kill outer border on theme */\\n  }\\n.fc .fc-list-table tr > * {\\n    border-left: 0;\\n    border-right: 0;\\n  }\\n.fc .fc-list-sticky .fc-list-day > * { /* the cells */\\n      position: sticky;\\n      top: 0;\\n      background: var(--fc-page-bg-color); /* for when headers are styled to be transparent and sticky */\\n    }\\n.fc {\\n\\n  /* only exists for aria reasons, hide for non-screen-readers */\\n\\n}\\n.fc .fc-list-table thead {\\n    position: absolute;\\n    left: -10000px;\\n  }\\n.fc {\\n\\n  /* the table's border-style:hidden gets confused by hidden thead. force-hide top border of first cell */\\n\\n}\\n.fc .fc-list-table tbody > tr:first-child th {\\n    border-top: 0;\\n  }\\n.fc .fc-list-table th {\\n    padding: 0; /* uses an inner-wrapper instead... */\\n  }\\n.fc .fc-list-table td,\\n  .fc .fc-list-day-cushion {\\n    padding: 8px 14px;\\n  }\\n.fc {\\n\\n\\n  /* date heading rows */\\n  /* ---------------------------------------------------------------------------------------------------- */\\n\\n}\\n.fc .fc-list-day-cushion:after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; /* clear floating */\\n    }\\n.fc-theme-standard .fc-list-day-cushion {\\n    background-color: var(--fc-neutral-bg-color);\\n  }\\n.fc-direction-ltr .fc-list-day-text,\\n.fc-direction-rtl .fc-list-day-side-text {\\n  float: left;\\n}\\n.fc-direction-ltr .fc-list-day-side-text,\\n.fc-direction-rtl .fc-list-day-text {\\n  float: right;\\n}\\n/* make the dot closer to the event title */\\n.fc-direction-ltr .fc-list-table .fc-list-event-graphic { padding-right: 0 }\\n.fc-direction-rtl .fc-list-table .fc-list-event-graphic { padding-left: 0 }\\n.fc .fc-list-event.fc-event-forced-url {\\n    cursor: pointer; /* whole row will seem clickable */\\n  }\\n.fc .fc-list-event:hover td {\\n    background-color: var(--fc-list-event-hover-bg-color);\\n  }\\n.fc {\\n\\n  /* shrink certain cols */\\n\\n}\\n.fc .fc-list-event-graphic,\\n  .fc .fc-list-event-time {\\n    white-space: nowrap;\\n    width: 1px;\\n  }\\n.fc .fc-list-event-dot {\\n    display: inline-block;\\n    box-sizing: content-box;\\n    width: 0;\\n    height: 0;\\n    border: calc(var(--fc-list-event-dot-width) / 2) solid var(--fc-event-border-color);\\n    border-radius: calc(var(--fc-list-event-dot-width) / 2);\\n  }\\n.fc {\\n\\n  /* reset <a> styling */\\n\\n}\\n.fc .fc-list-event-title a {\\n    color: inherit;\\n    text-decoration: none;\\n  }\\n.fc {\\n\\n  /* underline link when hovering over any part of row */\\n\\n}\\n.fc .fc-list-event.fc-event-forced-url:hover a {\\n    text-decoration: underline;\\n  }\\n\";\ninjectStyles(css_248z);\n\nvar index = createPlugin({\n    name: '@fullcalendar/list',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport { index as default };\n","import { BaseComponent, getUniqueDomId, getDateMeta, buildNavLinkAttrs, ContentContainer, getDayClassNames, formatDayString, createFormatter, EventContainer, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, DateComponent, memoize, ViewContainer, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, startOfDay, addDays } from '@fullcalendar/core/internal.js';\nimport { createElement, Fragment } from '@fullcalendar/core/preact.js';\n\nclass ListViewHeaderRow extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            textId: getUniqueDomId(),\n        };\n    }\n    render() {\n        let { theme, dateEnv, options, viewApi } = this.context;\n        let { cellId, dayDate, todayRange } = this.props;\n        let { textId } = this.state;\n        let dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        let text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        let sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        let renderProps = Object.assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId,\n            text,\n            sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(ContentContainer, { elTag: \"tr\", elClasses: [\n                'fc-list-day',\n                ...getDayClassNames(dayMeta, theme),\n            ], elAttrs: {\n                'data-date': formatDayString(dayDate),\n            }, renderProps: renderProps, generatorName: \"dayHeaderContent\", generator: options.dayHeaderContent || renderInnerContent, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => ( // TODO: force-hide top border based on :first-child\n        createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-list-day-cushion',\n                    theme.getClass('tableCellShaded'),\n                ] })))));\n    }\n}\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", Object.assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", Object.assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nclass ListViewEventRow extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg, timeHeaderId, eventHeaderId, dateHeaderId } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"tr\", elClasses: [\n                'fc-list-event',\n                seg.eventRange.def.url && 'fc-event-forced-url',\n            ], defaultGenerator: () => renderEventInnerContent(seg, context) /* weird */, seg: seg, timeText: \"\", disableDragging: true, disableResizing: true }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: {\n                        borderColor: eventContentArg.borderColor || eventContentArg.backgroundColor,\n                    } })),\n            createElement(InnerContent, { elTag: \"td\", elClasses: ['fc-list-event-title'], elAttrs: { headers: `${eventHeaderId} ${dateHeaderId}` } })))));\n    }\n}\nfunction renderEventInnerContent(seg, context) {\n    let interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", Object.assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    let { options } = context;\n    if (options.displayEventTime !== false) {\n        let eventDef = seg.eventRange.def;\n        let eventInstance = seg.eventRange.instance;\n        let doAllDay = false;\n        let timeText;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            let renderProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(ContentContainer, { elTag: \"td\", elClasses: ['fc-list-event-time'], elAttrs: {\n                    headers: `${timeHeaderId} ${dateHeaderId}`,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", generator: options.allDayContent || renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nclass ListView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.computeDateVars = memoize(computeDateVars);\n        this.eventStoreToSegs = memoize(this._eventStoreToSegs);\n        this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        this.setRootEl = (rootEl) => {\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { props, context } = this;\n        let { dayDates, dayRanges } = this.computeDateVars(props.dateProfile);\n        let eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewContainer, { elRef: this.setRootEl, elClasses: [\n                'fc-list',\n                context.theme.getClass('table'),\n                context.options.stickyHeaderDates !== false ?\n                    'fc-list-sticky' :\n                    '',\n            ], viewSpec: context.viewSpec },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                this.renderSegList(eventSegs, dayDates) :\n                this.renderEmptyMessage())));\n    }\n    renderEmptyMessage() {\n        let { options, viewApi } = this.context;\n        let renderProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(ContentContainer, { elTag: \"div\", elClasses: ['fc-list-empty'], renderProps: renderProps, generatorName: \"noEventsContent\", generator: options.noEventsContent || renderNoEventsInner, classNameGenerator: options.noEventsClassNames, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-list-empty-cushion'] }))));\n    }\n    renderSegList(allSegs, dayDates) {\n        let { theme, options } = this.context;\n        let { timeHeaderId, eventHeaderId, dateHeaderIdRoot } = this.state;\n        let segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => {\n            let innerNodes = [];\n            for (let dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                let daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    let dayStr = formatDayString(dayDates[dayIndex]);\n                    let dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (let seg of daySegs) {\n                        innerNodes.push(createElement(ListViewEventRow, Object.assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    }\n    _eventStoreToSegs(eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    }\n    eventRangesToSegs(eventRanges, dayRanges) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    }\n    eventRangeToSegs(eventRange, dayRanges) {\n        let { dateEnv } = this.context;\n        let { nextDayThreshold } = this.context.options;\n        let range = eventRange.range;\n        let allDay = eventRange.def.allDay;\n        let dayIndex;\n        let segRange;\n        let seg;\n        let segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    }\n}\nfunction renderNoEventsInner(renderProps) {\n    return renderProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    let dayStart = startOfDay(dateProfile.renderRange.start);\n    let viewEnd = dateProfile.renderRange.end;\n    let dayDates = [];\n    let dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates, dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    let segsByDay = []; // sparse array\n    let i;\n    let seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nexport { ListView };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayTimeColsView } from './internal.js';\nimport { injectStyles } from '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\nimport '@fullcalendar/daygrid/internal.js';\n\nconst OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar css_248z = \"\\n/*\\nA VERTICAL event\\n*/\\n\\n.fc-v-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid var(--fc-event-border-color);\\n  background-color: var(--fc-event-bg-color)\\n\\n}\\n\\n.fc-v-event .fc-event-main {\\n    color: var(--fc-event-text-color);\\n    height: 100%;\\n  }\\n\\n.fc-v-event .fc-event-main-frame {\\n    height: 100%;\\n    display: flex;\\n    flex-direction: column;\\n  }\\n\\n.fc-v-event .fc-event-time {\\n    flex-grow: 0;\\n    flex-shrink: 0;\\n    max-height: 100%;\\n    overflow: hidden;\\n  }\\n\\n.fc-v-event .fc-event-title-container { /* a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-height: 0; /* important for allowing to shrink all the way */\\n  }\\n\\n.fc-v-event .fc-event-title { /* will have fc-sticky on it */\\n    top: 0;\\n    bottom: 0;\\n    max-height: 100%; /* clip overflow */\\n    overflow: hidden;\\n  }\\n\\n.fc-v-event:not(.fc-event-start) {\\n    border-top-width: 0;\\n    border-top-left-radius: 0;\\n    border-top-right-radius: 0;\\n  }\\n\\n.fc-v-event:not(.fc-event-end) {\\n    border-bottom-width: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-v-event.fc-event-selected:before {\\n    /* expand hit area */\\n    left: -10px;\\n    right: -10px;\\n  }\\n\\n.fc-v-event {\\n\\n  /* resizer (mouse AND touch) */\\n\\n}\\n\\n.fc-v-event .fc-event-resizer-start {\\n    cursor: n-resize;\\n  }\\n\\n.fc-v-event .fc-event-resizer-end {\\n    cursor: s-resize;\\n  }\\n\\n.fc-v-event {\\n\\n  /* resizer for MOUSE */\\n\\n}\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer {\\n      height: var(--fc-event-resizer-thickness);\\n      left: 0;\\n      right: 0;\\n    }\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start {\\n      top: calc(var(--fc-event-resizer-thickness) / -2);\\n    }\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end {\\n      bottom: calc(var(--fc-event-resizer-thickness) / -2);\\n    }\\n\\n.fc-v-event {\\n\\n  /* resizer for TOUCH (when event is \\\"selected\\\") */\\n\\n}\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer {\\n      left: 50%;\\n      margin-left: calc(var(--fc-event-resizer-dot-total-width) / -2);\\n    }\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer-start {\\n      top: calc(var(--fc-event-resizer-dot-total-width) / -2);\\n    }\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer-end {\\n      bottom: calc(var(--fc-event-resizer-dot-total-width) / -2);\\n    }\\n.fc .fc-timegrid .fc-daygrid-body { /* the all-day daygrid within the timegrid view */\\n    z-index: 2; /* put above the timegrid-body so that more-popover is above everything. TODO: better solution */\\n  }\\n.fc .fc-timegrid-divider {\\n    padding: 0 0 2px; /* browsers get confused when you set height. use padding instead */\\n  }\\n.fc .fc-timegrid-body {\\n    position: relative;\\n    z-index: 1; /* scope the z-indexes of slots and cols */\\n    min-height: 100%; /* fill height always, even when slat table doesn't grow */\\n  }\\n.fc .fc-timegrid-axis-chunk { /* for advanced ScrollGrid */\\n    position: relative /* offset parent for now-indicator-container */\\n\\n  }\\n.fc .fc-timegrid-axis-chunk > table {\\n      position: relative;\\n      z-index: 1; /* above the now-indicator-container */\\n    }\\n.fc .fc-timegrid-slots {\\n    position: relative;\\n    z-index: 1;\\n  }\\n.fc .fc-timegrid-slot { /* a <td> */\\n    height: 1.5em;\\n    border-bottom: 0 /* each cell owns its top border */\\n  }\\n.fc .fc-timegrid-slot:empty:before {\\n      content: '\\\\00a0'; /* make sure there's at least an empty space to create height for height syncing */\\n    }\\n.fc .fc-timegrid-slot-minor {\\n    border-top-style: dotted;\\n  }\\n.fc .fc-timegrid-slot-label-cushion {\\n    display: inline-block;\\n    white-space: nowrap;\\n  }\\n.fc .fc-timegrid-slot-label {\\n    vertical-align: middle; /* vertical align the slots */\\n  }\\n.fc {\\n\\n\\n  /* slots AND axis cells (top-left corner of view including the \\\"all-day\\\" text) */\\n\\n}\\n.fc .fc-timegrid-axis-cushion,\\n  .fc .fc-timegrid-slot-label-cushion {\\n    padding: 0 4px;\\n  }\\n.fc {\\n\\n\\n  /* axis cells (top-left corner of view including the \\\"all-day\\\" text) */\\n  /* vertical align is more complicated, uses flexbox */\\n\\n}\\n.fc .fc-timegrid-axis-frame-liquid {\\n    height: 100%; /* will need liquid-hack in FF */\\n  }\\n.fc .fc-timegrid-axis-frame {\\n    overflow: hidden;\\n    display: flex;\\n    align-items: center; /* vertical align */\\n    justify-content: flex-end; /* horizontal align. matches text-align below */\\n  }\\n.fc .fc-timegrid-axis-cushion {\\n    max-width: 60px; /* limits the width of the \\\"all-day\\\" text */\\n    flex-shrink: 0; /* allows text to expand how it normally would, regardless of constrained width */\\n  }\\n.fc-direction-ltr .fc-timegrid-slot-label-frame {\\n    text-align: right;\\n  }\\n.fc-direction-rtl .fc-timegrid-slot-label-frame {\\n    text-align: left;\\n  }\\n.fc-liquid-hack .fc-timegrid-axis-frame-liquid {\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  }\\n.fc .fc-timegrid-col.fc-day-today {\\n      background-color: var(--fc-today-bg-color);\\n    }\\n.fc .fc-timegrid-col-frame {\\n    min-height: 100%; /* liquid-hack is below */\\n    position: relative;\\n  }\\n.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame {\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n    }\\n.fc-media-screen .fc-timegrid-cols {\\n    position: absolute; /* no z-index. children will decide and go above slots */\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0\\n  }\\n.fc-media-screen .fc-timegrid-cols > table {\\n      height: 100%;\\n    }\\n.fc-media-screen .fc-timegrid-col-bg,\\n  .fc-media-screen .fc-timegrid-col-events,\\n  .fc-media-screen .fc-timegrid-now-indicator-container {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n  }\\n.fc {\\n\\n  /* bg */\\n\\n}\\n.fc .fc-timegrid-col-bg {\\n    z-index: 2; /* TODO: kill */\\n  }\\n.fc .fc-timegrid-col-bg .fc-non-business { z-index: 1 }\\n.fc .fc-timegrid-col-bg .fc-bg-event { z-index: 2 }\\n.fc .fc-timegrid-col-bg .fc-highlight { z-index: 3 }\\n.fc .fc-timegrid-bg-harness {\\n    position: absolute; /* top/bottom will be set by JS */\\n    left: 0;\\n    right: 0;\\n  }\\n.fc {\\n\\n  /* fg events */\\n  /* (the mirror segs are put into a separate container with same classname, */\\n  /* and they must be after the normal seg container to appear at a higher z-index) */\\n\\n}\\n.fc .fc-timegrid-col-events {\\n    z-index: 3;\\n    /* child event segs have z-indexes that are scoped within this div */\\n  }\\n.fc {\\n\\n  /* now indicator */\\n\\n}\\n.fc .fc-timegrid-now-indicator-container {\\n    bottom: 0;\\n    overflow: hidden; /* don't let overflow of lines/arrows cause unnecessary scrolling */\\n    /* z-index is set on the individual elements */\\n  }\\n.fc-direction-ltr .fc-timegrid-col-events {\\n    margin: 0 2.5% 0 2px;\\n  }\\n.fc-direction-rtl .fc-timegrid-col-events {\\n    margin: 0 2px 0 2.5%;\\n  }\\n.fc-timegrid-event-harness {\\n  position: absolute /* top/left/right/bottom will all be set by JS */\\n}\\n.fc-timegrid-event-harness > .fc-timegrid-event {\\n    position: absolute; /* absolute WITHIN the harness */\\n    top: 0; /* for when not yet positioned */\\n    bottom: 0; /* \\\" */\\n    left: 0;\\n    right: 0;\\n  }\\n.fc-timegrid-event-harness-inset .fc-timegrid-event,\\n.fc-timegrid-event.fc-event-mirror,\\n.fc-timegrid-more-link {\\n  box-shadow: 0px 0px 0px 1px var(--fc-page-bg-color);\\n}\\n.fc-timegrid-event,\\n.fc-timegrid-more-link { /* events need to be root */\\n  font-size: var(--fc-small-font-size);\\n  border-radius: 3px;\\n}\\n.fc-timegrid-event { /* events need to be root */\\n  margin-bottom: 1px /* give some space from bottom */\\n}\\n.fc-timegrid-event .fc-event-main {\\n    padding: 1px 1px 0;\\n  }\\n.fc-timegrid-event .fc-event-time {\\n    white-space: nowrap;\\n    font-size: var(--fc-small-font-size);\\n    margin-bottom: 1px;\\n  }\\n.fc-timegrid-event-short .fc-event-main-frame {\\n    flex-direction: row;\\n    overflow: hidden;\\n  }\\n.fc-timegrid-event-short .fc-event-time:after {\\n    content: '\\\\00a0-\\\\00a0'; /* dash surrounded by non-breaking spaces */\\n  }\\n.fc-timegrid-event-short .fc-event-title {\\n    font-size: var(--fc-small-font-size)\\n  }\\n.fc-timegrid-more-link { /* does NOT inherit from fc-timegrid-event */\\n  position: absolute;\\n  z-index: 9999; /* hack */\\n  color: var(--fc-more-link-text-color);\\n  background: var(--fc-more-link-bg-color);\\n  cursor: pointer;\\n  margin-bottom: 1px; /* match space below fc-timegrid-event */\\n}\\n.fc-timegrid-more-link-inner { /* has fc-sticky */\\n  padding: 3px 2px;\\n  top: 0;\\n}\\n.fc-direction-ltr .fc-timegrid-more-link {\\n    right: 0;\\n  }\\n.fc-direction-rtl .fc-timegrid-more-link {\\n    left: 0;\\n  }\\n.fc {\\n\\n  /* line */\\n\\n}\\n.fc .fc-timegrid-now-indicator-line {\\n    position: absolute;\\n    z-index: 4;\\n    left: 0;\\n    right: 0;\\n    border-style: solid;\\n    border-color: var(--fc-now-indicator-color);\\n    border-width: 1px 0 0;\\n  }\\n.fc {\\n\\n  /* arrow */\\n\\n}\\n.fc .fc-timegrid-now-indicator-arrow {\\n    position: absolute;\\n    z-index: 4;\\n    margin-top: -5px; /* vertically center on top coordinate */\\n    border-style: solid;\\n    border-color: var(--fc-now-indicator-color);\\n  }\\n.fc-direction-ltr .fc-timegrid-now-indicator-arrow {\\n    left: 0;\\n\\n    /* triangle pointing right. TODO: mixin */\\n    border-width: 5px 0 5px 6px;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n  }\\n.fc-direction-rtl .fc-timegrid-now-indicator-arrow {\\n    right: 0;\\n\\n    /* triangle pointing left. TODO: mixin */\\n    border-width: 5px 6px 5px 0;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n  }\\n\";\ninjectStyles(css_248z);\n\nvar index = createPlugin({\n    name: '@fullcalendar/timegrid',\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { Splitter, hasBgRendering, createFormatter, ViewContextType, ContentContainer, BaseComponent, DateComponent, diffDays, buildNavLinkAttrs, WeekNumberContainer, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorContainer, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkContainer, SegHierarchy, groupIntersectingEntries, binarySearch, getEntrySpanEnd, buildEntryKey, StandardEvent, memoize, sortEventSegs, DayCellContainer, hasCustomDayCellContent, getSegMeta, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, Slicer, intersectRanges, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel } from '@fullcalendar/core/internal.js';\nimport { createElement, createRef, Fragment } from '@fullcalendar/core/preact.js';\nimport { DayTable } from '@fullcalendar/daygrid/internal.js';\n\nclass AllDaySplitter extends Splitter {\n    getKeyInfo() {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    }\n    getKeysForDateSpan(dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    }\n    getKeysForEventDef(eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    }\n}\n\nconst DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    let classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, (context) => {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        let { dateEnv, options, viewApi } = context;\n        let labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        let renderProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(ContentContainer, { elTag: \"td\", elClasses: classNames, elAttrs: {\n                'data-time': props.isoTimeStr,\n            }, renderProps: renderProps, generatorName: \"slotLabelContent\", generator: options.slotLabelContent || renderInnerContent, classNameGenerator: options.slotLabelClassNames, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-timegrid-slot-label-cushion',\n                    'fc-scrollgrid-shrink-cushion',\n                ] })))));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nclass TimeBodyAxis extends BaseComponent {\n    render() {\n        return this.props.slatMetas.map((slatMeta) => (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, Object.assign({}, slatMeta)))));\n    }\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nconst AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nclass TimeColsView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        this.headerElRef = createRef();\n        this.rootElRef = createRef();\n        this.scrollerElRef = createRef();\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleScrollTopRequest = (scrollTop) => {\n            let scrollerEl = this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        this.renderHeadAxis = (rowKey, frameHeight = '') => {\n            let { options } = this.context;\n            let { dateProfile } = this.props;\n            let range = dateProfile.renderRange;\n            let dayCnt = diffDays(range.start, range.end);\n            // only do in day views (to avoid doing in week views that dont need it)\n            let navLinkAttrs = (dayCnt === 1)\n                ? buildNavLinkAttrs(this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberContainer, { elTag: \"th\", elClasses: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ], elAttrs: {\n                        'aria-hidden': true,\n                    }, date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (InnerContent) => (createElement(\"div\", { className: [\n                        'fc-timegrid-axis-frame',\n                        'fc-scrollgrid-shrink-frame',\n                        'fc-timegrid-axis-frame-liquid',\n                    ].join(' '), style: { height: frameHeight } },\n                    createElement(InnerContent, { elTag: \"a\", elClasses: [\n                            'fc-timegrid-axis-cushion',\n                            'fc-scrollgrid-shrink-cushion',\n                            'fc-scrollgrid-sync-inner',\n                        ], elAttrs: navLinkAttrs })))));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        this.renderTableRowAxis = (rowHeight) => {\n            let { options, viewApi } = this.context;\n            let renderProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ], elAttrs: {\n                    'aria-hidden': true,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", generator: options.allDayContent || renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, (InnerContent) => (createElement(\"div\", { className: [\n                    'fc-timegrid-axis-frame',\n                    'fc-scrollgrid-shrink-frame',\n                    rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : '',\n                ].join(' '), style: { height: rowHeight } },\n                createElement(InnerContent, { elTag: \"span\", elClasses: [\n                        'fc-timegrid-axis-cushion',\n                        'fc-scrollgrid-shrink-cushion',\n                        'fc-scrollgrid-sync-inner',\n                    ] })))));\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n        };\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    renderSimpleLayout(headerRowContent, allDayContent, timeContent) {\n        let { context, props } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { context, props } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (arg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderHeadAxis('day', arg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (contentArg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderTableRowAxis(contentArg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        let isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: (arg) => (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, (nowDate) => {\n                                let nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: nowDate }));\n                                }\n                                return null;\n                            })))),\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections })));\n    }\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    getAllDayMaxEventProps() {\n        let { dayMaxEvents, dayMaxEventRows } = this.context.options;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents, dayMaxEventRows };\n    }\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\nclass TimeColsSlatsCoords {\n    constructor(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    safeComputeTop(date) {\n        let { dateProfile } = this;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            let startOfDayDate = startOfDay(date);\n            let timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    computeDateTop(when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    computeTimeTop(duration) {\n        let { positions, dateProfile } = this;\n        let len = positions.els.length;\n        // floating-point value of # of slots covered\n        let slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        let slatIndex;\n        let slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    }\n}\n\nclass TimeColsSlatsBody extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { slatElRefs } = props;\n        return (createElement(\"tbody\", null, props.slatMetas.map((slatMeta, i) => {\n            let renderProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, Object.assign({}, slatMeta))),\n                createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                        'fc-timegrid-slot',\n                        'fc-timegrid-slot-lane',\n                        !slatMeta.isLabeled && 'fc-timegrid-slot-minor',\n                    ], elAttrs: {\n                        'data-time': slatMeta.isoTimeStr,\n                    }, renderProps: renderProps, generatorName: \"slotLaneContent\", generator: options.slotLaneContent, classNameGenerator: options.slotLaneClassNames, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount })));\n        })));\n    }\n}\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nclass TimeColsSlats extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.slatElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    }\n    componentDidMount() {\n        this.updateSizing();\n    }\n    componentDidUpdate() {\n        this.updateSizing();\n    }\n    componentWillUnmount() {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    }\n    updateSizing() {\n        let { context, props } = this;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            let rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    }\n}\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map((slatMeta) => elMap[slatMeta.key]);\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    let segsByCol = [];\n    let i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nclass TimeColMoreLink extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-timegrid-more-link'], elStyle: {\n                top: props.top,\n                bottom: props.bottom,\n            }, allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: () => renderPlainFgSegs(props.hiddenSegs, props), defaultGenerator: renderMoreLinkInner }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-more-link-inner', 'fc-sticky'] }))));\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    let hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    let web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    let segRects = webToRects(web);\n    return { segRects, hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    const { entriesByLevel } = hierarchy;\n    const buildNode = cacheable((level, lateral) => level + ':' + lateral, (level, lateral) => {\n        let siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        let nextLevelRes = buildNodes(siblingRange, buildNode);\n        let entry = entriesByLevel[level][lateral];\n        return [\n            Object.assign(Object.assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    let { level, lateralStart, lateralEnd } = siblingRange;\n    let lateral = lateralStart;\n    let pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    let { levelCoords, entriesByLevel } = hierarchy;\n    let subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    let afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    let levelCnt = levelCoords.length;\n    let level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        let entries = entriesByLevel[level];\n        let entry;\n        let searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        let lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        let lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level, lateralStart, lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    const stretchNode = cacheable((node, startCoord, prevThickness) => buildEntryKey(node), (node, startCoord, prevThickness) => {\n        let { nextLevelNodes, thickness } = node;\n        let allThickness = thickness + prevThickness;\n        let thicknessFraction = thickness / allThickness;\n        let endCoord;\n        let newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (let childNode of nextLevelNodes) {\n                if (endCoord === undefined) {\n                    let res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    let res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        let newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, Object.assign(Object.assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map((node) => stretchNode(node, 0, 0)[1]);\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    let rects = [];\n    const processNode = cacheable((node, levelCoord, stackDepth) => buildEntryKey(node), (node, levelCoord, stackDepth) => {\n        let rect = Object.assign(Object.assign({}, node), { levelCoord,\n            stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        let stackForward = 0;\n        for (let node of nodes) {\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    const cache = {};\n    return (...args) => {\n        let key = keyFunc(...args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc(...args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords = null, eventMinHeight = 0) {\n    let vcoords = [];\n    if (slatCoords) {\n        for (let i = 0; i < segs.length; i += 1) {\n            let seg = segs[i];\n            let spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            let spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    let segInputs = [];\n    let dumbSegs = []; // segs without coords\n    for (let i = 0; i < segs.length; i += 1) {\n        let vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    let { segRects, hiddenGroups } = buildPositioning(segInputs, eventOrderStrict, eventMaxStack);\n    let segPlacements = [];\n    for (let segRect of segRects) {\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (let dumbSeg of dumbSegs) {\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements, hiddenGroups };\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nclass TimeColEvent extends BaseComponent {\n    render() {\n        return (createElement(StandardEvent, Object.assign({}, this.props, { elClasses: [\n                'fc-timegrid-event',\n                'fc-v-event',\n                this.props.isShort && 'fc-timegrid-event-short',\n            ], defaultTimeFormat: DEFAULT_TIME_FORMAT })));\n    }\n}\n\nclass TimeCol extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.sortEventSegs = memoize(sortEventSegs);\n    }\n    // TODO: memoize event-placement?\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let isSelectMirror = options.selectMirror;\n        let mirrorSegs = // yuck\n         (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        let interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        let sortedFgSegs = this.sortEventSegs(props.fgEventSegs, options.eventOrder);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: props.elRef, elClasses: [\n                'fc-timegrid-col',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'gridcell' }, props.extraDataAttrs), date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraRenderProps: props.extraRenderProps }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n            createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n            createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, this.renderNowIndicator(props.nowIndicatorSegs)),\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-col-misc'] }))))));\n    }\n    renderFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        let { props } = this;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    }\n    renderPositionedFgSegs(segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        let { eventMaxStack, eventShortHeight, eventOrderStrict, eventMinHeight } = this.context.options;\n        let { date, slatCoords, eventSelection, todayRange, nowDate } = this.props;\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        let { segPlacements, hiddenGroups } = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack);\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map((segPlacement) => {\n                let { seg, rect } = segPlacement;\n                let instanceId = seg.eventRange.instance.instanceId;\n                let isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                let vStyle = computeSegVStyle(rect && rect.span);\n                let hStyle = (!isMirror && rect) ? this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                let isInset = Boolean(rect) && rect.stackForward > 0;\n                let isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: Object.assign(Object.assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    }\n    // will already have eventMinHeight applied because segInputs already had it\n    renderHiddenGroups(hiddenGroups, segs) {\n        let { extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize } = this.props;\n        return (createElement(Fragment, null, hiddenGroups.map((hiddenGroup) => {\n            let positionCss = computeSegVStyle(hiddenGroup.span);\n            let hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    }\n    renderFillSegs(segs, fillType) {\n        let { props, context } = this;\n        let segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        let children = segVCoords.map((vcoords, i) => {\n            let seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    }\n    renderNowIndicator(segs) {\n        let { slatCoords, date } = this.props;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map((seg, i) => (createElement(NowIndicatorContainer\n        // key doesn't matter. will only ever be one\n        , { \n            // key doesn't matter. will only ever be one\n            key: i, elClasses: ['fc-timegrid-now-indicator-line'], elStyle: {\n                top: slatCoords.computeDateTop(seg.start, date),\n            }, isAxis: false, date: date })));\n    }\n    computeSegHStyle(segHCoords) {\n        let { isRtl, options } = this.context;\n        let shouldOverlap = options.slotEventOverlap;\n        let nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        let farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        let left; // amount of space from left edge, a fraction of the total width\n        let right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        let props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    }\n}\nfunction renderPlainFgSegs(sortedFgSegs, { todayRange, nowDate, eventSelection, eventDrag, eventResize }) {\n    let hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map((seg) => {\n        let instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map((segEntry) => allSegs[segEntry.index]);\n}\n\nclass TimeColsContent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.splitFgEventSegs = memoize(splitSegsByCol);\n        this.splitBgEventSegs = memoize(splitSegsByCol);\n        this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        this.splitEventDrag = memoize(splitInteractionByCol);\n        this.splitEventResize = memoize(splitInteractionByCol);\n        this.rootElRef = createRef();\n        this.cellElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        let colCnt = props.cells.length;\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        let nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: props.nowDate })))))),\n                        props.cells.map((cell, i) => (createElement(TimeCol, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint }))))))));\n    }\n    componentDidMount() {\n        this.updateCoords();\n    }\n    componentDidUpdate() {\n        this.updateCoords();\n    }\n    updateCoords() {\n        let { props } = this;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    }\n}\nfunction collectCellEls(elMap, cells) {\n    return cells.map((cell) => elMap[cell.key]);\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nclass TimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.processSlotOptions = memoize(processSlotOptions);\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleRootEl = (el) => {\n            if (el) {\n                this.context.registerInteractiveComponent(this, {\n                    el,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n        this.handleScrollRequest = (request) => {\n            let { onScrollTopRequest } = this.props;\n            let { slatCoords } = this.state;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    let top = slatCoords.computeTimeTop(request.time);\n                    top = Math.ceil(top); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top) {\n                        top += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top);\n                }\n                return true;\n            }\n            return false;\n        };\n        this.handleColCoords = (colCoords) => {\n            this.colCoords = colCoords;\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n            if (this.props.onSlatCoords) {\n                this.props.onSlatCoords(slatCoords);\n            }\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    }\n    componentDidMount() {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    }\n    componentDidUpdate(prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    }\n    componentWillUnmount() {\n        this.scrollResponder.detach();\n    }\n    queryHit(positionLeft, positionTop) {\n        let { dateEnv, options } = this.context;\n        let { colCoords } = this;\n        let { dateProfile } = this.props;\n        let { slatCoords } = this.state;\n        let { snapDuration, snapsPerSlot } = this.processSlotOptions(this.props.slotDuration, options.snapDuration);\n        let colIndex = colCoords.leftToIndex(positionLeft);\n        let slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            let cell = this.props.cells[colIndex];\n            let slatTop = slatCoords.positions.tops[slatIndex];\n            let slatHeight = slatCoords.positions.getHeight(slatIndex);\n            let partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            let localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            let snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            let dayDate = this.props.cells[colIndex].date;\n            let time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            let start = dateEnv.add(dayDate, time);\n            let end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile,\n                dateSpan: Object.assign({ range: { start, end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n}\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    let snapDuration = snapDurationOverride || slotDuration;\n    let snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration, snapsPerSlot };\n}\n\nclass DayTimeColsSlicer extends Slicer {\n    sliceRange(range, dayRanges) {\n        let segs = [];\n        for (let col = 0; col < dayRanges.length; col += 1) {\n            let segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col,\n                });\n            }\n        }\n        return segs;\n    }\n}\n\nclass DayTimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.buildDayRanges = memoize(buildDayRanges);\n        this.slicer = new DayTimeColsSlicer();\n        this.timeColsRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        let { dateProfile, dayTableModel } = props;\n        let isNowIndicator = context.options.nowIndicator;\n        let dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, (nowDate, todayRange) => (createElement(TimeCols, Object.assign({ ref: this.timeColsRef }, this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords })))));\n    }\n}\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    let ranges = [];\n    for (let date of dayTableModel.headerDates) {\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nconst STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    let dayStart = new Date(0);\n    let slatTime = slotMinTime;\n    let slatIterator = createDuration(0);\n    let labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    let metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        let date = dateEnv.add(dayStart, slatTime);\n        let isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    let i;\n    let labelInterval;\n    let slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nclass DayTimeColsView extends TimeColsView {\n    constructor() {\n        super(...arguments);\n        this.buildTimeColsModel = memoize(buildTimeColsModel);\n        this.buildSlatMetas = memoize(buildSlatMetas);\n    }\n    render() {\n        let { options, dateEnv, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let { dateProfile } = props;\n        let dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        let splitProps = this.allDaySplitter.splitProps(props);\n        let slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        let { dayMinWidth } = options;\n        let hasAttachedAxis = !dayMinWidth;\n        let hasDetachedAxis = dayMinWidth;\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        let allDayContent = (options.allDaySlot !== false) && ((contentArg) => (createElement(DayTable, Object.assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, this.getAllDayMaxEventProps()))));\n        let timeGridContent = (contentArg) => (createElement(DayTimeCols, Object.assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: this.handleScrollTopRequest })));\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    }\n}\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Directive, Input, Output, HostListener, Injectable, PLATFORM_ID, Component, ViewEncapsulation, Inject, ViewChild, Injector, NgModule } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { isPlatformBrowser, DOCUMENT, CommonModule } from '@angular/common';\n\nvar ColorFormats;\n(function (ColorFormats) {\n    ColorFormats[ColorFormats[\"HEX\"] = 0] = \"HEX\";\n    ColorFormats[ColorFormats[\"RGBA\"] = 1] = \"RGBA\";\n    ColorFormats[ColorFormats[\"HSLA\"] = 2] = \"HSLA\";\n    ColorFormats[ColorFormats[\"CMYK\"] = 3] = \"CMYK\";\n})(ColorFormats || (ColorFormats = {}));\nclass Rgba {\n    constructor(r, g, b, a) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n}\nclass Hsva {\n    constructor(h, s, v, a) {\n        this.h = h;\n        this.s = s;\n        this.v = v;\n        this.a = a;\n    }\n}\nclass Hsla {\n    constructor(h, s, l, a) {\n        this.h = h;\n        this.s = s;\n        this.l = l;\n        this.a = a;\n    }\n}\nclass Cmyk {\n    constructor(c, m, y, k, a = 1) {\n        this.c = c;\n        this.m = m;\n        this.y = y;\n        this.k = k;\n        this.a = a;\n    }\n}\n\nfunction calculateAutoPositioning(elBounds, triggerElBounds) {\n    // Defaults\n    let usePositionX = 'right';\n    let usePositionY = 'bottom';\n    // Calculate collisions\n    const { height, width } = elBounds;\n    const { top, left } = triggerElBounds;\n    const bottom = top + triggerElBounds.height;\n    const right = left + triggerElBounds.width;\n    const collisionTop = top - height < 0;\n    const collisionBottom = bottom + height > (window.innerHeight || document.documentElement.clientHeight);\n    const collisionLeft = left - width < 0;\n    const collisionRight = right + width > (window.innerWidth || document.documentElement.clientWidth);\n    const collisionAll = collisionTop && collisionBottom && collisionLeft && collisionRight;\n    // Generate X & Y position values\n    if (collisionBottom) {\n        usePositionY = 'top';\n    }\n    if (collisionTop) {\n        usePositionY = 'bottom';\n    }\n    if (collisionLeft) {\n        usePositionX = 'right';\n    }\n    if (collisionRight) {\n        usePositionX = 'left';\n    }\n    // Choose the largest gap available\n    if (collisionAll) {\n        const postions = ['left', 'right', 'top', 'bottom'];\n        return postions.reduce((prev, next) => elBounds[prev] > elBounds[next] ? prev : next);\n    }\n    if ((collisionLeft && collisionRight)) {\n        if (collisionTop) {\n            return 'bottom';\n        }\n        if (collisionBottom) {\n            return 'top';\n        }\n        return top > bottom ? 'top' : 'bottom';\n    }\n    if ((collisionTop && collisionBottom)) {\n        if (collisionLeft) {\n            return 'right';\n        }\n        if (collisionRight) {\n            return 'left';\n        }\n        return left > right ? 'left' : 'right';\n    }\n    return `${usePositionY}-${usePositionX}`;\n}\nfunction detectIE() {\n    let ua = '';\n    if (typeof navigator !== 'undefined') {\n        ua = navigator.userAgent.toLowerCase();\n    }\n    const msie = ua.indexOf('msie ');\n    if (msie > 0) {\n        // IE 10 or older => return version number\n        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n    }\n    // Other browser\n    return false;\n}\nclass TextDirective {\n    constructor() {\n        this.newValue = new EventEmitter();\n    }\n    inputChange(event) {\n        const value = event.target.value;\n        if (this.rg === undefined) {\n            this.newValue.emit(value);\n        }\n        else {\n            const numeric = parseFloat(value);\n            this.newValue.emit({ v: numeric, rg: this.rg });\n        }\n    }\n}\nTextDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: TextDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nTextDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.2.0\", type: TextDirective, selector: \"[text]\", inputs: { rg: \"rg\", text: \"text\" }, outputs: { newValue: \"newValue\" }, host: { listeners: { \"input\": \"inputChange($event)\" } }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: TextDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[text]'\n                }]\n        }], propDecorators: { rg: [{\n                type: Input\n            }], text: [{\n                type: Input\n            }], newValue: [{\n                type: Output\n            }], inputChange: [{\n                type: HostListener,\n                args: ['input', ['$event']]\n            }] } });\nclass SliderDirective {\n    constructor(elRef) {\n        this.elRef = elRef;\n        this.dragEnd = new EventEmitter();\n        this.dragStart = new EventEmitter();\n        this.newValue = new EventEmitter();\n        this.listenerMove = (event) => this.move(event);\n        this.listenerStop = () => this.stop();\n    }\n    mouseDown(event) {\n        this.start(event);\n    }\n    touchStart(event) {\n        this.start(event);\n    }\n    move(event) {\n        event.preventDefault();\n        this.setCursor(event);\n    }\n    start(event) {\n        this.setCursor(event);\n        event.stopPropagation();\n        document.addEventListener('mouseup', this.listenerStop);\n        document.addEventListener('touchend', this.listenerStop);\n        document.addEventListener('mousemove', this.listenerMove);\n        document.addEventListener('touchmove', this.listenerMove);\n        this.dragStart.emit();\n    }\n    stop() {\n        document.removeEventListener('mouseup', this.listenerStop);\n        document.removeEventListener('touchend', this.listenerStop);\n        document.removeEventListener('mousemove', this.listenerMove);\n        document.removeEventListener('touchmove', this.listenerMove);\n        this.dragEnd.emit();\n    }\n    getX(event) {\n        const position = this.elRef.nativeElement.getBoundingClientRect();\n        const pageX = (event.pageX !== undefined) ? event.pageX : event.touches[0].pageX;\n        return pageX - position.left - window.pageXOffset;\n    }\n    getY(event) {\n        const position = this.elRef.nativeElement.getBoundingClientRect();\n        const pageY = (event.pageY !== undefined) ? event.pageY : event.touches[0].pageY;\n        return pageY - position.top - window.pageYOffset;\n    }\n    setCursor(event) {\n        const width = this.elRef.nativeElement.offsetWidth;\n        const height = this.elRef.nativeElement.offsetHeight;\n        const x = Math.max(0, Math.min(this.getX(event), width));\n        const y = Math.max(0, Math.min(this.getY(event), height));\n        if (this.rgX !== undefined && this.rgY !== undefined) {\n            this.newValue.emit({ s: x / width, v: (1 - y / height), rgX: this.rgX, rgY: this.rgY });\n        }\n        else if (this.rgX === undefined && this.rgY !== undefined) {\n            this.newValue.emit({ v: y / height, rgY: this.rgY });\n        }\n        else if (this.rgX !== undefined && this.rgY === undefined) {\n            this.newValue.emit({ v: x / width, rgX: this.rgX });\n        }\n    }\n}\nSliderDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: SliderDirective, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Directive });\nSliderDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.2.0\", type: SliderDirective, selector: \"[slider]\", inputs: { rgX: \"rgX\", rgY: \"rgY\", slider: \"slider\" }, outputs: { dragEnd: \"dragEnd\", dragStart: \"dragStart\", newValue: \"newValue\" }, host: { listeners: { \"mousedown\": \"mouseDown($event)\", \"touchstart\": \"touchStart($event)\" } }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: SliderDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[slider]'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { rgX: [{\n                type: Input\n            }], rgY: [{\n                type: Input\n            }], slider: [{\n                type: Input\n            }], dragEnd: [{\n                type: Output\n            }], dragStart: [{\n                type: Output\n            }], newValue: [{\n                type: Output\n            }], mouseDown: [{\n                type: HostListener,\n                args: ['mousedown', ['$event']]\n            }], touchStart: [{\n                type: HostListener,\n                args: ['touchstart', ['$event']]\n            }] } });\nclass SliderPosition {\n    constructor(h, s, v, a) {\n        this.h = h;\n        this.s = s;\n        this.v = v;\n        this.a = a;\n    }\n}\nclass SliderDimension {\n    constructor(h, s, v, a) {\n        this.h = h;\n        this.s = s;\n        this.v = v;\n        this.a = a;\n    }\n}\n\nclass ColorPickerService {\n    constructor() {\n        this.active = null;\n    }\n    setActive(active) {\n        if (this.active && this.active !== active && this.active.cpDialogDisplay !== 'inline') {\n            this.active.closeDialog();\n        }\n        this.active = active;\n    }\n    hsva2hsla(hsva) {\n        const h = hsva.h, s = hsva.s, v = hsva.v, a = hsva.a;\n        if (v === 0) {\n            return new Hsla(h, 0, 0, a);\n        }\n        else if (s === 0 && v === 1) {\n            return new Hsla(h, 1, 1, a);\n        }\n        else {\n            const l = v * (2 - s) / 2;\n            return new Hsla(h, v * s / (1 - Math.abs(2 * l - 1)), l, a);\n        }\n    }\n    hsla2hsva(hsla) {\n        const h = Math.min(hsla.h, 1), s = Math.min(hsla.s, 1);\n        const l = Math.min(hsla.l, 1), a = Math.min(hsla.a, 1);\n        if (l === 0) {\n            return new Hsva(h, 0, 0, a);\n        }\n        else {\n            const v = l + s * (1 - Math.abs(2 * l - 1)) / 2;\n            return new Hsva(h, 2 * (v - l) / v, v, a);\n        }\n    }\n    hsvaToRgba(hsva) {\n        let r, g, b;\n        const h = hsva.h, s = hsva.s, v = hsva.v, a = hsva.a;\n        const i = Math.floor(h * 6);\n        const f = h * 6 - i;\n        const p = v * (1 - s);\n        const q = v * (1 - f * s);\n        const t = v * (1 - (1 - f) * s);\n        switch (i % 6) {\n            case 0:\n                r = v, g = t, b = p;\n                break;\n            case 1:\n                r = q, g = v, b = p;\n                break;\n            case 2:\n                r = p, g = v, b = t;\n                break;\n            case 3:\n                r = p, g = q, b = v;\n                break;\n            case 4:\n                r = t, g = p, b = v;\n                break;\n            case 5:\n                r = v, g = p, b = q;\n                break;\n            default:\n                r = 0, g = 0, b = 0;\n        }\n        return new Rgba(r, g, b, a);\n    }\n    cmykToRgb(cmyk) {\n        const r = (1 - cmyk.c) * (1 - cmyk.k);\n        const g = (1 - cmyk.m) * (1 - cmyk.k);\n        const b = (1 - cmyk.y) * (1 - cmyk.k);\n        return new Rgba(r, g, b, cmyk.a);\n    }\n    rgbaToCmyk(rgba) {\n        const k = 1 - Math.max(rgba.r, rgba.g, rgba.b);\n        if (k === 1) {\n            return new Cmyk(0, 0, 0, 1, rgba.a);\n        }\n        else {\n            const c = (1 - rgba.r - k) / (1 - k);\n            const m = (1 - rgba.g - k) / (1 - k);\n            const y = (1 - rgba.b - k) / (1 - k);\n            return new Cmyk(c, m, y, k, rgba.a);\n        }\n    }\n    rgbaToHsva(rgba) {\n        let h, s;\n        const r = Math.min(rgba.r, 1), g = Math.min(rgba.g, 1);\n        const b = Math.min(rgba.b, 1), a = Math.min(rgba.a, 1);\n        const max = Math.max(r, g, b), min = Math.min(r, g, b);\n        const v = max, d = max - min;\n        s = (max === 0) ? 0 : d / max;\n        if (max === min) {\n            h = 0;\n        }\n        else {\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n                default:\n                    h = 0;\n            }\n            h /= 6;\n        }\n        return new Hsva(h, s, v, a);\n    }\n    rgbaToHex(rgba, allowHex8) {\n        /* eslint-disable no-bitwise */\n        let hex = '#' + ((1 << 24) | (rgba.r << 16) | (rgba.g << 8) | rgba.b).toString(16).substr(1);\n        if (allowHex8) {\n            hex += ((1 << 8) | Math.round(rgba.a * 255)).toString(16).substr(1);\n        }\n        /* eslint-enable no-bitwise */\n        return hex;\n    }\n    normalizeCMYK(cmyk) {\n        return new Cmyk(cmyk.c / 100, cmyk.m / 100, cmyk.y / 100, cmyk.k / 100, cmyk.a);\n    }\n    denormalizeCMYK(cmyk) {\n        return new Cmyk(Math.floor(cmyk.c * 100), Math.floor(cmyk.m * 100), Math.floor(cmyk.y * 100), Math.floor(cmyk.k * 100), cmyk.a);\n    }\n    denormalizeRGBA(rgba) {\n        return new Rgba(Math.round(rgba.r * 255), Math.round(rgba.g * 255), Math.round(rgba.b * 255), rgba.a);\n    }\n    stringToHsva(colorString = '', allowHex8 = false) {\n        let hsva = null;\n        colorString = (colorString || '').toLowerCase();\n        const stringParsers = [\n            {\n                re: /(rgb)a?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*%?,\\s*(\\d{1,3})\\s*%?(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,\n                parse: function (execResult) {\n                    return new Rgba(parseInt(execResult[2], 10) / 255, parseInt(execResult[3], 10) / 255, parseInt(execResult[4], 10) / 255, isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));\n                }\n            }, {\n                re: /(hsl)a?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})%\\s*,\\s*(\\d{1,3})%\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,\n                parse: function (execResult) {\n                    return new Hsla(parseInt(execResult[2], 10) / 360, parseInt(execResult[3], 10) / 100, parseInt(execResult[4], 10) / 100, isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));\n                }\n            }\n        ];\n        if (allowHex8) {\n            stringParsers.push({\n                re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,\n                parse: function (execResult) {\n                    return new Rgba(parseInt(execResult[1], 16) / 255, parseInt(execResult[2], 16) / 255, parseInt(execResult[3], 16) / 255, parseInt(execResult[4] || 'FF', 16) / 255);\n                }\n            });\n        }\n        else {\n            stringParsers.push({\n                re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,\n                parse: function (execResult) {\n                    return new Rgba(parseInt(execResult[1], 16) / 255, parseInt(execResult[2], 16) / 255, parseInt(execResult[3], 16) / 255, 1);\n                }\n            });\n        }\n        stringParsers.push({\n            re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,\n            parse: function (execResult) {\n                return new Rgba(parseInt(execResult[1] + execResult[1], 16) / 255, parseInt(execResult[2] + execResult[2], 16) / 255, parseInt(execResult[3] + execResult[3], 16) / 255, 1);\n            }\n        });\n        for (const key in stringParsers) {\n            if (stringParsers.hasOwnProperty(key)) {\n                const parser = stringParsers[key];\n                const match = parser.re.exec(colorString), color = match && parser.parse(match);\n                if (color) {\n                    if (color instanceof Rgba) {\n                        hsva = this.rgbaToHsva(color);\n                    }\n                    else if (color instanceof Hsla) {\n                        hsva = this.hsla2hsva(color);\n                    }\n                    return hsva;\n                }\n            }\n        }\n        return hsva;\n    }\n    outputFormat(hsva, outputFormat, alphaChannel) {\n        if (outputFormat === 'auto') {\n            outputFormat = hsva.a < 1 ? 'rgba' : 'hex';\n        }\n        switch (outputFormat) {\n            case 'hsla':\n                const hsla = this.hsva2hsla(hsva);\n                const hslaText = new Hsla(Math.round((hsla.h) * 360), Math.round(hsla.s * 100), Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);\n                if (hsva.a < 1 || alphaChannel === 'always') {\n                    return 'hsla(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%,' +\n                        hslaText.a + ')';\n                }\n                else {\n                    return 'hsl(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%)';\n                }\n            case 'rgba':\n                const rgba = this.denormalizeRGBA(this.hsvaToRgba(hsva));\n                if (hsva.a < 1 || alphaChannel === 'always') {\n                    return 'rgba(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ',' +\n                        Math.round(rgba.a * 100) / 100 + ')';\n                }\n                else {\n                    return 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';\n                }\n            default:\n                const allowHex8 = (alphaChannel === 'always' || alphaChannel === 'forced');\n                return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(hsva)), allowHex8);\n        }\n    }\n}\nColorPickerService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nColorPickerService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerService, decorators: [{\n            type: Injectable\n        }] });\n\n// Do not store that on the class instance since the condition will be run\n// every time the class is created.\nconst SUPPORTS_TOUCH = typeof window !== 'undefined' && 'ontouchstart' in window;\nclass ColorPickerComponent {\n    constructor(ngZone, elRef, cdRef, document, platformId, service) {\n        this.ngZone = ngZone;\n        this.elRef = elRef;\n        this.cdRef = cdRef;\n        this.document = document;\n        this.platformId = platformId;\n        this.service = service;\n        this.isIE10 = false;\n        this.dialogArrowSize = 10;\n        this.dialogArrowOffset = 15;\n        this.dialogInputFields = [\n            ColorFormats.HEX,\n            ColorFormats.RGBA,\n            ColorFormats.HSLA,\n            ColorFormats.CMYK\n        ];\n        this.useRootViewContainer = false;\n        this.eyeDropperSupported = isPlatformBrowser(this.platformId) && 'EyeDropper' in this.document.defaultView;\n    }\n    handleEsc(event) {\n        if (this.show && this.cpDialogDisplay === 'popup') {\n            this.onCancelColor(event);\n        }\n    }\n    handleEnter(event) {\n        if (this.show && this.cpDialogDisplay === 'popup') {\n            this.onAcceptColor(event);\n        }\n    }\n    ngOnInit() {\n        this.slider = new SliderPosition(0, 0, 0, 0);\n        const hueWidth = this.hueSlider.nativeElement.offsetWidth || 140;\n        const alphaWidth = this.alphaSlider.nativeElement.offsetWidth || 140;\n        this.sliderDimMax = new SliderDimension(hueWidth, this.cpWidth, 130, alphaWidth);\n        if (this.cpCmykEnabled) {\n            this.format = ColorFormats.CMYK;\n        }\n        else if (this.cpOutputFormat === 'rgba') {\n            this.format = ColorFormats.RGBA;\n        }\n        else if (this.cpOutputFormat === 'hsla') {\n            this.format = ColorFormats.HSLA;\n        }\n        else {\n            this.format = ColorFormats.HEX;\n        }\n        this.listenerMouseDown = (event) => { this.onMouseDown(event); };\n        this.listenerResize = () => { this.onResize(); };\n        this.openDialog(this.initialColor, false);\n    }\n    ngOnDestroy() {\n        this.closeDialog();\n    }\n    ngAfterViewInit() {\n        if (this.cpWidth !== 230 || this.cpDialogDisplay === 'inline') {\n            const hueWidth = this.hueSlider.nativeElement.offsetWidth || 140;\n            const alphaWidth = this.alphaSlider.nativeElement.offsetWidth || 140;\n            this.sliderDimMax = new SliderDimension(hueWidth, this.cpWidth, 130, alphaWidth);\n            this.updateColorPicker(false);\n            this.cdRef.detectChanges();\n        }\n    }\n    openDialog(color, emit = true) {\n        this.service.setActive(this);\n        if (!this.width) {\n            this.cpWidth = this.directiveElementRef.nativeElement.offsetWidth;\n        }\n        if (!this.height) {\n            this.height = 320;\n        }\n        this.setInitialColor(color);\n        this.setColorFromString(color, emit);\n        this.openColorPicker();\n    }\n    closeDialog() {\n        this.closeColorPicker();\n    }\n    setupDialog(instance, elementRef, color, cpWidth, cpHeight, cpDialogDisplay, cpFallbackColor, cpColorMode, cpCmykEnabled, cpAlphaChannel, cpOutputFormat, cpDisableInput, cpIgnoredElements, cpSaveClickOutside, cpCloseClickOutside, cpUseRootViewContainer, cpPosition, cpPositionOffset, cpPositionRelativeToArrow, cpPresetLabel, cpPresetColors, cpPresetColorsClass, cpMaxPresetColorsLength, cpPresetEmptyMessage, cpPresetEmptyMessageClass, cpOKButton, cpOKButtonClass, cpOKButtonText, cpCancelButton, cpCancelButtonClass, cpCancelButtonText, cpAddColorButton, cpAddColorButtonClass, cpAddColorButtonText, cpRemoveColorButtonClass, cpEyeDropper, cpTriggerElement, cpExtraTemplate) {\n        this.setInitialColor(color);\n        this.setColorMode(cpColorMode);\n        this.isIE10 = (detectIE() === 10);\n        this.directiveInstance = instance;\n        this.directiveElementRef = elementRef;\n        this.cpDisableInput = cpDisableInput;\n        this.cpCmykEnabled = cpCmykEnabled;\n        this.cpAlphaChannel = cpAlphaChannel;\n        this.cpOutputFormat = cpOutputFormat;\n        this.cpDialogDisplay = cpDialogDisplay;\n        this.cpIgnoredElements = cpIgnoredElements;\n        this.cpSaveClickOutside = cpSaveClickOutside;\n        this.cpCloseClickOutside = cpCloseClickOutside;\n        this.useRootViewContainer = cpUseRootViewContainer;\n        this.width = this.cpWidth = parseInt(cpWidth, 10);\n        this.height = this.cpHeight = parseInt(cpHeight, 10);\n        this.cpPosition = cpPosition;\n        this.cpPositionOffset = parseInt(cpPositionOffset, 10);\n        this.cpOKButton = cpOKButton;\n        this.cpOKButtonText = cpOKButtonText;\n        this.cpOKButtonClass = cpOKButtonClass;\n        this.cpCancelButton = cpCancelButton;\n        this.cpCancelButtonText = cpCancelButtonText;\n        this.cpCancelButtonClass = cpCancelButtonClass;\n        this.cpEyeDropper = cpEyeDropper;\n        this.fallbackColor = cpFallbackColor || '#fff';\n        this.setPresetConfig(cpPresetLabel, cpPresetColors);\n        this.cpPresetColorsClass = cpPresetColorsClass;\n        this.cpMaxPresetColorsLength = cpMaxPresetColorsLength;\n        this.cpPresetEmptyMessage = cpPresetEmptyMessage;\n        this.cpPresetEmptyMessageClass = cpPresetEmptyMessageClass;\n        this.cpAddColorButton = cpAddColorButton;\n        this.cpAddColorButtonText = cpAddColorButtonText;\n        this.cpAddColorButtonClass = cpAddColorButtonClass;\n        this.cpRemoveColorButtonClass = cpRemoveColorButtonClass;\n        this.cpTriggerElement = cpTriggerElement;\n        this.cpExtraTemplate = cpExtraTemplate;\n        if (!cpPositionRelativeToArrow) {\n            this.dialogArrowOffset = 0;\n        }\n        if (cpDialogDisplay === 'inline') {\n            this.dialogArrowSize = 0;\n            this.dialogArrowOffset = 0;\n        }\n        if (cpOutputFormat === 'hex' &&\n            cpAlphaChannel !== 'always' && cpAlphaChannel !== 'forced') {\n            this.cpAlphaChannel = 'disabled';\n        }\n    }\n    setColorMode(mode) {\n        switch (mode.toString().toUpperCase()) {\n            case '1':\n            case 'C':\n            case 'COLOR':\n                this.cpColorMode = 1;\n                break;\n            case '2':\n            case 'G':\n            case 'GRAYSCALE':\n                this.cpColorMode = 2;\n                break;\n            case '3':\n            case 'P':\n            case 'PRESETS':\n                this.cpColorMode = 3;\n                break;\n            default:\n                this.cpColorMode = 1;\n        }\n    }\n    setInitialColor(color) {\n        this.initialColor = color;\n    }\n    setPresetConfig(cpPresetLabel, cpPresetColors) {\n        this.cpPresetLabel = cpPresetLabel;\n        this.cpPresetColors = cpPresetColors;\n    }\n    setColorFromString(value, emit = true, update = true) {\n        let hsva;\n        if (this.cpAlphaChannel === 'always' || this.cpAlphaChannel === 'forced') {\n            hsva = this.service.stringToHsva(value, true);\n            if (!hsva && !this.hsva) {\n                hsva = this.service.stringToHsva(value, false);\n            }\n        }\n        else {\n            hsva = this.service.stringToHsva(value, false);\n        }\n        if (!hsva && !this.hsva) {\n            hsva = this.service.stringToHsva(this.fallbackColor, false);\n        }\n        if (hsva) {\n            this.hsva = hsva;\n            this.sliderH = this.hsva.h;\n            if (this.cpOutputFormat === 'hex' && this.cpAlphaChannel === 'disabled') {\n                this.hsva.a = 1;\n            }\n            this.updateColorPicker(emit, update);\n        }\n    }\n    onResize() {\n        if (this.position === 'fixed') {\n            this.setDialogPosition();\n        }\n        else if (this.cpDialogDisplay !== 'inline') {\n            this.closeColorPicker();\n        }\n    }\n    onDragEnd(slider) {\n        this.directiveInstance.sliderDragEnd({ slider: slider, color: this.outputColor });\n    }\n    onDragStart(slider) {\n        this.directiveInstance.sliderDragStart({ slider: slider, color: this.outputColor });\n    }\n    onMouseDown(event) {\n        if (this.show &&\n            !this.isIE10 &&\n            this.cpDialogDisplay === 'popup' &&\n            event.target !== this.directiveElementRef.nativeElement &&\n            !this.isDescendant(this.elRef.nativeElement, event.target) &&\n            !this.isDescendant(this.directiveElementRef.nativeElement, event.target) &&\n            this.cpIgnoredElements.filter((item) => item === event.target).length === 0) {\n            this.ngZone.run(() => {\n                if (this.cpSaveClickOutside) {\n                    this.directiveInstance.colorSelected(this.outputColor);\n                }\n                else {\n                    this.hsva = null;\n                    this.setColorFromString(this.initialColor, false);\n                    if (this.cpCmykEnabled) {\n                        this.directiveInstance.cmykChanged(this.cmykColor);\n                    }\n                    this.directiveInstance.colorChanged(this.initialColor);\n                    this.directiveInstance.colorCanceled();\n                }\n                if (this.cpCloseClickOutside) {\n                    this.closeColorPicker();\n                }\n            });\n        }\n    }\n    onAcceptColor(event) {\n        event.stopPropagation();\n        if (this.outputColor) {\n            this.directiveInstance.colorSelected(this.outputColor);\n        }\n        if (this.cpDialogDisplay === 'popup') {\n            this.closeColorPicker();\n        }\n    }\n    onCancelColor(event) {\n        this.hsva = null;\n        event.stopPropagation();\n        this.directiveInstance.colorCanceled();\n        this.setColorFromString(this.initialColor, true);\n        if (this.cpDialogDisplay === 'popup') {\n            if (this.cpCmykEnabled) {\n                this.directiveInstance.cmykChanged(this.cmykColor);\n            }\n            this.directiveInstance.colorChanged(this.initialColor, true);\n            this.closeColorPicker();\n        }\n    }\n    onEyeDropper() {\n        if (!this.eyeDropperSupported)\n            return;\n        const eyeDropper = new window.EyeDropper();\n        eyeDropper.open().then((eyeDropperResult) => {\n            this.setColorFromString(eyeDropperResult.sRGBHex, true);\n        });\n    }\n    onFormatToggle(change) {\n        const availableFormats = this.dialogInputFields.length -\n            (this.cpCmykEnabled ? 0 : 1);\n        const nextFormat = (((this.dialogInputFields.indexOf(this.format) + change) %\n            availableFormats) + availableFormats) % availableFormats;\n        this.format = this.dialogInputFields[nextFormat];\n    }\n    onColorChange(value) {\n        this.hsva.s = value.s / value.rgX;\n        this.hsva.v = value.v / value.rgY;\n        this.updateColorPicker();\n        this.directiveInstance.sliderChanged({\n            slider: 'lightness',\n            value: this.hsva.v,\n            color: this.outputColor\n        });\n        this.directiveInstance.sliderChanged({\n            slider: 'saturation',\n            value: this.hsva.s,\n            color: this.outputColor\n        });\n    }\n    onHueChange(value) {\n        this.hsva.h = value.v / value.rgX;\n        this.sliderH = this.hsva.h;\n        this.updateColorPicker();\n        this.directiveInstance.sliderChanged({\n            slider: 'hue',\n            value: this.hsva.h,\n            color: this.outputColor\n        });\n    }\n    onValueChange(value) {\n        this.hsva.v = value.v / value.rgX;\n        this.updateColorPicker();\n        this.directiveInstance.sliderChanged({\n            slider: 'value',\n            value: this.hsva.v,\n            color: this.outputColor\n        });\n    }\n    onAlphaChange(value) {\n        this.hsva.a = value.v / value.rgX;\n        this.updateColorPicker();\n        this.directiveInstance.sliderChanged({\n            slider: 'alpha',\n            value: this.hsva.a,\n            color: this.outputColor\n        });\n    }\n    onHexInput(value) {\n        if (value === null) {\n            this.updateColorPicker();\n        }\n        else {\n            if (value && value[0] !== '#') {\n                value = '#' + value;\n            }\n            let validHex = /^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;\n            if (this.cpAlphaChannel === 'always') {\n                validHex = /^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi;\n            }\n            const valid = validHex.test(value);\n            if (valid) {\n                if (value.length < 5) {\n                    value = '#' + value.substring(1)\n                        .split('')\n                        .map(c => c + c)\n                        .join('');\n                }\n                if (this.cpAlphaChannel === 'forced') {\n                    value += Math.round(this.hsva.a * 255).toString(16);\n                }\n                this.setColorFromString(value, true, false);\n            }\n            this.directiveInstance.inputChanged({\n                input: 'hex',\n                valid: valid,\n                value: value,\n                color: this.outputColor\n            });\n        }\n    }\n    onRedInput(value) {\n        const rgba = this.service.hsvaToRgba(this.hsva);\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            rgba.r = value.v / value.rg;\n            this.hsva = this.service.rgbaToHsva(rgba);\n            this.sliderH = this.hsva.h;\n            this.updateColorPicker();\n        }\n        this.directiveInstance.inputChanged({\n            input: 'red',\n            valid: valid,\n            value: rgba.r,\n            color: this.outputColor\n        });\n    }\n    onBlueInput(value) {\n        const rgba = this.service.hsvaToRgba(this.hsva);\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            rgba.b = value.v / value.rg;\n            this.hsva = this.service.rgbaToHsva(rgba);\n            this.sliderH = this.hsva.h;\n            this.updateColorPicker();\n        }\n        this.directiveInstance.inputChanged({\n            input: 'blue',\n            valid: valid,\n            value: rgba.b,\n            color: this.outputColor\n        });\n    }\n    onGreenInput(value) {\n        const rgba = this.service.hsvaToRgba(this.hsva);\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            rgba.g = value.v / value.rg;\n            this.hsva = this.service.rgbaToHsva(rgba);\n            this.sliderH = this.hsva.h;\n            this.updateColorPicker();\n        }\n        this.directiveInstance.inputChanged({\n            input: 'green',\n            valid: valid,\n            value: rgba.g,\n            color: this.outputColor\n        });\n    }\n    onHueInput(value) {\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            this.hsva.h = value.v / value.rg;\n            this.sliderH = this.hsva.h;\n            this.updateColorPicker();\n        }\n        this.directiveInstance.inputChanged({\n            input: 'hue',\n            valid: valid,\n            value: this.hsva.h,\n            color: this.outputColor\n        });\n    }\n    onValueInput(value) {\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            this.hsva.v = value.v / value.rg;\n            this.updateColorPicker();\n        }\n        this.directiveInstance.inputChanged({\n            input: 'value',\n            valid: valid,\n            value: this.hsva.v,\n            color: this.outputColor\n        });\n    }\n    onAlphaInput(value) {\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            this.hsva.a = value.v / value.rg;\n            this.updateColorPicker();\n        }\n        this.directiveInstance.inputChanged({\n            input: 'alpha',\n            valid: valid,\n            value: this.hsva.a,\n            color: this.outputColor\n        });\n    }\n    onLightnessInput(value) {\n        const hsla = this.service.hsva2hsla(this.hsva);\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            hsla.l = value.v / value.rg;\n            this.hsva = this.service.hsla2hsva(hsla);\n            this.sliderH = this.hsva.h;\n            this.updateColorPicker();\n        }\n        this.directiveInstance.inputChanged({\n            input: 'lightness',\n            valid: valid,\n            value: hsla.l,\n            color: this.outputColor\n        });\n    }\n    onSaturationInput(value) {\n        const hsla = this.service.hsva2hsla(this.hsva);\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            hsla.s = value.v / value.rg;\n            this.hsva = this.service.hsla2hsva(hsla);\n            this.sliderH = this.hsva.h;\n            this.updateColorPicker();\n        }\n        this.directiveInstance.inputChanged({\n            input: 'saturation',\n            valid: valid,\n            value: hsla.s,\n            color: this.outputColor\n        });\n    }\n    onCyanInput(value) {\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            this.cmyk.c = value.v;\n            this.updateColorPicker(false, true, true);\n        }\n        this.directiveInstance.inputChanged({\n            input: 'cyan',\n            valid: true,\n            value: this.cmyk.c,\n            color: this.outputColor\n        });\n    }\n    onMagentaInput(value) {\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            this.cmyk.m = value.v;\n            this.updateColorPicker(false, true, true);\n        }\n        this.directiveInstance.inputChanged({\n            input: 'magenta',\n            valid: true,\n            value: this.cmyk.m,\n            color: this.outputColor\n        });\n    }\n    onYellowInput(value) {\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            this.cmyk.y = value.v;\n            this.updateColorPicker(false, true, true);\n        }\n        this.directiveInstance.inputChanged({\n            input: 'yellow',\n            valid: true,\n            value: this.cmyk.y,\n            color: this.outputColor\n        });\n    }\n    onBlackInput(value) {\n        const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n        if (valid) {\n            this.cmyk.k = value.v;\n            this.updateColorPicker(false, true, true);\n        }\n        this.directiveInstance.inputChanged({\n            input: 'black',\n            valid: true,\n            value: this.cmyk.k,\n            color: this.outputColor\n        });\n    }\n    onAddPresetColor(event, value) {\n        event.stopPropagation();\n        if (!this.cpPresetColors.filter((color) => (color === value)).length) {\n            this.cpPresetColors = this.cpPresetColors.concat(value);\n            this.directiveInstance.presetColorsChanged(this.cpPresetColors);\n        }\n    }\n    onRemovePresetColor(event, value) {\n        event.stopPropagation();\n        this.cpPresetColors = this.cpPresetColors.filter((color) => (color !== value));\n        this.directiveInstance.presetColorsChanged(this.cpPresetColors);\n    }\n    // Private helper functions for the color picker dialog status\n    openColorPicker() {\n        if (!this.show) {\n            this.show = true;\n            this.hidden = true;\n            setTimeout(() => {\n                this.hidden = false;\n                this.setDialogPosition();\n                this.cdRef.detectChanges();\n            }, 0);\n            this.directiveInstance.stateChanged(true);\n            if (!this.isIE10) {\n                // The change detection should be run on `mousedown` event only when the condition\n                // is met within the `onMouseDown` method.\n                this.ngZone.runOutsideAngular(() => {\n                    // There's no sense to add both event listeners on touch devices since the `touchstart`\n                    // event is handled earlier than `mousedown`, so we'll get 2 change detections and the\n                    // second one will be unnecessary.\n                    if (SUPPORTS_TOUCH) {\n                        document.addEventListener('touchstart', this.listenerMouseDown);\n                    }\n                    else {\n                        document.addEventListener('mousedown', this.listenerMouseDown);\n                    }\n                });\n            }\n            window.addEventListener('resize', this.listenerResize);\n        }\n    }\n    closeColorPicker() {\n        if (this.show) {\n            this.show = false;\n            this.directiveInstance.stateChanged(false);\n            if (!this.isIE10) {\n                if (SUPPORTS_TOUCH) {\n                    document.removeEventListener('touchstart', this.listenerMouseDown);\n                }\n                else {\n                    document.removeEventListener('mousedown', this.listenerMouseDown);\n                }\n            }\n            window.removeEventListener('resize', this.listenerResize);\n            if (!this.cdRef['destroyed']) {\n                this.cdRef.detectChanges();\n            }\n        }\n    }\n    updateColorPicker(emit = true, update = true, cmykInput = false) {\n        if (this.sliderDimMax) {\n            if (this.cpColorMode === 2) {\n                this.hsva.s = 0;\n            }\n            let hue, hsla, rgba;\n            const lastOutput = this.outputColor;\n            hsla = this.service.hsva2hsla(this.hsva);\n            if (!this.cpCmykEnabled) {\n                rgba = this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva));\n            }\n            else {\n                if (!cmykInput) {\n                    rgba = this.service.hsvaToRgba(this.hsva);\n                    this.cmyk = this.service.denormalizeCMYK(this.service.rgbaToCmyk(rgba));\n                }\n                else {\n                    rgba = this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk));\n                    this.hsva = this.service.rgbaToHsva(rgba);\n                }\n                rgba = this.service.denormalizeRGBA(rgba);\n                this.sliderH = this.hsva.h;\n            }\n            hue = this.service.denormalizeRGBA(this.service.hsvaToRgba(new Hsva(this.sliderH || this.hsva.h, 1, 1, 1)));\n            if (update) {\n                this.hslaText = new Hsla(Math.round((hsla.h) * 360), Math.round(hsla.s * 100), Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);\n                this.rgbaText = new Rgba(rgba.r, rgba.g, rgba.b, Math.round(rgba.a * 100) / 100);\n                if (this.cpCmykEnabled) {\n                    this.cmykText = new Cmyk(this.cmyk.c, this.cmyk.m, this.cmyk.y, this.cmyk.k, Math.round(this.cmyk.a * 100) / 100);\n                }\n                const allowHex8 = this.cpAlphaChannel === 'always';\n                this.hexText = this.service.rgbaToHex(rgba, allowHex8);\n                this.hexAlpha = this.rgbaText.a;\n            }\n            if (this.cpOutputFormat === 'auto') {\n                if (this.format !== ColorFormats.RGBA && this.format !== ColorFormats.CMYK && this.format !== ColorFormats.HSLA) {\n                    if (this.hsva.a < 1) {\n                        this.format = this.hsva.a < 1 ? ColorFormats.RGBA : ColorFormats.HEX;\n                    }\n                }\n            }\n            this.hueSliderColor = 'rgb(' + hue.r + ',' + hue.g + ',' + hue.b + ')';\n            this.alphaSliderColor = 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';\n            this.outputColor = this.service.outputFormat(this.hsva, this.cpOutputFormat, this.cpAlphaChannel);\n            this.selectedColor = this.service.outputFormat(this.hsva, 'rgba', null);\n            if (this.format !== ColorFormats.CMYK) {\n                this.cmykColor = '';\n            }\n            else {\n                if (this.cpAlphaChannel === 'always' || this.cpAlphaChannel === 'enabled' ||\n                    this.cpAlphaChannel === 'forced') {\n                    const alpha = Math.round(this.cmyk.a * 100) / 100;\n                    this.cmykColor = `cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${alpha})`;\n                }\n                else {\n                    this.cmykColor = `cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;\n                }\n            }\n            this.slider = new SliderPosition((this.sliderH || this.hsva.h) * this.sliderDimMax.h - 8, this.hsva.s * this.sliderDimMax.s - 8, (1 - this.hsva.v) * this.sliderDimMax.v - 8, this.hsva.a * this.sliderDimMax.a - 8);\n            if (emit && lastOutput !== this.outputColor) {\n                if (this.cpCmykEnabled) {\n                    this.directiveInstance.cmykChanged(this.cmykColor);\n                }\n                this.directiveInstance.colorChanged(this.outputColor);\n            }\n        }\n    }\n    // Private helper functions for the color picker dialog positioning\n    setDialogPosition() {\n        if (this.cpDialogDisplay === 'inline') {\n            this.position = 'relative';\n        }\n        else {\n            let position = 'static', transform = '', style;\n            let parentNode = null, transformNode = null;\n            let node = this.directiveElementRef.nativeElement.parentNode;\n            const dialogHeight = this.dialogElement.nativeElement.offsetHeight;\n            while (node !== null && node.tagName !== 'HTML') {\n                style = window.getComputedStyle(node);\n                position = style.getPropertyValue('position');\n                transform = style.getPropertyValue('transform');\n                if (position !== 'static' && parentNode === null) {\n                    parentNode = node;\n                }\n                if (transform && transform !== 'none' && transformNode === null) {\n                    transformNode = node;\n                }\n                if (position === 'fixed') {\n                    parentNode = transformNode;\n                    break;\n                }\n                node = node.parentNode;\n            }\n            const boxDirective = this.createDialogBox(this.directiveElementRef.nativeElement, (position !== 'fixed'));\n            if (this.useRootViewContainer || (position === 'fixed' &&\n                (!parentNode || parentNode instanceof HTMLUnknownElement))) {\n                this.top = boxDirective.top;\n                this.left = boxDirective.left;\n            }\n            else {\n                if (parentNode === null) {\n                    parentNode = node;\n                }\n                const boxParent = this.createDialogBox(parentNode, (position !== 'fixed'));\n                this.top = boxDirective.top - boxParent.top;\n                this.left = boxDirective.left - boxParent.left;\n            }\n            if (position === 'fixed') {\n                this.position = 'fixed';\n            }\n            let usePosition = this.cpPosition;\n            if (this.cpPosition === 'auto') {\n                const dialogBounds = this.dialogElement.nativeElement.getBoundingClientRect();\n                const windowInnerHeight = window.innerHeight;\n                const windowInnerWidth = window.innerWidth;\n                const elRefClientRect = this.elRef.nativeElement.getBoundingClientRect();\n                const bottom = this.top + dialogBounds.height;\n                if (bottom > windowInnerHeight) {\n                    this.top = windowInnerHeight - dialogBounds.height;\n                    this.cpArrowPosition = elRefClientRect.x / 2 - 20;\n                }\n                const right = this.left + dialogBounds.width;\n                if (right > windowInnerWidth) {\n                    this.left = windowInnerWidth - dialogBounds.width;\n                    this.cpArrowPosition = elRefClientRect.x / 2 - 20;\n                }\n                const triggerBounds = this.cpTriggerElement.nativeElement.getBoundingClientRect();\n                usePosition = calculateAutoPositioning(dialogBounds, triggerBounds);\n            }\n            if (usePosition === 'top') {\n                this.arrowTop = dialogHeight - 1;\n                this.top -= dialogHeight + this.dialogArrowSize;\n                this.left += this.cpPositionOffset / 100 * boxDirective.width - this.dialogArrowOffset;\n            }\n            else if (usePosition === 'bottom') {\n                this.top += boxDirective.height + this.dialogArrowSize;\n                this.left += this.cpPositionOffset / 100 * boxDirective.width - this.dialogArrowOffset;\n            }\n            else if (usePosition === 'top-left' || usePosition === 'left-top') {\n                this.top -= dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100;\n                this.left -= this.cpWidth + this.dialogArrowSize - 2 - this.dialogArrowOffset;\n            }\n            else if (usePosition === 'top-right' || usePosition === 'right-top') {\n                this.top -= dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100;\n                this.left += boxDirective.width + this.dialogArrowSize - 2 - this.dialogArrowOffset;\n            }\n            else if (usePosition === 'left' || usePosition === 'bottom-left' || usePosition === 'left-bottom') {\n                this.top += boxDirective.height * this.cpPositionOffset / 100 - this.dialogArrowOffset;\n                this.left -= this.cpWidth + this.dialogArrowSize - 2;\n            }\n            else { // usePosition === 'right' || usePosition === 'bottom-right' || usePosition === 'right-bottom'\n                this.top += boxDirective.height * this.cpPositionOffset / 100 - this.dialogArrowOffset;\n                this.left += boxDirective.width + this.dialogArrowSize - 2;\n            }\n            this.cpUsePosition = usePosition;\n        }\n    }\n    // Private helper functions for the color picker dialog positioning and opening\n    isDescendant(parent, child) {\n        let node = child.parentNode;\n        while (node !== null) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    }\n    createDialogBox(element, offset) {\n        const { top, left } = element.getBoundingClientRect();\n        return {\n            top: top + (offset ? window.pageYOffset : 0),\n            left: left + (offset ? window.pageXOffset : 0),\n            width: element.offsetWidth,\n            height: element.offsetHeight\n        };\n    }\n}\nColorPickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerComponent, deps: [{ token: i0.NgZone }, { token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: DOCUMENT }, { token: PLATFORM_ID }, { token: ColorPickerService }], target: i0.ɵɵFactoryTarget.Component });\nColorPickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.2.0\", type: ColorPickerComponent, selector: \"color-picker\", host: { listeners: { \"document:keyup.esc\": \"handleEsc($event)\", \"document:keyup.enter\": \"handleEnter($event)\" } }, viewQueries: [{ propertyName: \"dialogElement\", first: true, predicate: [\"dialogPopup\"], descendants: true, static: true }, { propertyName: \"hueSlider\", first: true, predicate: [\"hueSlider\"], descendants: true, static: true }, { propertyName: \"alphaSlider\", first: true, predicate: [\"alphaSlider\"], descendants: true, static: true }], ngImport: i0, template: \"<div #dialogPopup class=\\\"color-picker\\\" [class.open]=\\\"show\\\" [style.display]=\\\"!show ? 'none' : 'block'\\\" [style.visibility]=\\\"hidden ? 'hidden' : 'visible'\\\" [style.top.px]=\\\"top\\\" [style.left.px]=\\\"left\\\" [style.position]=\\\"position\\\" [style.height.px]=\\\"cpHeight\\\" [style.width.px]=\\\"cpWidth\\\" (click)=\\\"$event.stopPropagation()\\\">\\n  <div *ngIf=\\\"cpDialogDisplay === 'popup'\\\" [style.left]=\\\"cpArrowPosition\\\" class=\\\"arrow arrow-{{cpUsePosition}}\\\" [style.top.px]=\\\"arrowTop\\\"></div>\\n\\n  <div *ngIf=\\\"(cpColorMode ||\\u00A01) === 1\\\" class=\\\"saturation-lightness\\\" [slider] [rgX]=\\\"1\\\" [rgY]=\\\"1\\\" [style.background-color]=\\\"hueSliderColor\\\" (newValue)=\\\"onColorChange($event)\\\" (dragStart)=\\\"onDragStart('saturation-lightness')\\\" (dragEnd)=\\\"onDragEnd('saturation-lightness')\\\">\\n    <div class=\\\"cursor\\\" [style.top.px]=\\\"slider?.v\\\" [style.left.px]=\\\"slider?.s\\\"></div>\\n  </div>\\n\\n  <div class=\\\"hue-alpha box\\\">\\n    <div class=\\\"left\\\">\\n      <div class=\\\"selected-color-background\\\"></div>\\n\\n      <div class=\\\"selected-color\\\" [style.background-color]=\\\"selectedColor\\\" [style.cursor]=\\\"eyeDropperSupported && cpEyeDropper ? 'pointer' : null\\\" (click)=\\\"eyeDropperSupported && cpEyeDropper && onEyeDropper()\\\">\\n        <svg *ngIf=\\\"eyeDropperSupported && cpEyeDropper\\\" class=\\\"eyedropper-icon\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24px\\\" fill=\\\"#000000\\\"><path d=\\\"M0 0h24v24H0V0z\\\" fill=\\\"none\\\"/><path d=\\\"M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z\\\"/></svg>\\n      </div>\\n\\n      <button *ngIf=\\\"cpAddColorButton\\\" type=\\\"button\\\" class=\\\"{{cpAddColorButtonClass}}\\\" [disabled]=\\\"cpPresetColors && cpPresetColors.length >= cpMaxPresetColorsLength\\\" (click)=\\\"onAddPresetColor($event, selectedColor)\\\">\\n        {{cpAddColorButtonText}}\\n      </button>\\n    </div>\\n\\n    <div class=\\\"right\\\">\\n      <div *ngIf=\\\"cpAlphaChannel==='disabled'\\\" style=\\\"height: 16px;\\\"></div>\\n\\n      <div #hueSlider class=\\\"hue\\\" [slider] [rgX]=\\\"1\\\" [style.display]=\\\"(cpColorMode ||\\u00A01) === 1 ? 'block' : 'none'\\\" (newValue)=\\\"onHueChange($event)\\\" (dragStart)=\\\"onDragStart('hue')\\\" (dragEnd)=\\\"onDragEnd('hue')\\\">\\n        <div class=\\\"cursor\\\" [style.left.px]=\\\"slider?.h\\\"></div>\\n      </div>\\n\\n      <div #valueSlider class=\\\"value\\\" [slider] [rgX]=\\\"1\\\" [style.display]=\\\"(cpColorMode ||\\u00A01) === 2 ? 'block': 'none'\\\" (newValue)=\\\"onValueChange($event)\\\" (dragStart)=\\\"onDragStart('value')\\\" (dragEnd)=\\\"onDragEnd('value')\\\">\\n        <div class=\\\"cursor\\\" [style.right.px]=\\\"slider?.v\\\"></div>\\n      </div>\\n\\n      <div #alphaSlider class=\\\"alpha\\\" [slider] [rgX]=\\\"1\\\" [style.display]=\\\"cpAlphaChannel === 'disabled' ? 'none' : 'block'\\\" [style.background-color]=\\\"alphaSliderColor\\\" (newValue)=\\\"onAlphaChange($event)\\\" (dragStart)=\\\"onDragStart('alpha')\\\" (dragEnd)=\\\"onDragEnd('alpha')\\\">\\n        <div class=\\\"cursor\\\" [style.left.px]=\\\"slider?.a\\\"></div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 1\\\" class=\\\"cmyk-text\\\" [style.display]=\\\"format !== 3 ? 'none' : 'block'\\\">\\n    <div class=\\\"box\\\">\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"cmykText?.c\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onCyanInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"cmykText?.m\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onMagentaInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"cmykText?.y\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onYellowInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"cmykText?.k\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onBlackInput($event)\\\" />\\n      <input *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" type=\\\"number\\\" pattern=\\\"[0-9]+([\\\\.,][0-9]{1,2})?\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\" [text] [rg]=\\\"1\\\" [value]=\\\"cmykText?.a\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onAlphaInput($event)\\\" />\\n    </div>\\n\\n     <div class=\\\"box\\\">\\n      <div>C</div><div>M</div><div>Y</div><div>K</div><div *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" >A</div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 1 \\\" class=\\\"hsla-text\\\" [style.display]=\\\"format !== 2 ? 'none' : 'block'\\\">\\n    <div class=\\\"box\\\">\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"360\\\" [text] [rg]=\\\"360\\\" [value]=\\\"hslaText?.h\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onHueInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"hslaText?.s\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onSaturationInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"hslaText?.l\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onLightnessInput($event)\\\" />\\n      <input *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" type=\\\"number\\\" pattern=\\\"[0-9]+([\\\\.,][0-9]{1,2})?\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\" [text] [rg]=\\\"1\\\" [value]=\\\"hslaText?.a\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onAlphaInput($event)\\\" />\\n    </div>\\n\\n    <div class=\\\"box\\\">\\n      <div>H</div><div>S</div><div>L</div><div *ngIf=\\\"cpAlphaChannel!=='disabled'\\\">A</div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 1 \\\" [style.display]=\\\"format !== 1 ? 'none' : 'block'\\\" class=\\\"rgba-text\\\">\\n    <div class=\\\"box\\\">\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"255\\\" [text] [rg]=\\\"255\\\" [value]=\\\"rgbaText?.r\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onRedInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"255\\\" [text] [rg]=\\\"255\\\" [value]=\\\"rgbaText?.g\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onGreenInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"255\\\" [text] [rg]=\\\"255\\\" [value]=\\\"rgbaText?.b\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onBlueInput($event)\\\" />\\n      <input *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" type=\\\"number\\\" pattern=\\\"[0-9]+([\\\\.,][0-9]{1,2})?\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\" [text] [rg]=\\\"1\\\" [value]=\\\"rgbaText?.a\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onAlphaInput($event)\\\" />\\n    </div>\\n\\n    <div class=\\\"box\\\">\\n      <div>R</div><div>G</div><div>B</div><div *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" >A</div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 1\\\" class=\\\"hex-text\\\" [class.hex-alpha]=\\\"cpAlphaChannel==='forced'\\\"\\n    [style.display]=\\\"format !== 0 ? 'none' : 'block'\\\">\\n    <div class=\\\"box\\\">\\n      <input [text] [value]=\\\"hexText\\\" (blur)=\\\"onHexInput(null)\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onHexInput($event)\\\"/>\\n      <input *ngIf=\\\"cpAlphaChannel==='forced'\\\" type=\\\"number\\\" pattern=\\\"[0-9]+([\\\\.,][0-9]{1,2})?\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\" [text] [rg]=\\\"1\\\" [value]=\\\"hexAlpha\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onAlphaInput($event)\\\"/>\\n    </div>\\n\\n    <div class=\\\"box\\\">\\n      <div>Hex</div>\\n      <div *ngIf=\\\"cpAlphaChannel==='forced'\\\">A</div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 2\\\" class=\\\"value-text\\\">\\n    <div class=\\\"box\\\">\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"hslaText?.l\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onValueInput($event)\\\" />\\n      <input *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" type=\\\"number\\\" pattern=\\\"[0-9]+([\\\\.,][0-9]{1,2})?\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\"  [text] [rg]=\\\"1\\\" [value]=\\\"hslaText?.a\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onAlphaInput($event)\\\" />\\n    </div>\\n\\n    <div class=\\\"box\\\">\\n      <div>V</div><div>A</div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 1\\\" class=\\\"type-policy\\\">\\n    <span class=\\\"type-policy-arrow\\\" (click)=\\\"onFormatToggle(-1)\\\"></span>\\n    <span class=\\\"type-policy-arrow\\\" (click)=\\\"onFormatToggle(1)\\\"></span>\\n  </div>\\n\\n  <div *ngIf=\\\"cpPresetColors?.length || cpAddColorButton\\\" class=\\\"preset-area\\\">\\n    <hr>\\n\\n    <div class=\\\"preset-label\\\">{{cpPresetLabel}}</div>\\n\\n    <div *ngIf=\\\"cpPresetColors?.length\\\" class=\\\"{{cpPresetColorsClass}}\\\">\\n      <div *ngFor=\\\"let color of cpPresetColors\\\" class=\\\"preset-color\\\" [style.backgroundColor]=\\\"color\\\" (click)=\\\"setColorFromString(color)\\\">\\n        <span *ngIf=\\\"cpAddColorButton\\\" class=\\\"{{cpRemoveColorButtonClass}}\\\" (click)=\\\"onRemovePresetColor($event, color)\\\"></span>\\n      </div>\\n    </div>\\n\\n    <div *ngIf=\\\"!cpPresetColors?.length && cpAddColorButton\\\" class=\\\"{{cpPresetEmptyMessageClass}}\\\">{{cpPresetEmptyMessage}}</div>\\n  </div>\\n\\n  <div *ngIf=\\\"cpOKButton || cpCancelButton\\\" class=\\\"button-area\\\">\\n    <button *ngIf=\\\"cpCancelButton\\\" type=\\\"button\\\" class=\\\"{{cpCancelButtonClass}}\\\" (click)=\\\"onCancelColor($event)\\\">{{cpCancelButtonText}}</button>\\n\\n    <button *ngIf=\\\"cpOKButton\\\" type=\\\"button\\\" class=\\\"{{cpOKButtonClass}}\\\" (click)=\\\"onAcceptColor($event)\\\">{{cpOKButtonText}}</button>\\n  </div>\\n\\n  <div class=\\\"extra-template\\\" *ngIf=\\\"cpExtraTemplate\\\">\\n    <ng-container *ngTemplateOutlet=\\\"cpExtraTemplate\\\"></ng-container>\\n  </div>\\n</div>\\n\", styles: [\".color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,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)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:\\\"x\\\";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\\n\"], dependencies: [{ kind: \"directive\", type: i2.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: TextDirective, selector: \"[text]\", inputs: [\"rg\", \"text\"], outputs: [\"newValue\"] }, { kind: \"directive\", type: SliderDirective, selector: \"[slider]\", inputs: [\"rgX\", \"rgY\", \"slider\"], outputs: [\"dragEnd\", \"dragStart\", \"newValue\"] }], encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'color-picker', encapsulation: ViewEncapsulation.None, template: \"<div #dialogPopup class=\\\"color-picker\\\" [class.open]=\\\"show\\\" [style.display]=\\\"!show ? 'none' : 'block'\\\" [style.visibility]=\\\"hidden ? 'hidden' : 'visible'\\\" [style.top.px]=\\\"top\\\" [style.left.px]=\\\"left\\\" [style.position]=\\\"position\\\" [style.height.px]=\\\"cpHeight\\\" [style.width.px]=\\\"cpWidth\\\" (click)=\\\"$event.stopPropagation()\\\">\\n  <div *ngIf=\\\"cpDialogDisplay === 'popup'\\\" [style.left]=\\\"cpArrowPosition\\\" class=\\\"arrow arrow-{{cpUsePosition}}\\\" [style.top.px]=\\\"arrowTop\\\"></div>\\n\\n  <div *ngIf=\\\"(cpColorMode ||\\u00A01) === 1\\\" class=\\\"saturation-lightness\\\" [slider] [rgX]=\\\"1\\\" [rgY]=\\\"1\\\" [style.background-color]=\\\"hueSliderColor\\\" (newValue)=\\\"onColorChange($event)\\\" (dragStart)=\\\"onDragStart('saturation-lightness')\\\" (dragEnd)=\\\"onDragEnd('saturation-lightness')\\\">\\n    <div class=\\\"cursor\\\" [style.top.px]=\\\"slider?.v\\\" [style.left.px]=\\\"slider?.s\\\"></div>\\n  </div>\\n\\n  <div class=\\\"hue-alpha box\\\">\\n    <div class=\\\"left\\\">\\n      <div class=\\\"selected-color-background\\\"></div>\\n\\n      <div class=\\\"selected-color\\\" [style.background-color]=\\\"selectedColor\\\" [style.cursor]=\\\"eyeDropperSupported && cpEyeDropper ? 'pointer' : null\\\" (click)=\\\"eyeDropperSupported && cpEyeDropper && onEyeDropper()\\\">\\n        <svg *ngIf=\\\"eyeDropperSupported && cpEyeDropper\\\" class=\\\"eyedropper-icon\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24px\\\" fill=\\\"#000000\\\"><path d=\\\"M0 0h24v24H0V0z\\\" fill=\\\"none\\\"/><path d=\\\"M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z\\\"/></svg>\\n      </div>\\n\\n      <button *ngIf=\\\"cpAddColorButton\\\" type=\\\"button\\\" class=\\\"{{cpAddColorButtonClass}}\\\" [disabled]=\\\"cpPresetColors && cpPresetColors.length >= cpMaxPresetColorsLength\\\" (click)=\\\"onAddPresetColor($event, selectedColor)\\\">\\n        {{cpAddColorButtonText}}\\n      </button>\\n    </div>\\n\\n    <div class=\\\"right\\\">\\n      <div *ngIf=\\\"cpAlphaChannel==='disabled'\\\" style=\\\"height: 16px;\\\"></div>\\n\\n      <div #hueSlider class=\\\"hue\\\" [slider] [rgX]=\\\"1\\\" [style.display]=\\\"(cpColorMode ||\\u00A01) === 1 ? 'block' : 'none'\\\" (newValue)=\\\"onHueChange($event)\\\" (dragStart)=\\\"onDragStart('hue')\\\" (dragEnd)=\\\"onDragEnd('hue')\\\">\\n        <div class=\\\"cursor\\\" [style.left.px]=\\\"slider?.h\\\"></div>\\n      </div>\\n\\n      <div #valueSlider class=\\\"value\\\" [slider] [rgX]=\\\"1\\\" [style.display]=\\\"(cpColorMode ||\\u00A01) === 2 ? 'block': 'none'\\\" (newValue)=\\\"onValueChange($event)\\\" (dragStart)=\\\"onDragStart('value')\\\" (dragEnd)=\\\"onDragEnd('value')\\\">\\n        <div class=\\\"cursor\\\" [style.right.px]=\\\"slider?.v\\\"></div>\\n      </div>\\n\\n      <div #alphaSlider class=\\\"alpha\\\" [slider] [rgX]=\\\"1\\\" [style.display]=\\\"cpAlphaChannel === 'disabled' ? 'none' : 'block'\\\" [style.background-color]=\\\"alphaSliderColor\\\" (newValue)=\\\"onAlphaChange($event)\\\" (dragStart)=\\\"onDragStart('alpha')\\\" (dragEnd)=\\\"onDragEnd('alpha')\\\">\\n        <div class=\\\"cursor\\\" [style.left.px]=\\\"slider?.a\\\"></div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 1\\\" class=\\\"cmyk-text\\\" [style.display]=\\\"format !== 3 ? 'none' : 'block'\\\">\\n    <div class=\\\"box\\\">\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"cmykText?.c\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onCyanInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"cmykText?.m\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onMagentaInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"cmykText?.y\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onYellowInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"cmykText?.k\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onBlackInput($event)\\\" />\\n      <input *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" type=\\\"number\\\" pattern=\\\"[0-9]+([\\\\.,][0-9]{1,2})?\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\" [text] [rg]=\\\"1\\\" [value]=\\\"cmykText?.a\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onAlphaInput($event)\\\" />\\n    </div>\\n\\n     <div class=\\\"box\\\">\\n      <div>C</div><div>M</div><div>Y</div><div>K</div><div *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" >A</div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 1 \\\" class=\\\"hsla-text\\\" [style.display]=\\\"format !== 2 ? 'none' : 'block'\\\">\\n    <div class=\\\"box\\\">\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"360\\\" [text] [rg]=\\\"360\\\" [value]=\\\"hslaText?.h\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onHueInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"hslaText?.s\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onSaturationInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"hslaText?.l\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onLightnessInput($event)\\\" />\\n      <input *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" type=\\\"number\\\" pattern=\\\"[0-9]+([\\\\.,][0-9]{1,2})?\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\" [text] [rg]=\\\"1\\\" [value]=\\\"hslaText?.a\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onAlphaInput($event)\\\" />\\n    </div>\\n\\n    <div class=\\\"box\\\">\\n      <div>H</div><div>S</div><div>L</div><div *ngIf=\\\"cpAlphaChannel!=='disabled'\\\">A</div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 1 \\\" [style.display]=\\\"format !== 1 ? 'none' : 'block'\\\" class=\\\"rgba-text\\\">\\n    <div class=\\\"box\\\">\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"255\\\" [text] [rg]=\\\"255\\\" [value]=\\\"rgbaText?.r\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onRedInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"255\\\" [text] [rg]=\\\"255\\\" [value]=\\\"rgbaText?.g\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onGreenInput($event)\\\" />\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"255\\\" [text] [rg]=\\\"255\\\" [value]=\\\"rgbaText?.b\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onBlueInput($event)\\\" />\\n      <input *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" type=\\\"number\\\" pattern=\\\"[0-9]+([\\\\.,][0-9]{1,2})?\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\" [text] [rg]=\\\"1\\\" [value]=\\\"rgbaText?.a\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onAlphaInput($event)\\\" />\\n    </div>\\n\\n    <div class=\\\"box\\\">\\n      <div>R</div><div>G</div><div>B</div><div *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" >A</div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 1\\\" class=\\\"hex-text\\\" [class.hex-alpha]=\\\"cpAlphaChannel==='forced'\\\"\\n    [style.display]=\\\"format !== 0 ? 'none' : 'block'\\\">\\n    <div class=\\\"box\\\">\\n      <input [text] [value]=\\\"hexText\\\" (blur)=\\\"onHexInput(null)\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onHexInput($event)\\\"/>\\n      <input *ngIf=\\\"cpAlphaChannel==='forced'\\\" type=\\\"number\\\" pattern=\\\"[0-9]+([\\\\.,][0-9]{1,2})?\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\" [text] [rg]=\\\"1\\\" [value]=\\\"hexAlpha\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onAlphaInput($event)\\\"/>\\n    </div>\\n\\n    <div class=\\\"box\\\">\\n      <div>Hex</div>\\n      <div *ngIf=\\\"cpAlphaChannel==='forced'\\\">A</div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 2\\\" class=\\\"value-text\\\">\\n    <div class=\\\"box\\\">\\n      <input type=\\\"number\\\" pattern=\\\"[0-9]*\\\" min=\\\"0\\\" max=\\\"100\\\" [text] [rg]=\\\"100\\\" [value]=\\\"hslaText?.l\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onValueInput($event)\\\" />\\n      <input *ngIf=\\\"cpAlphaChannel!=='disabled'\\\" type=\\\"number\\\" pattern=\\\"[0-9]+([\\\\.,][0-9]{1,2})?\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\"  [text] [rg]=\\\"1\\\" [value]=\\\"hslaText?.a\\\" (keyup.enter)=\\\"onAcceptColor($event)\\\" (newValue)=\\\"onAlphaInput($event)\\\" />\\n    </div>\\n\\n    <div class=\\\"box\\\">\\n      <div>V</div><div>A</div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"!cpDisableInput && (cpColorMode ||\\u00A01) === 1\\\" class=\\\"type-policy\\\">\\n    <span class=\\\"type-policy-arrow\\\" (click)=\\\"onFormatToggle(-1)\\\"></span>\\n    <span class=\\\"type-policy-arrow\\\" (click)=\\\"onFormatToggle(1)\\\"></span>\\n  </div>\\n\\n  <div *ngIf=\\\"cpPresetColors?.length || cpAddColorButton\\\" class=\\\"preset-area\\\">\\n    <hr>\\n\\n    <div class=\\\"preset-label\\\">{{cpPresetLabel}}</div>\\n\\n    <div *ngIf=\\\"cpPresetColors?.length\\\" class=\\\"{{cpPresetColorsClass}}\\\">\\n      <div *ngFor=\\\"let color of cpPresetColors\\\" class=\\\"preset-color\\\" [style.backgroundColor]=\\\"color\\\" (click)=\\\"setColorFromString(color)\\\">\\n        <span *ngIf=\\\"cpAddColorButton\\\" class=\\\"{{cpRemoveColorButtonClass}}\\\" (click)=\\\"onRemovePresetColor($event, color)\\\"></span>\\n      </div>\\n    </div>\\n\\n    <div *ngIf=\\\"!cpPresetColors?.length && cpAddColorButton\\\" class=\\\"{{cpPresetEmptyMessageClass}}\\\">{{cpPresetEmptyMessage}}</div>\\n  </div>\\n\\n  <div *ngIf=\\\"cpOKButton || cpCancelButton\\\" class=\\\"button-area\\\">\\n    <button *ngIf=\\\"cpCancelButton\\\" type=\\\"button\\\" class=\\\"{{cpCancelButtonClass}}\\\" (click)=\\\"onCancelColor($event)\\\">{{cpCancelButtonText}}</button>\\n\\n    <button *ngIf=\\\"cpOKButton\\\" type=\\\"button\\\" class=\\\"{{cpOKButtonClass}}\\\" (click)=\\\"onAcceptColor($event)\\\">{{cpOKButtonText}}</button>\\n  </div>\\n\\n  <div class=\\\"extra-template\\\" *ngIf=\\\"cpExtraTemplate\\\">\\n    <ng-container *ngTemplateOutlet=\\\"cpExtraTemplate\\\"></ng-container>\\n  </div>\\n</div>\\n\", styles: [\".color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,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)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:\\\"x\\\";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i0.NgZone }, { type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: Document, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }, { type: ColorPickerService }]; }, propDecorators: { dialogElement: [{\n                type: ViewChild,\n                args: ['dialogPopup', { static: true }]\n            }], hueSlider: [{\n                type: ViewChild,\n                args: ['hueSlider', { static: true }]\n            }], alphaSlider: [{\n                type: ViewChild,\n                args: ['alphaSlider', { static: true }]\n            }], handleEsc: [{\n                type: HostListener,\n                args: ['document:keyup.esc', ['$event']]\n            }], handleEnter: [{\n                type: HostListener,\n                args: ['document:keyup.enter', ['$event']]\n            }] } });\n\n// Caretaker note: we have still left the `typeof` condition in order to avoid\n// creating a breaking change for projects that still use the View Engine.\n// The `ngDevMode` is always available when Ivy is enabled.\n// This will be evaluated during compilation into `const NG_DEV_MODE = false`,\n// thus Terser will be able to tree-shake `console.warn` calls.\nconst NG_DEV_MODE = typeof ngDevMode === 'undefined' || !!ngDevMode;\nclass ColorPickerDirective {\n    constructor(injector, cfr, appRef, vcRef, elRef, _service) {\n        this.injector = injector;\n        this.cfr = cfr;\n        this.appRef = appRef;\n        this.vcRef = vcRef;\n        this.elRef = elRef;\n        this._service = _service;\n        this.dialogCreated = false;\n        this.ignoreChanges = false;\n        this.viewAttachedToAppRef = false;\n        this.cpWidth = '230px';\n        this.cpHeight = 'auto';\n        this.cpToggle = false;\n        this.cpDisabled = false;\n        this.cpIgnoredElements = [];\n        this.cpFallbackColor = '';\n        this.cpColorMode = 'color';\n        this.cpCmykEnabled = false;\n        this.cpOutputFormat = 'auto';\n        this.cpAlphaChannel = 'enabled';\n        this.cpDisableInput = false;\n        this.cpDialogDisplay = 'popup';\n        this.cpSaveClickOutside = true;\n        this.cpCloseClickOutside = true;\n        this.cpUseRootViewContainer = false;\n        this.cpPosition = 'auto';\n        this.cpPositionOffset = '0%';\n        this.cpPositionRelativeToArrow = false;\n        this.cpOKButton = false;\n        this.cpOKButtonText = 'OK';\n        this.cpOKButtonClass = 'cp-ok-button-class';\n        this.cpCancelButton = false;\n        this.cpCancelButtonText = 'Cancel';\n        this.cpCancelButtonClass = 'cp-cancel-button-class';\n        this.cpEyeDropper = false;\n        this.cpPresetLabel = 'Preset colors';\n        this.cpPresetColorsClass = 'cp-preset-colors-class';\n        this.cpMaxPresetColorsLength = 6;\n        this.cpPresetEmptyMessage = 'No colors added';\n        this.cpPresetEmptyMessageClass = 'preset-empty-message';\n        this.cpAddColorButton = false;\n        this.cpAddColorButtonText = 'Add color';\n        this.cpAddColorButtonClass = 'cp-add-color-button-class';\n        this.cpRemoveColorButtonClass = 'cp-remove-color-button-class';\n        this.cpArrowPosition = 0;\n        this.cpInputChange = new EventEmitter(true);\n        this.cpToggleChange = new EventEmitter(true);\n        this.cpSliderChange = new EventEmitter(true);\n        this.cpSliderDragEnd = new EventEmitter(true);\n        this.cpSliderDragStart = new EventEmitter(true);\n        this.colorPickerOpen = new EventEmitter(true);\n        this.colorPickerClose = new EventEmitter(true);\n        this.colorPickerCancel = new EventEmitter(true);\n        this.colorPickerSelect = new EventEmitter(true);\n        this.colorPickerChange = new EventEmitter(false);\n        this.cpCmykColorChange = new EventEmitter(true);\n        this.cpPresetColorsChange = new EventEmitter(true);\n    }\n    handleClick() {\n        this.inputFocus();\n    }\n    handleFocus() {\n        this.inputFocus();\n    }\n    handleInput(event) {\n        this.inputChange(event);\n    }\n    ngOnDestroy() {\n        if (this.cmpRef != null) {\n            if (this.viewAttachedToAppRef) {\n                this.appRef.detachView(this.cmpRef.hostView);\n            }\n            this.cmpRef.destroy();\n            this.cmpRef = null;\n            this.dialog = null;\n        }\n    }\n    ngOnChanges(changes) {\n        if (changes.cpToggle && !this.cpDisabled) {\n            if (changes.cpToggle.currentValue) {\n                this.openDialog();\n            }\n            else if (!changes.cpToggle.currentValue) {\n                this.closeDialog();\n            }\n        }\n        if (changes.colorPicker) {\n            if (this.dialog && !this.ignoreChanges) {\n                if (this.cpDialogDisplay === 'inline') {\n                    this.dialog.setInitialColor(changes.colorPicker.currentValue);\n                }\n                this.dialog.setColorFromString(changes.colorPicker.currentValue, false);\n                if (this.cpUseRootViewContainer && this.cpDialogDisplay !== 'inline') {\n                    this.cmpRef.changeDetectorRef.detectChanges();\n                }\n            }\n            this.ignoreChanges = false;\n        }\n        if (changes.cpPresetLabel || changes.cpPresetColors) {\n            if (this.dialog) {\n                this.dialog.setPresetConfig(this.cpPresetLabel, this.cpPresetColors);\n            }\n        }\n    }\n    openDialog() {\n        if (!this.dialogCreated) {\n            let vcRef = this.vcRef;\n            this.dialogCreated = true;\n            this.viewAttachedToAppRef = false;\n            if (this.cpUseRootViewContainer && this.cpDialogDisplay !== 'inline') {\n                const classOfRootComponent = this.appRef.componentTypes[0];\n                const appInstance = this.injector.get(classOfRootComponent, Injector.NULL);\n                if (appInstance !== Injector.NULL) {\n                    vcRef = appInstance.vcRef || appInstance.viewContainerRef || this.vcRef;\n                    if (NG_DEV_MODE && vcRef === this.vcRef) {\n                        console.warn('You are using cpUseRootViewContainer, ' +\n                            'but the root component is not exposing viewContainerRef!' +\n                            'Please expose it by adding \\'public vcRef: ViewContainerRef\\' to the constructor.');\n                    }\n                }\n                else {\n                    this.viewAttachedToAppRef = true;\n                }\n            }\n            const compFactory = this.cfr.resolveComponentFactory(ColorPickerComponent);\n            if (this.viewAttachedToAppRef) {\n                this.cmpRef = compFactory.create(this.injector);\n                this.appRef.attachView(this.cmpRef.hostView);\n                document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);\n            }\n            else {\n                const injector = Injector.create({\n                    providers: [],\n                    // We shouldn't use `vcRef.parentInjector` since it's been deprecated long time ago and might be removed\n                    // in newer Angular versions: https://github.com/angular/angular/pull/25174.\n                    parent: vcRef.injector,\n                });\n                this.cmpRef = vcRef.createComponent(compFactory, 0, injector, []);\n            }\n            this.cmpRef.instance.setupDialog(this, this.elRef, this.colorPicker, this.cpWidth, this.cpHeight, this.cpDialogDisplay, this.cpFallbackColor, this.cpColorMode, this.cpCmykEnabled, this.cpAlphaChannel, this.cpOutputFormat, this.cpDisableInput, this.cpIgnoredElements, this.cpSaveClickOutside, this.cpCloseClickOutside, this.cpUseRootViewContainer, this.cpPosition, this.cpPositionOffset, this.cpPositionRelativeToArrow, this.cpPresetLabel, this.cpPresetColors, this.cpPresetColorsClass, this.cpMaxPresetColorsLength, this.cpPresetEmptyMessage, this.cpPresetEmptyMessageClass, this.cpOKButton, this.cpOKButtonClass, this.cpOKButtonText, this.cpCancelButton, this.cpCancelButtonClass, this.cpCancelButtonText, this.cpAddColorButton, this.cpAddColorButtonClass, this.cpAddColorButtonText, this.cpRemoveColorButtonClass, this.cpEyeDropper, this.elRef, this.cpExtraTemplate);\n            this.dialog = this.cmpRef.instance;\n            if (this.vcRef !== vcRef) {\n                this.cmpRef.changeDetectorRef.detectChanges();\n            }\n        }\n        else if (this.dialog) {\n            this.dialog.openDialog(this.colorPicker);\n        }\n    }\n    closeDialog() {\n        if (this.dialog && this.cpDialogDisplay === 'popup') {\n            this.dialog.closeDialog();\n        }\n    }\n    cmykChanged(value) {\n        this.cpCmykColorChange.emit(value);\n    }\n    stateChanged(state) {\n        this.cpToggleChange.emit(state);\n        if (state) {\n            this.colorPickerOpen.emit(this.colorPicker);\n        }\n        else {\n            this.colorPickerClose.emit(this.colorPicker);\n        }\n    }\n    colorChanged(value, ignore = true) {\n        this.ignoreChanges = ignore;\n        this.colorPickerChange.emit(value);\n    }\n    colorSelected(value) {\n        this.colorPickerSelect.emit(value);\n    }\n    colorCanceled() {\n        this.colorPickerCancel.emit();\n    }\n    inputFocus() {\n        const element = this.elRef.nativeElement;\n        const ignored = this.cpIgnoredElements.filter((item) => item === element);\n        if (!this.cpDisabled && !ignored.length) {\n            if (typeof document !== 'undefined' && element === document.activeElement) {\n                this.openDialog();\n            }\n            else if (!this.dialog || !this.dialog.show) {\n                this.openDialog();\n            }\n            else {\n                this.closeDialog();\n            }\n        }\n    }\n    inputChange(event) {\n        if (this.dialog) {\n            this.dialog.setColorFromString(event.target.value, true);\n        }\n        else {\n            this.colorPicker = event.target.value;\n            this.colorPickerChange.emit(this.colorPicker);\n        }\n    }\n    inputChanged(event) {\n        this.cpInputChange.emit(event);\n    }\n    sliderChanged(event) {\n        this.cpSliderChange.emit(event);\n    }\n    sliderDragEnd(event) {\n        this.cpSliderDragEnd.emit(event);\n    }\n    sliderDragStart(event) {\n        this.cpSliderDragStart.emit(event);\n    }\n    presetColorsChanged(value) {\n        this.cpPresetColorsChange.emit(value);\n    }\n}\nColorPickerDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerDirective, deps: [{ token: i0.Injector }, { token: i0.ComponentFactoryResolver }, { token: i0.ApplicationRef }, { token: i0.ViewContainerRef }, { token: i0.ElementRef }, { token: ColorPickerService }], target: i0.ɵɵFactoryTarget.Directive });\nColorPickerDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.2.0\", type: ColorPickerDirective, selector: \"[colorPicker]\", inputs: { colorPicker: \"colorPicker\", cpWidth: \"cpWidth\", cpHeight: \"cpHeight\", cpToggle: \"cpToggle\", cpDisabled: \"cpDisabled\", cpIgnoredElements: \"cpIgnoredElements\", cpFallbackColor: \"cpFallbackColor\", cpColorMode: \"cpColorMode\", cpCmykEnabled: \"cpCmykEnabled\", cpOutputFormat: \"cpOutputFormat\", cpAlphaChannel: \"cpAlphaChannel\", cpDisableInput: \"cpDisableInput\", cpDialogDisplay: \"cpDialogDisplay\", cpSaveClickOutside: \"cpSaveClickOutside\", cpCloseClickOutside: \"cpCloseClickOutside\", cpUseRootViewContainer: \"cpUseRootViewContainer\", cpPosition: \"cpPosition\", cpPositionOffset: \"cpPositionOffset\", cpPositionRelativeToArrow: \"cpPositionRelativeToArrow\", cpOKButton: \"cpOKButton\", cpOKButtonText: \"cpOKButtonText\", cpOKButtonClass: \"cpOKButtonClass\", cpCancelButton: \"cpCancelButton\", cpCancelButtonText: \"cpCancelButtonText\", cpCancelButtonClass: \"cpCancelButtonClass\", cpEyeDropper: \"cpEyeDropper\", cpPresetLabel: \"cpPresetLabel\", cpPresetColors: \"cpPresetColors\", cpPresetColorsClass: \"cpPresetColorsClass\", cpMaxPresetColorsLength: \"cpMaxPresetColorsLength\", cpPresetEmptyMessage: \"cpPresetEmptyMessage\", cpPresetEmptyMessageClass: \"cpPresetEmptyMessageClass\", cpAddColorButton: \"cpAddColorButton\", cpAddColorButtonText: \"cpAddColorButtonText\", cpAddColorButtonClass: \"cpAddColorButtonClass\", cpRemoveColorButtonClass: \"cpRemoveColorButtonClass\", cpArrowPosition: \"cpArrowPosition\", cpExtraTemplate: \"cpExtraTemplate\" }, outputs: { cpInputChange: \"cpInputChange\", cpToggleChange: \"cpToggleChange\", cpSliderChange: \"cpSliderChange\", cpSliderDragEnd: \"cpSliderDragEnd\", cpSliderDragStart: \"cpSliderDragStart\", colorPickerOpen: \"colorPickerOpen\", colorPickerClose: \"colorPickerClose\", colorPickerCancel: \"colorPickerCancel\", colorPickerSelect: \"colorPickerSelect\", colorPickerChange: \"colorPickerChange\", cpCmykColorChange: \"cpCmykColorChange\", cpPresetColorsChange: \"cpPresetColorsChange\" }, host: { listeners: { \"click\": \"handleClick()\", \"focus\": \"handleFocus()\", \"input\": \"handleInput($event)\" } }, exportAs: [\"ngxColorPicker\"], usesOnChanges: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[colorPicker]',\n                    exportAs: 'ngxColorPicker'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i0.ComponentFactoryResolver }, { type: i0.ApplicationRef }, { type: i0.ViewContainerRef }, { type: i0.ElementRef }, { type: ColorPickerService }]; }, propDecorators: { colorPicker: [{\n                type: Input\n            }], cpWidth: [{\n                type: Input\n            }], cpHeight: [{\n                type: Input\n            }], cpToggle: [{\n                type: Input\n            }], cpDisabled: [{\n                type: Input\n            }], cpIgnoredElements: [{\n                type: Input\n            }], cpFallbackColor: [{\n                type: Input\n            }], cpColorMode: [{\n                type: Input\n            }], cpCmykEnabled: [{\n                type: Input\n            }], cpOutputFormat: [{\n                type: Input\n            }], cpAlphaChannel: [{\n                type: Input\n            }], cpDisableInput: [{\n                type: Input\n            }], cpDialogDisplay: [{\n                type: Input\n            }], cpSaveClickOutside: [{\n                type: Input\n            }], cpCloseClickOutside: [{\n                type: Input\n            }], cpUseRootViewContainer: [{\n                type: Input\n            }], cpPosition: [{\n                type: Input\n            }], cpPositionOffset: [{\n                type: Input\n            }], cpPositionRelativeToArrow: [{\n                type: Input\n            }], cpOKButton: [{\n                type: Input\n            }], cpOKButtonText: [{\n                type: Input\n            }], cpOKButtonClass: [{\n                type: Input\n            }], cpCancelButton: [{\n                type: Input\n            }], cpCancelButtonText: [{\n                type: Input\n            }], cpCancelButtonClass: [{\n                type: Input\n            }], cpEyeDropper: [{\n                type: Input\n            }], cpPresetLabel: [{\n                type: Input\n            }], cpPresetColors: [{\n                type: Input\n            }], cpPresetColorsClass: [{\n                type: Input\n            }], cpMaxPresetColorsLength: [{\n                type: Input\n            }], cpPresetEmptyMessage: [{\n                type: Input\n            }], cpPresetEmptyMessageClass: [{\n                type: Input\n            }], cpAddColorButton: [{\n                type: Input\n            }], cpAddColorButtonText: [{\n                type: Input\n            }], cpAddColorButtonClass: [{\n                type: Input\n            }], cpRemoveColorButtonClass: [{\n                type: Input\n            }], cpArrowPosition: [{\n                type: Input\n            }], cpExtraTemplate: [{\n                type: Input\n            }], cpInputChange: [{\n                type: Output\n            }], cpToggleChange: [{\n                type: Output\n            }], cpSliderChange: [{\n                type: Output\n            }], cpSliderDragEnd: [{\n                type: Output\n            }], cpSliderDragStart: [{\n                type: Output\n            }], colorPickerOpen: [{\n                type: Output\n            }], colorPickerClose: [{\n                type: Output\n            }], colorPickerCancel: [{\n                type: Output\n            }], colorPickerSelect: [{\n                type: Output\n            }], colorPickerChange: [{\n                type: Output\n            }], cpCmykColorChange: [{\n                type: Output\n            }], cpPresetColorsChange: [{\n                type: Output\n            }], handleClick: [{\n                type: HostListener,\n                args: ['click']\n            }], handleFocus: [{\n                type: HostListener,\n                args: ['focus']\n            }], handleInput: [{\n                type: HostListener,\n                args: ['input', ['$event']]\n            }] } });\n\nclass ColorPickerModule {\n}\nColorPickerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nColorPickerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerModule, declarations: [ColorPickerComponent, ColorPickerDirective, TextDirective, SliderDirective], imports: [CommonModule], exports: [ColorPickerDirective] });\nColorPickerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerModule, providers: [ColorPickerService], imports: [CommonModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.0\", ngImport: i0, type: ColorPickerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    exports: [ColorPickerDirective],\n                    providers: [ColorPickerService],\n                    declarations: [ColorPickerComponent, ColorPickerDirective, TextDirective, SliderDirective],\n                    entryComponents: [ColorPickerComponent]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { Cmyk, ColorPickerComponent, ColorPickerDirective, ColorPickerModule, ColorPickerService, Hsla, Hsva, Rgba, SliderDirective, TextDirective };\n"],"names":["CommonModule","RouterModule","IonicModule","FullCalendarModule","calendarRoutes","CalendarPageComponent","FullCalendarService","AppointmentModalComponent","ReactiveFormsModule","ColorPickerModule","ViewNamePipe","CalendarModule","imports","forChild","declarations","dayGridPlugin","timeGridPlugin","googleCalendarPlugin","listPlugin","interactionPlugin","getOptions","initialView","plugins","height","window","innerHeight","headerToolbar","themeSystem","eventTimeFormat","hour","minute","second","meridiem","hour12","slotLabelFormat","firstDay","weekends","editable","selectable","selectMirror","dayMaxEvents","nowIndicator","dayHeaderContent","a","html","isToday","date","toLocaleDateString","weekday","day","views","dayGridMonth","titleFormat","agendaThreeDay","type","duration","days","buttonText","loading","isLoading","console","log","allDayText","FormArray","FormControl","FormGroup","Validators","ModalController","parseISO","getDate","getMonth","getYear","i0","ctx_r18","tmp_b_0","ctx_r23","ctx_r36","constructor","modalCtrl","calendars","value","_calendars","userCalendars","ngOnInit","form","_id","undefined","title","compose","required","start","Date","end","calendarIds","minLength","allDay","description","data","patchValue","forEach","cal","get","push","editModeEnabled","actions","payload","_onCheckboxChange","detail","checked","startDate","endDate","startDay","endDay","startMonth","endMonth","startYear","endYear","formatDate","el","closest","dismiss","popover","confirm","e","checkArray","clear","target","Array","isArray","element","selectors","inputs","decls","vars","consts","template","ctx","CalendarOptions","EventMountArg","FullCalendarComponent","firstValueFrom","Observable","AlertController","PopoverController","getInjectionToken","TOKENS_NAME","colorPicker","ctx_r22","calendar","color","_r12","ctx_r27","name","_loaderService","_fullCalendarService","_modalCtrl","_alertService","_popoverService","calendarsData$","uiConfig$","initalized$","viewTitle$","currentView","eventDrop","handleEvent","eventResize","eventClick","jsEvent","preventDefault","eventsSet","handleEventsSet","select","role","_openModal","handleDateSelect","eventDidMount","handleEventDidMount","businessHours","daysOfWeek","startTime","endTime","ionViewWillEnter","loadUIConfigFromDatabase","ngAfterViewInit","loadCalendarsFromDatabase","initService","calendarCmp","calendarAPI","gotoDate","setStatus","updateCalendar","click","_confirmBefore","deleteCalendar","isVisible","updateCalendarsVisibility","createNewCalendar","fullCalendarOptions","next","view","currentEnd","loadEventsPart","prev","currentStart","today","changeView","arg","modal","create","component","componentProps","present","onDidDismiss","message","cb","ionAlert","header","buttons","text","getTop","APP_LOADER_SERVICE","viewQuery","BehaviorSubject","v4","uuidv4","lightenDarkenColor","col","amt","usePound","slice","num","parseInt","r","b","g","toString","ROOT_DB_COLLECTION","_confirmCtrl","_datastoreService","_uiConfig$","asObservable","_loadedEventDataParts$","_calendarsData$","_fullCalendarComp$","_initalized$","_viewTitle$","calendarApi","getApi","Error","uiConfig","getData","defaultCalendar","className","durationEditable","calendarComponent","calendarsData","Promise","resolve","setTimeout","render","loadingEventsPromises","loadCeramicEvents","some","loadEventFromViewStartEnd","loadGoogleEvents","filter","length","googleCalendar","reject","setEventSource","success","googleEvent","failure","all","getFullYear","months","i","events","map","key","_getEventsFromDatabase","then","result","reduce","acc","cur","concat","datas","id","err","source","addEventSource","ionAlertCreate","placeholder","values","valuesFiltered","Object","entries","newCalendar","googleCalendarId","saveData","index","findIndex","splice","getEvents","event","extendedProps","includes","setProp","getCurrentData","viewApi","_isEventVisible","style","display","defaultCal","find","default","_setEventColor","_extractProp","props","eventApi","schedule","url","_context","_def","_instance","response","revert","year","month","_deleteObject","remove","eventUpdated","_saveEvent","getEventById","iterator","setStart","setEnd","setAllDay","setExtendedProp","addEvent","calendarsConfig","c","eventsApi","_openConfirm","ops","alert","loadedDataParts","eventsParts","eventSource","getEventSourceById","scheduleId","filtredEvents","eventStyle","defaultColor","_hexToRgb","lum","textColor","backgroundColor","borderLeftColor","internalEventSource","_raw","hex","bigint","replace","APP_DATASTORE_SERVICE","factory","path","pathMatch","transform","pure","requiredArgs","args","TypeError","toInteger","dirtyNumber","NaN","number","Number","isNaN","Math","ceil","floor","daysInWeek","daysInYear","maxTime","pow","millisecondsInMinute","millisecondsInHour","millisecondsInSecond","minTime","minutesInHour","monthsInQuarter","monthsInYear","quartersInYear","secondsInHour","secondsInMinute","secondsInDay","secondsInWeek","secondsInYear","secondsInMonth","secondsInQuarter","toDate","dirtyDate","arguments","dayOfMonth","argument","options","_options$additionalDi","additionalDigits","RangeError","prototype","call","dateStrings","splitDateString","parseYearResult","parseYear","parseDate","restDateString","getTime","timestamp","time","offset","parseTime","timezone","parseTimezone","setFullYear","getUTCFullYear","getUTCMonth","getUTCDate","setHours","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","patterns","dateTimeDelimiter","timeZoneDelimiter","dateRegex","timeRegex","timezoneRegex","dateString","array","split","timeString","test","substr","token","exec","regex","RegExp","captures","match","century","isWeekDate","dayOfYear","parseDateUnit","week","dayOfWeek","validateWeekDate","dayOfISOWeekYear","validateDate","validateDayOfYearDate","setUTCFullYear","max","hours","parseTimeUnit","minutes","seconds","validateTime","parseFloat","timezoneString","sign","validateTimezone","isoWeekYear","fourthOfJanuaryDay","getUTCDay","diff","setUTCDate","daysInMonths","isLeapYearIndex","_year","_hours","_typeof","obj","Symbol","argStr","warn","stack","module","exports","equal","keys","flags","valueOf","hasOwnProperty","Component","n","createElement","t","toChildArray","Fragment","u","o","hydrate","createContext","l","createRef","cloneElement","f","useState","useId","s","useReducer","h","useEffect","v","useLayoutEffect","d","useRef","p","useImperativeHandle","m","useMemo","y","useCallback","_","useContext","useDebugValue","S","C","E","w","x","ref","current","shouldComponentUpdate","displayName","isReactComponent","__f","isPureReactComponent","state","R","__b","N","for","k","$$typeof","A","O","count","only","toArray","T","__e","__","__c","__k","I","unmount","L","__H","__P","U","__v","insertBefore","__d","D","__u","F","__a","M","V","__R","__h","__O","setState","pop","forceUpdate","componentWillUnmount","document","fallback","children","W","delete","revealOrder","size","P","getChildContext","context","j","nodeType","parentNode","childNodes","appendChild","removeChild","indexOf","z","containerInfo","Map","reverse","set","componentDidUpdate","componentDidMount","B","H","Z","Y","$","q","G","textContent","J","defineProperty","configurable","writable","K","Q","X","cancelBubble","nn","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","tn","en","enumerable","class","rn","vnode","toLowerCase","multiple","selected","defaultValue","un","__r","on","diffed","ln","ReactCurrentDispatcher","readContext","__n","cn","fn","bind","an","sn","apply","hn","vn","base","dn","pn","mn","yn","_n","bn","Sn","gn","Cn","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","version","Children","unmountComponentAtNode","createPortal","createFactory","isValidElement","findDOMNode","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","defaultProps","debounceRendering","sort","shift","ownerSVGElement","nextSibling","setProperty","cssText","addEventListener","removeEventListener","removeAttribute","setAttribute","contextType","__E","sub","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","innerHTML","firstChild","Consumer","Provider","getDerivedStateFromError","componentDidCatch","__V","__N","every","__m","requestAnimationFrame","clearTimeout","cancelAnimationFrame","useErrorBoundary","deepEqual","ViewEncapsulation","Input","NgModule","Calendar","deepCopy","input","mapHash","shallowCopy","val","func","output","OPTION_IS_DEEP","footerToolbar","eventSources","resources","optionSnapshot","deepChangeDetection","optionVal","optionName","nativeElement","ngDoCheck","newOptions","newProcessedOptions","anyChanges","oldOptionNames","pauseRendering","resetOptions","ngAfterContentChecked","resumeRendering","ngOnDestroy","destroy","ɵfac","ElementRef","ɵcmp","ɵmod","ɵinj","injectStyles","globalLocales","mergeProps","Theme","ViewContextType","ContentContainer","buildViewClassNames","greatestDurationDenominator","createDuration","BASE_OPTION_DEFAULTS","formatWithOrdinals","DelayedRunner","createFormatter","diffWholeDays","memoize","buildBuildPluginHooks","memoizeObjArg","isPropsEqual","Emitter","getInitialDate","rangeContainsMarker","initEventSources","createEmptyEventStore","reduceCurrentDate","reduceEventSources","reduceEventStore","computeEventSourcesLoading","reduceEventSourcesNewTimeZone","rezoneEventStoreDates","mergeRawOptions","globalPlugins","BASE_OPTION_REFINERS","CALENDAR_LISTENER_REFINERS","CALENDAR_OPTION_REFINERS","COMPLEX_OPTION_COMPARATORS","VIEW_OPTION_REFINERS","DateEnv","DateProfileGenerator","createEventUi","parseBusinessHours","BaseComponent","setRef","Interaction","getElSeg","elementClosest","EventImpl","listenBySelector","listenToHoverBySelector","buildViewContext","getUniqueDomId","parseInteractionSettings","interactionSettingsStore","a0","getNow","a1","CalendarImpl","a2","a3","CalendarRoot","a4","RenderId","a5","isArraysEqual","a6","applyStyleProp","a7","sliceEventStore","a9","JsonRequestError","a8","createPlugin","css_248z","MINIMAL_RAW_EN_LOCALE","code","dow","doy","direction","prevYear","nextYear","list","weekText","weekTextLong","closeHint","timeHint","eventHint","moreLinkText","noEventsText","RAW_EN_LOCALE","assign","buttonHints","unit","viewHint","navLinkHint","moreLinkHint","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","codes","raw","queryRawLocale","parts","toLocaleLowerCase","simpleId","join","merged","simpleNumberFormat","Intl","NumberFormat","StandardTheme","classes","root","tableCellShaded","buttonGroup","button","buttonActive","baseIconClass","iconClasses","close","rtlIconClasses","iconOverrideOption","iconOverrideCustomButtonOption","iconOverridePrefix","compileViewDefs","defaultConfigs","overrideConfigs","hash","viewType","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","parseViewConfigs","parseViewConfig","content","createViewHookComponent","viewProps","elTag","elClasses","viewSpec","renderProps","nextDayThreshold","generatorName","generator","classNameGenerator","classNames","didMount","willUnmount","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","buttonTextKey","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","JSON","stringify","res","reduceViewType","action","reduceDynamicOptionOverrides","rawOptionValue","reduceDateProfile","currentDateProfile","currentDate","dateProfileGenerator","dp","build","dateMarker","buildPrev","isValid","buildNext","reduceDateSelection","currentSelection","selection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","affectedEvents","mutatedEvents","isEvent","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptions","calendarOptionOverrides","theme","viewSpecs","parseToolbar","footer","sectionStrHash","sectionWidgets","viewsWithButtons","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","isRtl","calendarCustomButtons","customButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonName","customButtonProps","buttonClick","buttonIcon","ev","getCustomButtonIconClass","getIconClass","hint","textFallback","prevOrNext","navUnit","ViewImpl","dateEnv","viewTitle","activeStart","dateProfile","activeRange","activeEnd","currentRange","getOption","TaskRunner","runTaskOption","drainedOption","queue","delayedRunner","drain","request","task","delay","pause","scope","resume","force","completedTasks","runTask","drained","buildTitle","viewOptions","range","currentRangeUnit","formatRange","buildTitleFormat","isEndExclusive","isRangeAllDay","defaultSeparator","titleRangeSeparator","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildPluginHooks","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","emitter","actionRunner","_handleAction","updateData","currentCalendarOptionsInput","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","currentCalendarOptionsRefiners","dispatch","optionsData","currentViewType","pluginHooks","currentViewData","currentDataManager","setThisContext","setOptions","calendarContext","callback","contextInit","initialState","eventUiBases","eventStore","renderableEventStore","dateSelection","eventSelection","eventDrag","selectionConfig","contextAndState","reducer","reducers","computeIsLoading","trigger","append","isEventsLoading","progressiveEventRendering","eventUiSingleBase","eventUiBySource","defs","newState","wasLoading","onAction","oldData","changeHandlers","optionChangeHandlers","oldCalendarOptions","newCalendarOptions","timeZone","onData","refinedOptions","availableLocaleData","extra","processRawCalendarOptions","warnUnknownOptions","locale","weekNumberCalculation","defaultRangeSeparator","toolbarConfig","availableRawLocales","locales","refiners","listenerRefiners","optionRefiners","refined","currentRaw","currentRefined","processRawViewOptions","dateProfileGeneratorClass","usesMinMaxTime","slotMinTime","slotMaxTime","showNonCurrentDates","dayCount","dateAlignment","dateIncrement","hiddenDays","nowInput","now","validRangeInput","validRange","visibleRangeInput","visibleRange","monthMode","fixedWeekCount","explicitLocale","calendarSystem","namedTimeZoneImpl","namedTimeZonedImpl","cmdFormatter","ThemeClass","themeClasses","DateProfileGeneratorClass","ui","eventDefs","defId","def","sourceId","eventDisplay","startEditable","eventStartEditable","eventDurationEditable","constraint","eventConstraint","overlap","eventOverlap","allow","eventAllow","eventBackgroundColor","borderColor","eventBorderColor","eventTextColor","eventColor","selectConstraint","selectOverlap","selectAllow","isLoadingFunc","isLoadingFuncs","viewName","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widget","titleId","isPressed","activeButton","isDisabled","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","getClass","disabled","onClick","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","center","left","right","renderSection","ViewContainer","availableWidth","handleEl","elRef","updateAvailableWidth","handleResize","aspectRatio","liquid","paddingBottom","labeledById","addResizeHandler","removeResizeHandler","offsetWidth","EventClicking","settings","handleSegClick","segEl","seg","isValidSegDownEl","hasUrlContainer","querySelector","href","eventRange","instance","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","registerInteractiveComponent","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","componentInteractions","interactions","TheInteractionClass","uid","unregisterInteractiveComponent","listeners","listener","resizeRunner","handleWindowResize","windowResizeDelay","toolbarProps","viewVGrow","viewHeight","viewAspectRatio","isHeightAuto","forPrint","contentHeight","viewContext","renderView","buildAppendContent","calendarInteractions","CalendarInteractionClass","propSetHandlers","propName","prevProps","interaction","viewContainerAppends","transformers","viewPropsTransformers","transformer","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","tryDrain","handleData","currentData","rerenderDelay","handleRenderRequest","setClassNames","setHeight","wasRendering","updateSize","batchRendering","classList","add","dateInput","formatter","dateMeta","createMarkerMeta","format","marker","forcedTzo","startInput","endInput","startMeta","endMeta","forcedStartTzo","forcedEndTzo","sliceEvents","fg","preact","runBeforeFlush","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs","_props","old","css","head","getElementsByTagName","styleSheet","isRunning","isDirty","pauseDepths","timeoutId","isPaused","depth","propObjs","complexPropsMap","dest","complexObjs","unshift","filterHash","filtered","newHash","arrayToHash","item","hashValuesToArray","obj0","obj1","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","removeExact","exactVal","removeCnt","equalityFunc","len","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","removeElement","selector","documentElement","contains","elementMatches","parentElement","method","matches","matchesSelector","msMatchesSelector","findElements","container","containers","HTMLElement","allMatches","querySelectorAll","findDirectChildren","parent","parents","childNode","PIXEL_PROP_RE","applyStyle","getEventTargetViaRoot","_a","_b","composedPath","getElRoot","getRootNode","guid$1","buildDelegationHandler","handler","matchedChild","eventType","attachedHandler","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","createAriaClickAttrs","createAriaKeyboardAttrs","tabIndex","onKeyDown","guidNumber","guid","String","disableCursor","body","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","charAt","field","substring","order","compareByFieldSpecs","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","fallbackText","str","compareNumbers","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","getBoundingClientRect","width","premiumReleaseDate","deps","eventRefiners","eventDefMemberAdders","eventSourceRefiners","isDraggableTransformers","eventDragMutationMassagers","eventDefMutationAppliers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","isPropsValid","externalDefTransforms","eventDropTransformers","eventSourceDefs","recurringTypes","elementDraggingImpl","scrollGridImpl","pluginDefs","globalDefs","currentPluginIds","hooks","addDefs","pluginName","currentId","combineHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","compareOptionalDates","date0","date1","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","round","milliseconds","diffWholeWeeks","timeAsMs","startOfHour","startOfMinute","startOfSecond","weekOfYear","weekOfGivenYear","nextW","min","firstWeekStart","firstWeekOffset","dayStart","fwd","fwdlw","dateToLocalArray","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","UTC","isValidDate","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","getMarkerYear","getMarkerMonth","getMarkerDay","arrayToMarker","arr","markerToArray","INTERNAL_UNITS","PARSE_RE","parseString","parseObject","millisecond","ms","weeks","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","ISO_RE","parse","isTimeUnspecified","isNamedTimeZone","canComputeOffset","Boolean","weekDow","weekDoy","weekNumberFunc","createMarker","meta","createNowMarker","timestampToMarker","subtract","addYears","addMonths","diffWholeYears","diffWholeMonths","greatestWholeUnit","countDurationsBetween","startOf","startOfYear","startOfMonth","startOfWeek","computeWeekNumber","dateOptions","offsetForMarker","formatIso","extraOptions","omitTimeZoneOffset","omitTime","timestampToArray","getTimezoneOffset","offsetForArray","setIconOverride","iconOverrideHash","iconClassesCopy","applyIconOverridePrefix","prefix","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","buildNativeFormattingFunc","sanitizeSettings","normalFormat","DateTimeFormat","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","tzoStr","replaced","ca","biggestUnit","partialOptions","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","FuncFormatter","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","defaultAllDayEventDuration","defaultTimedEventDuration","scrollTime","scrollTimeReset","dayPopoverFormat","slotDuration","snapDuration","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","viewClassNames","viewDidMount","viewWillUnmount","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","lazyFetching","startParam","endParam","timeZoneParam","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","longPressDelay","eventDragMinDistance","expandRows","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","initialDate","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","defaultAllDay","eventSourceFailure","eventSourceSuccess","eventClassNames","eventContent","eventWillUnmount","droppable","unselectCancel","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","selectMinDistance","selectLongPressDelay","eventLongPressDelay","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","eventInteractive","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","handleCustomRendering","customRenderingMetaMap","datesSet","eventAdd","eventChange","eventRemove","windowResize","eventMouseEnter","eventMouseLeave","unselect","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","initialEvents","isMaybeObjectsEqual","optionSets","refineProps","ScrollResponder","execFunc","handleScrollRequest","queuedRequest","fireInitialScroll","detach","off","update","isDatesNew","createScrollResponder","nextProps","nextState","debug","propEquality","stateEquality","safeSetState","addPropsEquality","addStateEquality","ContentInjector","currentDomNodes","queuedDomNodes","attrs","buildElAttrs","innerContent","hasCustomRenderingHandler","customContent","domNodes","applyQueueudDomNodes","triggerCustomRendering","isActive","customRenderingMeta","containerEl","generatorMeta","newNode","elStyle","elAttrs","extraClassNames","InnerContent","InnerContentInjector","generatedClassNames","generateClassNames","renderId","containerComponent","parentProps","parseRange","invertRanges","ranges","constraintRange","invertedRanges","dateRange","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","constrainMarkerToRange","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","endTimeMS","isMultiDayRange","diffDates","largeUnit","initialDateInput","nowDate","initHiddenDays","forceToValid","prevDate","nextDate","currentInfo","renderRange","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","createEventInstance","instanceId","parseRecurring","parsed","allDayGuess","typeData","typeId","expandRecurring","framingRange","instances","recurringDef","starts","expandRecurringRanges","eventDef","typeDef","markers","expand","EVENT_NON_DATE_REFINERS","groupId","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","parseEvent","allowOpenRange","buildEventRefiners","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","EVENT_UI_REFINERS","publicId","memberAdder","freeze","startMarker","endMarker","parseEvents","rawEvents","rawEvent","tuple","eventTupleToStore","getRelevantEvents","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EMPTY_EVENT_UI","constraints","allows","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_SOURCE_REFINERS","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","isFetching","latestFetchId","fetchRange","sourceDefId","parseMeta","addSources","parseInitialSources","sources","removeSource","fetchDirtySources","fetchSourcesByIds","sourceIds","excludeStaticSources","isRefetch","receiveResponse","fetchId","eventSourceHash","sourceHash","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","error","rawSources","rawSource","ignoreRange","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","oldDateEnv","newDateEnv","excludeInstances","removals","handlers","thisContext","addToHash","removeFromHash","attachedHandlers","optionHandler","hasHandlers","DEF_DEFAULTS","refineInputs","rawDefs","rawDef","eventSourceDef$2","successCallback","arrayEventSourcePlugin","triggerDateSelect","pev","buildDateSpanApiWithContext","origEvent","triggerDateUnselect","dateSpan","buildDateSpanApi","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","compileEventUis","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","standardProps","startDelta","endDelta","copy","applier","eventInstance","forceAllDay","clearEnd","datesDelta","EventSourceImpl","refetch","mutate","instanceRange","granularity","maintainDuration","setDates","moveStart","deltaInput","delta","moveEnd","moveDates","formatInput","relevantEvents","oldEvent","relatedEvents","buildEventApis","asStore","eventApiToStore","startStr","endStr","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRange","bg","hasBgRendering","setElSeg","fcSeg","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","computeSegDraggable","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","segRange","isPast","isFuture","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildRangeApi","buildRangeApiWithTimeZone","fabricateEventRange","unpromisify","isResolved","wrappedSuccess","wrappedFailure","eventSourceDef$1","errorCallback","funcEventSourcePlugin","requestJson","params","toUpperCase","fetchOptions","URLSearchParams","headers","fetchRes","ok","parsedResponse","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputFound","unfoundSource","newInput","handleDateProfile","handleEventStore","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","top","div","possible","offsetHeight","handleBeforePrint","handleAfterPrint","isHitComboAllowed","useEventCenter","interactionSettingsToStore","setOption","getAvailableLocaleCodes","handlerName","dateOrRange","zoomTo","spec","getUnitViewSpec","viewTypes","zonedDateInput","incrementDate","dateOrObj","selectionInput","eventInput","sourceInput","triggerEventAdd","sourceApi","newEventApi","removeAllEvents","getEventSources","sourceApis","internalId","removeAllEventSources","refetchEvents","scrollToTime","timeInput","pointInsideRect","point","rect","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventResizes","info","buildEventUiForKey","keyInfo","buildEventUi","dateSpans","getKeysForDateSpan","getKeysForEventDef","splitStores","splitHashes","splitStates","affectedStores","mutatedKeysByDefId","mutatedStores","populate","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isOther","getDayClassNames","getSlotClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","clientHeight","clientWidth","computeEdges","getPadding","computedStyle","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeClippedClientRect","clippingParents","getClippingParents","clippingParent","intersection","overflowY","overflowX","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","DateComponent","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidDateDownEl","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","groupIntersectingEntries","merges","filteredMerges","hungryMerge","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraRenderProps","colSpan","extraDataAttrs","InnerContainer","isSticky","WEEKDAY_FORMAT","TableDowCell","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","eventRanges","sliceEventRange","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","colProps","sanitizeShrinkWidth","hasShrinkWidth","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","EventContainer","timeText","disableDragging","disableResizing","isDateSelecting","defaultGenerator","StandardEvent","defaultTimeFormat","renderInnerContent$1","eventContentArg","innerProps","NowIndicatorContainer","isAxis","DAY_NUM_FORMAT","DayCellContainer","refineRenderProps","showDayNumber","hasCustomDayCellContent","dayNumberText","BgEvent","renderInnerContent","renderFill","fillType","WeekNumberContainer","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleRootEl","rootEl","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin","offsetParent","MorePopover","extraDateSpan","dayEl","layer","MoreLinkContainer","linkElRef","isPopoverOpen","popoverId","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","Store","currentValue","subscribe","CustomRenderingStore","handle","customRendering","updated","has","a$","aA","aB","aC","aD","aE","aF","aG","aH","aI","aJ","aK","aL","aM","aN","aO","aP","aQ","aR","aS","aT","aU","aV","aW","aX","aY","aZ","a_","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az","b$","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","bA","bB","bC","bD","bE","bF","bG","bH","bI","bJ","bK","bL","bM","bN","bO","bP","bQ","bR","bS","bT","bU","bV","bW","bX","bY","bZ","b_","ba","bb","bc","bd","be","bf","bh","bi","bj","bk","bl","bm","bo","bp","bq","br","bs","bt","bu","bv","bw","bx","by","bz","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","cc","cd","ce","cf","cg","ch","ci","cj","ck","cl","cm","co","cp","cq","cr","cs","ct","cu","cv","cw","cx","cy","cz","parseMarker","DayGridView","DayTableView","TableDateProfileGenerator","endOfWeek","dayGrid","dayGridDay","dayGridWeek","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","invisibleSegs","singlePlacements","isForcedInvisible","visibility","placement","DEFAULT_WEEK_NUM_FORMAT","TableCell","rootElRef","dayNumberId","renderTopInner","innerElRef","showWeekNumber","forceDayTop","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","singleColPlacements","multiColPlacements","leftoverMargins","placeRects","moreCnts","moreMarginTops","absoluteTop","resliceSeg","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","multiPlacements","isFirstCol","spanStart","spanEnd","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","nodes","leftRightCss","isExternalSizingChange","frameEls","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","placements","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","buildDayTableModel","headerContent","contentArg","API_BASE","parseGoogleCalendarId","googleCalendarApiKey","googleCalendarApiBase","apiKey","buildUrl","extraParamsObj","gcalItemsToRawEventDefs","items","decodeURIComponent","apiBase","encodeURIComponent","timeMin","timeMax","singleEvents","maxResults","gcalTimezone","gcalItemToRawEventDef","htmlLink","injectQsComponent","summary","dateTime","attachments","extendedProperties","shared","whole","qs","OPTION_REFINERS","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","node","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","getAttribute","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","Draggable","ListView","listDayFormat","createFalsableFormatter","listDaySideFormat","noEventsClassNames","noEventsContent","noEventsDidMount","noEventsWillUnmount","listDay","listWeek","listMonth","listYear","ListViewHeaderRow","textId","cellId","dayDate","sideText","sideNavLinkAttrs","DEFAULT_TIME_FORMAT","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","renderEventInnerContent","buildTimeContent","interactiveAttrs","doAllDay","renderAllDayInner","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","dayRanges","renderSegList","renderEmptyMessage","renderNoEventsInner","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","eventRangesToSegs","eventRangeToSegs","viewEnd","DayTimeColsView","allDaySlot","timeGrid","timeGridDay","timeGridWeek","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatCoverage","slatIndex","slatRemainder","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","minHeight","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","allThickness","thicknessFraction","endCoord","newChildren","newThickness","processNode","stackDepth","stackForward","processNodes","keyFunc","workFunc","cache","computeSegVCoords","colDate","vcoords","computeFgSegPlacements","segVCoords","dumbSegs","segRect","dumbSeg","TimeColEvent","isShort","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapDurationOverride","DayTimeColsSlicer","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","timeGridContent","EventEmitter","Directive","Output","HostListener","Injectable","PLATFORM_ID","Inject","ViewChild","Injector","i2","isPlatformBrowser","DOCUMENT","ColorFormats","Rgba","Hsva","Hsla","Cmyk","calculateAutoPositioning","elBounds","triggerElBounds","usePositionX","usePositionY","collisionTop","collisionBottom","collisionLeft","collisionRight","innerWidth","collisionAll","postions","detectIE","ua","navigator","userAgent","msie","TextDirective","newValue","inputChange","rg","emit","numeric","ɵdir","SliderDirective","dragEnd","dragStart","listenerMove","move","listenerStop","mouseDown","touchStart","setCursor","stopPropagation","getX","getY","rgX","rgY","SliderPosition","SliderDimension","ColorPickerService","active","setActive","cpDialogDisplay","closeDialog","hsva2hsla","hsva","hsla2hsva","hsla","hsvaToRgba","cmykToRgb","cmyk","rgbaToCmyk","rgba","rgbaToHsva","rgbaToHex","allowHex8","normalizeCMYK","denormalizeCMYK","denormalizeRGBA","stringToHsva","colorString","stringParsers","re","execResult","parser","outputFormat","alphaChannel","hslaText","ɵprov","SUPPORTS_TOUCH","ColorPickerComponent","ngZone","cdRef","platformId","service","isIE10","dialogArrowSize","dialogArrowOffset","dialogInputFields","HEX","RGBA","HSLA","CMYK","useRootViewContainer","eyeDropperSupported","defaultView","handleEsc","show","onCancelColor","handleEnter","onAcceptColor","slider","hueWidth","hueSlider","alphaWidth","alphaSlider","sliderDimMax","cpWidth","cpCmykEnabled","cpOutputFormat","listenerMouseDown","onMouseDown","listenerResize","onResize","openDialog","initialColor","updateColorPicker","detectChanges","directiveElementRef","setInitialColor","setColorFromString","openColorPicker","closeColorPicker","setupDialog","elementRef","cpHeight","cpFallbackColor","cpColorMode","cpAlphaChannel","cpDisableInput","cpIgnoredElements","cpSaveClickOutside","cpCloseClickOutside","cpUseRootViewContainer","cpPosition","cpPositionOffset","cpPositionRelativeToArrow","cpPresetLabel","cpPresetColors","cpPresetColorsClass","cpMaxPresetColorsLength","cpPresetEmptyMessage","cpPresetEmptyMessageClass","cpOKButton","cpOKButtonClass","cpOKButtonText","cpCancelButton","cpCancelButtonClass","cpCancelButtonText","cpAddColorButton","cpAddColorButtonClass","cpAddColorButtonText","cpRemoveColorButtonClass","cpEyeDropper","cpTriggerElement","cpExtraTemplate","setColorMode","directiveInstance","fallbackColor","setPresetConfig","mode","sliderH","setDialogPosition","onDragEnd","sliderDragEnd","outputColor","onDragStart","sliderDragStart","isDescendant","run","colorSelected","cmykChanged","cmykColor","colorChanged","colorCanceled","onEyeDropper","eyeDropper","EyeDropper","open","eyeDropperResult","sRGBHex","onFormatToggle","change","availableFormats","nextFormat","onColorChange","sliderChanged","onHueChange","onValueChange","onAlphaChange","onHexInput","validHex","valid","inputChanged","onRedInput","onBlueInput","onGreenInput","onHueInput","onValueInput","onAlphaInput","onLightnessInput","onSaturationInput","onCyanInput","onMagentaInput","onYellowInput","onBlackInput","onAddPresetColor","presetColorsChanged","onRemovePresetColor","hidden","stateChanged","runOutsideAngular","cmykInput","hue","lastOutput","rgbaText","cmykText","hexText","hexAlpha","hueSliderColor","alphaSliderColor","selectedColor","alpha","transformNode","dialogHeight","dialogElement","getPropertyValue","boxDirective","createDialogBox","HTMLUnknownElement","boxParent","usePosition","dialogBounds","windowInnerHeight","windowInnerWidth","elRefClientRect","cpArrowPosition","triggerBounds","arrowTop","cpUsePosition","child","NgZone","ChangeDetectorRef","NgForOf","NgIf","NgTemplateOutlet","NG_DEV_MODE","ngDevMode","ColorPickerDirective","injector","cfr","appRef","vcRef","_service","dialogCreated","ignoreChanges","viewAttachedToAppRef","cpToggle","cpDisabled","cpInputChange","cpToggleChange","cpSliderChange","cpSliderDragEnd","cpSliderDragStart","colorPickerOpen","colorPickerClose","colorPickerCancel","colorPickerSelect","colorPickerChange","cpCmykColorChange","cpPresetColorsChange","inputFocus","handleFocus","handleInput","cmpRef","detachView","hostView","dialog","ngOnChanges","changes","changeDetectorRef","classOfRootComponent","componentTypes","appInstance","NULL","viewContainerRef","compFactory","resolveComponentFactory","attachView","rootNodes","providers","createComponent","ignore","ignored","activeElement","ComponentFactoryResolver","ApplicationRef","ViewContainerRef"],"sourceRoot":"webpack:///","x_google_ignoreList":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]}